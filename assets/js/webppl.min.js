(function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){(function(n,r){"use strict";function i(t,i){function c(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function h(e,t){var n;return e&&e.charAt(0)==="."&&t&&(n=t.split("/"),n=n.slice(0,n.length-1),n=n.concat(e.split("/")),c(n),e=n.join("/")),e}function p(e){return function(t){return h(t,e)}}function d(e){function t(t){o[e]=t}return t.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},t}function v(e,n,s){var a,l,c,h;if(e)l=o[e]={},c={id:e,uri:r,exports:l},a=f(i,l,c,e);else{if(u)throw new Error("amdefine with no module ID cannot be called more than once per file.");u=!0,l=t.exports,c=t,a=f(i,l,c,t.id)}n&&(n=n.map(function(e){return a(e)})),typeof s=="function"?h=s.apply(c.exports,n):h=s,h!==undefined&&(c.exports=h,e&&(o[e]=c.exports))}function m(e,t,n){Array.isArray(e)?(n=t,t=e,e=undefined):typeof e!="string"&&(n=e,e=t=undefined),t&&!Array.isArray(t)&&(n=t,t=undefined),t||(t=["require","exports","module"]),e?s[e]=[e,t,n]:v(e,t,n)}var s={},o={},u=!1,a=e("path"),f,l;return f=function(e,t,r,i){function s(s,o){if(typeof s=="string")return l(e,t,r,s,i);s=s.map(function(n){return l(e,t,r,n,i)}),n.nextTick(function(){o.apply(null,s)})}return s.toUrl=function(e){return e.indexOf(".")===0?h(e,a.dirname(r.filename)):e},s},i=i||function(){return t.require.apply(t,arguments)},l=function(e,t,n,r,i){var u=r.indexOf("!"),a=r,c,m;if(u===-1){r=h(r,i);if(r==="require")return f(e,t,n,i);if(r==="exports")return t;if(r==="module")return n;if(o.hasOwnProperty(r))return o[r];if(s[r])return v.apply(null,s[r]),o[r];if(e)return e(a);throw new Error("No module with ID: "+r)}return c=r.substring(0,u),r=r.substring(u+1,r.length),m=l(e,t,n,c,i),m.normalize?r=m.normalize(r,p(i)):r=h(r,i),o[r]?o[r]:(m.load(r,f(e,t,n,i),d(r),{}),o[r])},m.require=function(e){if(o[e])return o[e];if(s[e])return v.apply(null,s[e]),o[e]},m.amd={},m}t.exports=i}).call(this,e("_process"),"/../webppl/node_modules/amdefine/amdefine.js")},{_process:122,path:121}],2:[function(e,t,n){var r=e("../lib/types"),i=r.Type,s=i.def,o=i.or,u=r.builtInTypes,a=u.string,f=u.number,l=u.boolean,c=u.RegExp,h=e("../lib/shared"),p=h.defaults,d=h.geq;s("Printable").field("loc",o(s("SourceLocation"),null),p["null"],!0),s("Node").bases("Printable").field("type",a).field("comments",o([s("Comment")],null),p["null"],!0),s("SourceLocation").build("start","end","source").field("start",s("Position")).field("end",s("Position")).field("source",o(a,null),p["null"]),s("Position").build("line","column").field("line",d(1)).field("column",d(0)),s("Program").bases("Node").build("body").field("body",[s("Statement")]),s("Function").bases("Node").field("id",o(s("Identifier"),null),p["null"]).field("params",[s("Pattern")]).field("body",s("BlockStatement")),s("Statement").bases("Node"),s("EmptyStatement").bases("Statement").build(),s("BlockStatement").bases("Statement").build("body").field("body",[s("Statement")]),s("ExpressionStatement").bases("Statement").build("expression").field("expression",s("Expression")),s("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",s("Expression")).field("consequent",s("Statement")).field("alternate",o(s("Statement"),null),p["null"]),s("LabeledStatement").bases("Statement").build("label","body").field("label",s("Identifier")).field("body",s("Statement")),s("BreakStatement").bases("Statement").build("label").field("label",o(s("Identifier"),null),p["null"]),s("ContinueStatement").bases("Statement").build("label").field("label",o(s("Identifier"),null),p["null"]),s("WithStatement").bases("Statement").build("object","body").field("object",s("Expression")).field("body",s("Statement")),s("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",s("Expression")).field("cases",[s("SwitchCase")]).field("lexical",l,p["false"]),s("ReturnStatement").bases("Statement").build("argument").field("argument",o(s("Expression"),null)),s("ThrowStatement").bases("Statement").build("argument").field("argument",s("Expression")),s("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",s("BlockStatement")).field("handler",o(s("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[s("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[s("CatchClause")],p.emptyArray).field("finalizer",o(s("BlockStatement"),null),p["null"]),s("CatchClause").bases("Node").build("param","guard","body").field("param",s("Pattern")).field("guard",o(s("Expression"),null),p["null"]).field("body",s("BlockStatement")),s("WhileStatement").bases("Statement").build("test","body").field("test",s("Expression")).field("body",s("Statement")),s("DoWhileStatement").bases("Statement").build("body","test").field("body",s("Statement")).field("test",s("Expression")),s("ForStatement").bases("Statement").build("init","test","update","body").field("init",o(s("VariableDeclaration"),s("Expression"),null)).field("test",o(s("Expression"),null)).field("update",o(s("Expression"),null)).field("body",s("Statement")),s("ForInStatement").bases("Statement").build("left","right","body","each").field("left",o(s("VariableDeclaration"),s("Expression"))).field("right",s("Expression")).field("body",s("Statement")).field("each",l),s("DebuggerStatement").bases("Statement").build(),s("Declaration").bases("Statement"),s("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",s("Identifier")),s("FunctionExpression").bases("Function","Expression").build("id","params","body"),s("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",o("var","let","const")).field("declarations",[o(s("VariableDeclarator"),s("Identifier"))]),s("VariableDeclarator").bases("Node").build("id","init").field("id",s("Pattern")).field("init",o(s("Expression"),null)),s("Expression").bases("Node","Pattern"),s("ThisExpression").bases("Expression").build(),s("ArrayExpression").bases("Expression").build("elements").field("elements",[o(s("Expression"),null)]),s("ObjectExpression").bases("Expression").build("properties").field("properties",[s("Property")]),s("Property").bases("Node").build("kind","key","value").field("kind",o("init","get","set")).field("key",o(s("Literal"),s("Identifier"))).field("value",o(s("Expression"),s("Pattern"))),s("SequenceExpression").bases("Expression").build("expressions").field("expressions",[s("Expression")]);var v=o("-","+","!","~","typeof","void","delete");s("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",v).field("argument",s("Expression")).field("prefix",l,p["true"]);var m=o("==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof","..");s("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",m).field("left",s("Expression")).field("right",s("Expression"));var g=o("=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&=");s("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",g).field("left",s("Pattern")).field("right",s("Expression"));var y=o("++","--");s("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",y).field("argument",s("Expression")).field("prefix",l);var b=o("||","&&");s("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",b).field("left",s("Expression")).field("right",s("Expression")),s("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",s("Expression")).field("consequent",s("Expression")).field("alternate",s("Expression")),s("NewExpression").bases("Expression").build("callee","arguments").field("callee",s("Expression")).field("arguments",[s("Expression")]),s("CallExpression").bases("Expression").build("callee","arguments").field("callee",s("Expression")).field("arguments",[s("Expression")]),s("MemberExpression").bases("Expression").build("object","property","computed").field("object",s("Expression")).field("property",o(s("Identifier"),s("Expression"))).field("computed",l,p["false"]),s("Pattern").bases("Node"),s("ObjectPattern").bases("Pattern").build("properties").field("properties",[o(s("PropertyPattern"),s("Property"))]),s("PropertyPattern").bases("Pattern").build("key","pattern").field("key",o(s("Literal"),s("Identifier"))).field("pattern",s("Pattern")),s("ArrayPattern").bases("Pattern").build("elements").field("elements",[o(s("Pattern"),null)]),s("SwitchCase").bases("Node").build("test","consequent").field("test",o(s("Expression"),null)).field("consequent",[s("Statement")]),s("Identifier").bases("Node","Expression","Pattern").build("name").field("name",a),s("Literal").bases("Node","Expression").build("value").field("value",o(a,l,null,f,c)).field("regex",o({pattern:a,flags:a},null),function(){if(!c.check(this.value))return null;var e="";return this.value.ignoreCase&&(e+="i"),this.value.multiline&&(e+="m"),this.value.global&&(e+="g"),{pattern:this.value.source,flags:e}}),s("Comment").bases("Printable").field("value",a).field("leading",l,p["true"]).field("trailing",l,p["false"]),s("Block").bases("Comment").build("value","leading","trailing"),s("Line").bases("Comment").build("value","leading","trailing")},{"../lib/shared":13,"../lib/types":14}],3:[function(e,t,n){e("./core");var r=e("../lib/types"),i=r.Type.def,s=r.Type.or,o=r.builtInTypes,u=o.string,a=o.boolean;i("XMLDefaultDeclaration").bases("Declaration").field("namespace",i("Expression")),i("XMLAnyName").bases("Expression"),i("XMLQualifiedIdentifier").bases("Expression").field("left",s(i("Identifier"),i("XMLAnyName"))).field("right",s(i("Identifier"),i("Expression"))).field("computed",a),i("XMLFunctionQualifiedIdentifier").bases("Expression").field("right",s(i("Identifier"),i("Expression"))).field("computed",a),i("XMLAttributeSelector").bases("Expression").field("attribute",i("Expression")),i("XMLFilterExpression").bases("Expression").field("left",i("Expression")).field("right",i("Expression")),i("XMLElement").bases("XML","Expression").field("contents",[i("XML")]),i("XMLList").bases("XML","Expression").field("contents",[i("XML")]),i("XML").bases("Node"),i("XMLEscape").bases("XML").field("expression",i("Expression")),i("XMLText").bases("XML").field("text",u),i("XMLStartTag").bases("XML").field("contents",[i("XML")]),i("XMLEndTag").bases("XML").field("contents",[i("XML")]),i("XMLPointTag").bases("XML").field("contents",[i("XML")]),i("XMLName").bases("XML").field("contents",s(u,[i("XML")])),i("XMLAttribute").bases("XML").field("value",u),i("XMLCdata").bases("XML").field("contents",u),i("XMLComment").bases("XML").field("contents",u),i("XMLProcessingInstruction").bases("XML").field("target",u).field("contents",s(u,null))},{"../lib/types":14,"./core":2}],4:[function(e,t,n){e("./core");var r=e("../lib/types"),i=r.Type.def,s=r.Type.or,o=r.builtInTypes,u=o.boolean,a=o.object,f=o.string,l=e("../lib/shared").defaults;i("Function").field("generator",u,l["false"]).field("expression",u,l["false"]).field("defaults",[s(i("Expression"),null)],l.emptyArray).field("rest",s(i("Identifier"),null),l["null"]),i("FunctionDeclaration").build("id","params","body","generator","expression"),i("FunctionExpression").build("id","params","body","generator","expression"),i("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,l["null"]).field("body",s(i("BlockStatement"),i("Expression"))).field("generator",!1,l["false"]),i("YieldExpression").bases("Expression").build("argument","delegate").field("argument",s(i("Expression"),null)).field("delegate",u,l["false"]),i("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",i("Expression")).field("blocks",[i("ComprehensionBlock")]).field("filter",s(i("Expression"),null)),i("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",i("Expression")).field("blocks",[i("ComprehensionBlock")]).field("filter",s(i("Expression"),null)),i("ComprehensionBlock").bases("Node").build("left","right","each").field("left",i("Pattern")).field("right",i("Expression")).field("each",u),i("ModuleSpecifier").bases("Literal").build("value").field("value",f),i("Property").field("key",s(i("Literal"),i("Identifier"),i("Expression"))).field("method",u,l["false"]).field("shorthand",u,l["false"]).field("computed",u,l["false"]),i("PropertyPattern").field("key",s(i("Literal"),i("Identifier"),i("Expression"))).field("computed",u,l["false"]),i("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",s("init","get","set","")).field("key",s(i("Literal"),i("Identifier"),i("Expression"))).field("value",i("Function")).field("computed",u,l["false"]).field("static",u,l["false"]),i("SpreadElement").bases("Node").build("argument").field("argument",i("Expression")),i("ArrayExpression").field("elements",[s(i("Expression"),i("SpreadElement"),null)]),i("NewExpression").field("arguments",[s(i("Expression"),i("SpreadElement"))]),i("CallExpression").field("arguments",[s(i("Expression"),i("SpreadElement"))]),i("SpreadElementPattern").bases("Pattern").build("argument").field("argument",i("Pattern")),i("ArrayPattern").field("elements",[s(i("Pattern"),null,i("SpreadElement"))]);var c=s(i("MethodDefinition"),i("VariableDeclarator"),i("ClassPropertyDefinition"),i("ClassProperty"));i("ClassProperty").bases("Declaration").build("key").field("key",s(i("Literal"),i("Identifier"),i("Expression"))).field("computed",u,l["false"]),i("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",c),i("ClassBody").bases("Declaration").build("body").field("body",[c]),i("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",s(i("Identifier"),null)).field("body",i("ClassBody")).field("superClass",s(i("Expression"),null),l["null"]),i("ClassExpression").bases("Expression").build("id","body","superClass").field("id",s(i("Identifier"),null),l["null"]).field("body",i("ClassBody")).field("superClass",s(i("Expression"),null),l["null"]).field("implements",[i("ClassImplements")],l.emptyArray),i("ClassImplements").bases("Node").build("id").field("id",i("Identifier")).field("superClass",s(i("Expression"),null),l["null"]),i("Specifier").bases("Node"),i("NamedSpecifier").bases("Specifier").field("id",i("Identifier")).field("name",s(i("Identifier"),null),l["null"]),i("ExportSpecifier").bases("NamedSpecifier").build("id","name"),i("ExportBatchSpecifier").bases("Specifier").build(),i("ImportSpecifier").bases("NamedSpecifier").build("id","name"),i("ImportNamespaceSpecifier").bases("Specifier").build("id").field("id",i("Identifier")),i("ImportDefaultSpecifier").bases("Specifier").build("id").field("id",i("Identifier")),i("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",u).field("declaration",s(i("Declaration"),i("Expression"),null)).field("specifiers",[s(i("ExportSpecifier"),i("ExportBatchSpecifier"))],l.emptyArray).field("source",s(i("Literal"),i("ModuleSpecifier"),null),l["null"]),i("ImportDeclaration").bases("Declaration").build("specifiers","source").field("specifiers",[s(i("ImportSpecifier"),i("ImportNamespaceSpecifier"),i("ImportDefaultSpecifier"))],l.emptyArray).field("source",s(i("Literal"),i("ModuleSpecifier"))),i("TaggedTemplateExpression").bases("Expression").field("tag",i("Expression")).field("quasi",i("TemplateLiteral")),i("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[i("TemplateElement")]).field("expressions",[i("Expression")]),i("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:f,raw:f}).field("tail",u)},{"../lib/shared":13,"../lib/types":14,"./core":2}],5:[function(e,t,n){e("./core");var r=e("../lib/types"),i=r.Type.def,s=r.Type.or,o=r.builtInTypes,u=o.boolean,a=e("../lib/shared").defaults;i("Function").field("async",u,a["false"]),i("SpreadProperty").bases("Node").build("argument").field("argument",i("Expression")),i("ObjectExpression").field("properties",[s(i("Property"),i("SpreadProperty"))]),i("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",i("Pattern")),i("ObjectPattern").field("properties",[s(i("PropertyPattern"),i("SpreadPropertyPattern"),i("Property"),i("SpreadProperty"))]),i("AwaitExpression").bases("Expression").build("argument","all").field("argument",s(i("Expression"),null)).field("all",u,a["false"])},{"../lib/shared":13,"../lib/types":14,"./core":2}],6:[function(e,t,n){e("./core");var r=e("../lib/types"),i=r.Type.def,s=r.Type.or,o=r.builtInTypes,u=o.string,a=o.boolean,f=e("../lib/shared").defaults;i("JSXAttribute").bases("Node").build("name","value").field("name",s(i("JSXIdentifier"),i("JSXNamespacedName"))).field("value",s(i("Literal"),i("JSXExpressionContainer"),null),f["null"]),i("JSXIdentifier").bases("Identifier").build("name").field("name",u),i("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",i("JSXIdentifier")).field("name",i("JSXIdentifier")),i("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",s(i("JSXIdentifier"),i("JSXMemberExpression"))).field("property",i("JSXIdentifier")).field("computed",a,f.false);var l=s(i("JSXIdentifier"),i("JSXNamespacedName"),i("JSXMemberExpression"));i("JSXSpreadAttribute").bases("Node").build("argument").field("argument",i("Expression"));var c=[s(i("JSXAttribute"),i("JSXSpreadAttribute"))];i("JSXExpressionContainer").bases("Expression").build("expression").field("expression",i("Expression")),i("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",i("JSXOpeningElement")).field("closingElement",s(i("JSXClosingElement"),null),f["null"]).field("children",[s(i("JSXElement"),i("JSXExpressionContainer"),i("JSXText"),i("Literal"))],f.emptyArray).field("name",l,function(){return this.openingElement.name}).field("selfClosing",a,function(){return this.openingElement.selfClosing}).field("attributes",c,function(){return this.openingElement.attributes}),i("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",l).field("attributes",c,f.emptyArray).field("selfClosing",a,f["false"]),i("JSXClosingElement").bases("Node").build("name").field("name",l),i("JSXText").bases("Literal").build("value").field("value",u),i("JSXEmptyExpression").bases("Expression").build(),i("Type").bases("Node"),i("AnyTypeAnnotation").bases("Type"),i("VoidTypeAnnotation").bases("Type"),i("NumberTypeAnnotation").bases("Type"),i("StringTypeAnnotation").bases("Type"),i("StringLiteralTypeAnnotation").bases("Type").build("value","raw").field("value",u).field("raw",u),i("BooleanTypeAnnotation").bases("Type"),i("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",i("Type")),i("NullableTypeAnnotation").bases("Type").build("typeAnnotation").field("typeAnnotation",i("Type")),i("FunctionTypeAnnotation").bases("Type").build("params","returnType","rest","typeParameters").field("params",[i("FunctionTypeParam")]).field("returnType",i("Type")).field("rest",s(i("FunctionTypeParam"),null)).field("typeParameters",s(i("TypeParameterDeclaration"),null)),i("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",i("Identifier")).field("typeAnnotation",i("Type")).field("optional",a),i("ArrayTypeAnnotation").bases("Type").build("elementType").field("elementType",i("Type")),i("ObjectTypeAnnotation").bases("Type").build("properties").field("properties",[i("ObjectTypeProperty")]).field("indexers",[i("ObjectTypeIndexer")],f.emptyArray).field("callProperties",[i("ObjectTypeCallProperty")],f.emptyArray),i("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",s(i("Literal"),i("Identifier"))).field("value",i("Type")).field("optional",a),i("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",i("Identifier")).field("key",i("Type")).field("value",i("Type")),i("ObjectTypeCallProperty").bases("Node").build("value").field("value",i("FunctionTypeAnnotation")).field("static",a,!1),i("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",s(i("Identifier"),i("QualifiedTypeIdentifier"))).field("id",i("Identifier")),i("GenericTypeAnnotation").bases("Type").build("id","typeParameters").field("id",s(i("Identifier"),i("QualifiedTypeIdentifier"))).field("typeParameters",s(i("TypeParameterInstantiation"),null)),i("MemberTypeAnnotation").bases("Type").build("object","property").field("object",i("Identifier")).field("property",s(i("MemberTypeAnnotation"),i("GenericTypeAnnotation"))),i("UnionTypeAnnotation").bases("Type").build("types").field("types",[i("Type")]),i("IntersectionTypeAnnotation").bases("Type").build("types").field("types",[i("Type")]),i("TypeofTypeAnnotation").bases("Type").build("argument").field("argument",i("Type")),i("Identifier").field("typeAnnotation",s(i("TypeAnnotation"),null),f["null"]),i("TypeParameterDeclaration").bases("Node").build("params").field("params",[i("Identifier")]),i("TypeParameterInstantiation").bases("Node").build("params").field("params",[i("Type")]),i("Function").field("returnType",s(i("TypeAnnotation"),null),f["null"]).field("typeParameters",s(i("TypeParameterDeclaration"),null),f["null"]),i("ClassProperty").build("key","typeAnnotation").field("typeAnnotation",i("TypeAnnotation")).field("static",a,!1),i("ClassImplements").field("typeParameters",s(i("TypeParameterInstantiation"),null),f["null"]),i("InterfaceDeclaration").bases("Statement").build("id","body","extends").field("id",i("Identifier")).field("typeParameters",s(i("TypeParameterDeclaration"),null),f["null"]).field("body",i("ObjectTypeAnnotation")).field("extends",[i("InterfaceExtends")]),i("InterfaceExtends").bases("Node").build("id").field("id",i("Identifier")).field("typeParameters",s(i("TypeParameterInstantiation"),null)),i("TypeAlias").bases("Statement").build("id","typeParameters","right").field("id",i("Identifier")).field("typeParameters",s(i("TypeParameterDeclaration"),null)).field("right",i("Type")),i("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",i("Expression")).field("typeAnnotation",i("TypeAnnotation")),i("TupleTypeAnnotation").bases("Type").build("types").field("types",[i("Type")]),i("DeclareVariable").bases("Statement").build("id").field("id",i("Identifier")),i("DeclareFunction").bases("Statement").build("id").field("id",i("Identifier")),i("DeclareClass").bases("InterfaceDeclaration").build("id"),i("DeclareModule").bases("Statement").build("id","body").field("id",s(i("Identifier"),i("Literal"))).field("body",i("BlockStatement"))},{"../lib/shared":13,"../lib/types":14,"./core":2}],7:[function(e,t,n){e("./core");var r=e("../lib/types"),i=r.Type.def,s=r.Type.or,o=e("../lib/shared").geq;i("Function").field("body",s(i("BlockStatement"),i("Expression"))),i("ForOfStatement").bases("Statement").build("left","right","body").field("left",s(i("VariableDeclaration"),i("Expression"))).field("right",i("Expression")).field("body",i("Statement")),i("LetStatement").bases("Statement").build("head","body").field("head",[i("VariableDeclarator")]).field("body",i("Statement")),i("LetExpression").bases("Expression").build("head","body").field("head",[i("VariableDeclarator")]).field("body",i("Expression")),i("GraphExpression").bases("Expression").build("index","expression").field("index",o(0)).field("expression",i("Literal")),i("GraphIndexExpression").bases("Expression").build("index").field("index",o(0))},{"../lib/shared":13,"../lib/types":14,"./core":2}],8:[function(e,t,n){function h(e,t,n){return u.check(n)?n.length=0:n=null,d(e,t,n)}function p(e){return/[_$a-z][_$a-z0-9]*/i.test(e)?"."+e:"["+JSON.stringify(e)+"]"}function d(e,t,n){return e===t?!0:u.check(e)?v(e,t,n):a.check(e)?m(e,t,n):f.check(e)?f.check(t)&&+e===+t:l.check(e)?l.check(t)&&e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.ignoreCase===t.ignoreCase:e==t}function v(e,t,n){u.assert(e);var i=e.length;if(!u.check(t)||t.length!==i)return n&&n.push("length"),!1;for(var s=0;s<i;++s){n&&n.push(s);if(s in e!=s in t)return!1;if(!d(e[s],t[s],n))return!1;n&&r.strictEqual(n.pop(),s)}return!0}function m(e,t,n){a.assert(e);if(!a.check(t))return!1;if(e.type!==t.type)return n&&n.push("type"),!1;var i=s(e),u=i.length,f=s(t),l=f.length;if(u===l){for(var h=0;h<u;++h){var p=i[h],v=o(e,p),m=o(t,p);n&&n.push(p);if(!d(v,m,n))return!1;n&&r.strictEqual(n.pop(),p)}return!0}if(!n)return!1;var g=Object.create(null);for(h=0;h<u;++h)g[i[h]]=!0;for(h=0;h<l;++h){p=f[h];if(!c.call(g,p))return n.push(p),!1;delete g[p]}for(p in g){n.push(p);break}return!1}var r=e("assert"),i=e("../main"),s=i.getFieldNames,o=i.getFieldValue,u=i.builtInTypes.array,a=i.builtInTypes.object,f=i.builtInTypes.Date,l=i.builtInTypes.RegExp,c=Object.prototype.hasOwnProperty;h.assert=function(e,t){var n=[];h(e,t,n)||(n.length===0?r.strictEqual(e,t):r.ok(!1,"Nodes differ in the following path: "+n.map(p).join("")))},t.exports=h},{"../main":15,assert:114}],9:[function(e,t,n){function c(e,t,n){r.ok(this instanceof c),f.call(this,e,t,n)}function p(e){return s.BinaryExpression.check(e)||s.LogicalExpression.check(e)}function d(e){return s.UnaryExpression.check(e)||s.SpreadElement&&s.SpreadElement.check(e)||s.SpreadProperty&&s.SpreadProperty.check(e)}function m(e){return s.CallExpression.check(e)?!0:a.check(e)?e.some(m):s.Node.check(e)?i.someField(e,function(e,t){return m(t)}):!1}function g(e){for(var t,n;e.parent;e=e.parent){t=e.node,n=e.parent.node;if(s.BlockStatement.check(n)&&e.parent.name==="body"&&e.name===0)return r.strictEqual(n.body[0],t),!0;if(s.ExpressionStatement.check(n)&&e.name==="expression")return r.strictEqual(n.expression,t),!0;if(s.SequenceExpression.check(n)&&e.parent.name==="expressions"&&e.name===0){r.strictEqual(n.expressions[0],t);continue}if(s.CallExpression.check(n)&&e.name==="callee"){r.strictEqual(n.callee,t);continue}if(s.MemberExpression.check(n)&&e.name==="object"){r.strictEqual(n.object,t);continue}if(s.ConditionalExpression.check(n)&&e.name==="test"){r.strictEqual(n.test,t);continue}if(p(n)&&e.name==="left"){r.strictEqual(n.left,t);continue}if(s.UnaryExpression.check(n)&&!n.prefix&&e.name==="argument"){r.strictEqual(n.argument,t);continue}return!1}return!0}function y(e){if(s.VariableDeclaration.check(e.node)){var t=e.get("declarations").value;if(!t||t.length===0)return e.prune()}else if(s.ExpressionStatement.check(e.node)){if(!e.get("expression").value)return e.prune()}else s.IfStatement.check(e.node)&&b(e);return e}function b(e){var t=e.get("test").value,n=e.get("alternate").value,r=e.get("consequent").value;if(!r&&!n){var i=o.expressionStatement(t);e.replace(i)}else if(!r&&n){var u=o.unaryExpression("!",t,!0);s.UnaryExpression.check(t)&&t.operator==="!"&&(u=t.argument),e.get("test").replace(u),e.get("consequent").replace(n),e.get("alternate").replace()}}var r=e("assert"),i=e("./types"),s=i.namedTypes,o=i.builders,u=i.builtInTypes.number,a=i.builtInTypes.array,f=e("./path"),l=e("./scope");e("util").inherits(c,f);var h=c.prototype;Object.defineProperties(h,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),h.replace=function(){return delete this.node,delete this.parent,delete this.scope,f.prototype.replace.apply(this,arguments)},h.prune=function(){var e=this.parent;return this.replace(),y(e)},h._computeNode=function(){var e=this.value;if(s.Node.check(e))return e;var t=this.parentPath;return t&&t.node||null},h._computeParent=function(){var e=this.value,t=this.parentPath;if(!s.Node.check(e)){while(t&&!s.Node.check(t.value))t=t.parentPath;t&&(t=t.parentPath)}while(t&&!s.Node.check(t.value))t=t.parentPath;return t||null},h._computeScope=function(){var e=this.value,t=this.parentPath,n=t&&t.scope;return s.Node.check(e)&&l.isEstablishedBy(e)&&(n=new l(this,n)),n||null},h.getValueProperty=function(e){return i.getFieldValue(this.value,e)},h.needsParens=function(e){var t=this.parentPath;if(!t)return!1;var n=this.value;if(!s.Expression.check(n))return!1;if(n.type==="Identifier")return!1;while(!s.Node.check(t.value)){t=t.parentPath;if(!t)return!1}var i=t.value;switch(n.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return i.type==="MemberExpression"&&this.name==="object"&&i.object===n;case"BinaryExpression":case"LogicalExpression":switch(i.type){case"CallExpression":return this.name==="callee"&&i.callee===n;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&i.object===n;case"BinaryExpression":case"LogicalExpression":var o=i.operator,t=v[o],a=n.operator,f=v[a];if(t>f)return!0;if(t===f&&this.name==="right")return r.strictEqual(i.right,n),!0;default:return!1};case"SequenceExpression":switch(i.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0};case"YieldExpression":switch(i.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1};case"Literal":return i.type==="MemberExpression"&&u.check(n.value)&&this.name==="object"&&i.object===n;case"AssignmentExpression":case"ConditionalExpression":switch(i.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&i.callee===n;case"ConditionalExpression":return this.name==="test"&&i.test===n;case"MemberExpression":return this.name==="object"&&i.object===n;default:return!1};default:if(i.type==="NewExpression"&&this.name==="callee"&&i.callee===n)return m(n)}return e!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement()?!0:!1};var v={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(e,t){e.forEach(function(e){v[e]=t})}),h.canBeFirstInStatement=function(){var e=this.node;return!s.FunctionExpression.check(e)&&!s.ObjectExpression.check(e)},h.firstInStatement=function(){return g(this)},t.exports=c},{"./path":11,"./scope":12,"./types":14,assert:114,util:124}],10:[function(e,t,n){function h(){r.ok(this instanceof h),this._reusableContextStack=[],this._methodNameTable=p(this),this._shouldVisitComments=l.call(this._methodNameTable,"Block")||l.call(this._methodNameTable,"Line"),this.Context=y(this),this._visiting=!1,this._changeReported=!1}function p(e){var t=Object.create(null);for(var n in e)/^visit[A-Z]/.test(n)&&(t[n.slice("visit".length)]=!0);var r=i.computeSupertypeLookupTable(t),s=Object.create(null),t=Object.keys(r),o=t.length;for(var u=0;u<o;++u){var a=t[u];n="visit"+r[a],f.check(e[n])&&(s[a]=n)}return s}function d(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);return e}function g(e,t){r.ok(e instanceof s),r.ok(t instanceof h);var n=e.value;if(u.check(n))e.each(t.visitWithoutReset,t);else if(!!a.check(n)){var o=i.getFieldNames(n);t._shouldVisitComments&&n.comments&&o.indexOf("comments")<0&&o.push("comments");var f=o.length,c=[];for(var p=0;p<f;++p){var d=o[p];l.call(n,d)||(n[d]=i.getFieldValue(n,d)),c.push(e.get(d))}for(var p=0;p<f;++p)t.visitWithoutReset(c[p])}return e.value}function y(e){function t(n){r.ok(this instanceof t),r.ok(this instanceof h),r.ok(n instanceof s),Object.defineProperty(this,"visitor",{value:e,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=n,this.needToCallTraverse=!0,Object.seal(this)}r.ok(e instanceof h);var n=t.prototype=Object.create(e);return n.constructor=t,d(n,b),t}var r=e("assert"),i=e("./types"),s=e("./node-path"),o=i.namedTypes.Printable,u=i.builtInTypes.array,a=i.builtInTypes.object,f=i.builtInTypes
.function,l=Object.prototype.hasOwnProperty,c;h.fromMethodsObject=function(t){function n(){r.ok(this instanceof n),h.call(this)}if(t instanceof h)return t;if(!a.check(t))return new h;var i=n.prototype=Object.create(v);return i.constructor=n,d(i,t),d(n,h),f.assert(n.fromMethodsObject),f.assert(n.visit),new n},h.visit=function(t,n){return h.fromMethodsObject(n).visit(t)};var v=h.prototype,m=["Recursively calling visitor.visit(path) resets visitor state.","Try this.visit(path) or this.traverse(path) instead."].join(" ");v.visit=function(){r.ok(!this._visiting,m),this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;var e=arguments.length,t=new Array(e);for(var n=0;n<e;++n)t[n]=arguments[n];t[0]instanceof s||(t[0]=(new s({root:t[0]})).get("root")),this.reset.apply(this,t);try{var i=this.visitWithoutReset(t[0]),o=!0}finally{this._visiting=!1;if(!o&&this._abortRequested)return t[0].value}return i},v.AbortRequest=function(){},v.abort=function(){var e=this;e._abortRequested=!0;var t=new e.AbortRequest;throw t.cancel=function(){e._abortRequested=!1},t},v.reset=function(e){},v.visitWithoutReset=function(e){if(this instanceof this.Context)return this.visitor.visitWithoutReset(e);r.ok(e instanceof s);var t=e.value,n=o.check(t)&&this._methodNameTable[t.type];if(!n)return g(e,this);var i=this.acquireContext(e);try{return i.invokeVisitorMethod(n)}finally{this.releaseContext(i)}},v.acquireContext=function(e){return this._reusableContextStack.length===0?new this.Context(e):this._reusableContextStack.pop().reset(e)},v.releaseContext=function(e){r.ok(e instanceof this.Context),this._reusableContextStack.push(e),e.currentPath=null},v.reportChanged=function(){this._changeReported=!0},v.wasChangeReported=function(){return this._changeReported};var b=Object.create(null);b.reset=function(t){return r.ok(this instanceof this.Context),r.ok(t instanceof s),this.currentPath=t,this.needToCallTraverse=!0,this},b.invokeVisitorMethod=function(t){r.ok(this instanceof this.Context),r.ok(this.currentPath instanceof s);var n=this.visitor[t].call(this,this.currentPath);n===!1?this.needToCallTraverse=!1:n!==c&&(this.currentPath=this.currentPath.replace(n)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),r.strictEqual(this.needToCallTraverse,!1,"Must either call this.traverse or return false in "+t);var i=this.currentPath;return i&&i.value},b.traverse=function(t,n){return r.ok(this instanceof this.Context),r.ok(t instanceof s),r.ok(this.currentPath instanceof s),this.needToCallTraverse=!1,g(t,h.fromMethodsObject(n||this.visitor))},b.visit=function(t,n){return r.ok(this instanceof this.Context),r.ok(t instanceof s),r.ok(this.currentPath instanceof s),this.needToCallTraverse=!1,h.fromMethodsObject(n||this.visitor).visitWithoutReset(t)},b.reportChanged=function(){this.visitor.reportChanged()},b.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},t.exports=h},{"./node-path":9,"./types":14,assert:114}],11:[function(e,t,n){function h(e,t,n){r.ok(this instanceof h),t?r.ok(t instanceof h):(t=null,n=null),this.value=e,this.parentPath=t,this.name=n,this.__childCache=null}function d(e){return e.__childCache||(e.__childCache=Object.create(null))}function v(e,t){var n=d(e),r=e.getValueProperty(t),i=n[t];if(!s.call(n,t)||i.value!==r)i=n[t]=new e.constructor(r,e,t);return i}function m(){}function g(e,t,n,i){u.assert(e.value);if(t===0)return m;var o=e.value.length;if(o<1)return m;var f=arguments.length;f===2?(n=0,i=o):f===3?(n=Math.max(n,0),i=o):(n=Math.max(n,0),i=Math.min(i,o)),a.assert(n),a.assert(i);var l=Object.create(null),c=d(e);for(var h=n;h<i;++h)if(s.call(e.value,h)){var p=e.get(h);r.strictEqual(p.name,h);var v=h+t;p.name=v,l[v]=p,delete c[h]}return delete c.length,function(){for(var t in l){var n=l[t];r.strictEqual(n.name,+t),c[t]=n,e.value[t]=n.value}}}function y(e){r.ok(e instanceof h);var t=e.parentPath;if(!t)return e;var n=t.value,i=d(t);if(n[e.name]===e.value)i[e.name]=e;else if(u.check(n)){var s=n.indexOf(e.value);s>=0&&(i[e.name=s]=e)}else n[e.name]=e.value,i[e.name]=e;return r.strictEqual(n[e.name],e.value),r.strictEqual(e.parentPath.get(e.name),e),e}var r=e("assert"),i=Object.prototype,s=i.hasOwnProperty,o=e("./types"),u=o.builtInTypes.array,a=o.builtInTypes.number,f=Array.prototype,l=f.slice,c=f.map,p=h.prototype;p.getValueProperty=function(t){return this.value[t]},p.get=function(t){var n=this,r=arguments,i=r.length;for(var s=0;s<i;++s)n=v(n,r[s]);return n},p.each=function(t,n){var r=[],i=this.value.length,o=0;for(var o=0;o<i;++o)s.call(this.value,o)&&(r[o]=this.get(o));n=n||this;for(o=0;o<i;++o)s.call(r,o)&&t.call(n,r[o])},p.map=function(t,n){var r=[];return this.each(function(e){r.push(t.call(this,e))},n),r},p.filter=function(t,n){var r=[];return this.each(function(e){t.call(this,e)&&r.push(e)},n),r},p.shift=function(){var t=g(this,-1),n=this.value.shift();return t(),n},p.unshift=function(t){var n=g(this,arguments.length),r=this.value.unshift.apply(this.value,arguments);return n(),r},p.push=function(t){return u.assert(this.value),delete d(this).length,this.value.push.apply(this.value,arguments)},p.pop=function(){u.assert(this.value);var t=d(this);return delete t[this.value.length-1],delete t.length,this.value.pop()},p.insertAt=function(t,n){var r=arguments.length,i=g(this,r-1,t);if(i===m)return this;t=Math.max(t,0);for(var s=1;s<r;++s)this.value[t+s-1]=arguments[s];return i(),this},p.insertBefore=function(t){var n=this.parentPath,r=arguments.length,i=[this.name];for(var s=0;s<r;++s)i.push(arguments[s]);return n.insertAt.apply(n,i)},p.insertAfter=function(t){var n=this.parentPath,r=arguments.length,i=[this.name+1];for(var s=0;s<r;++s)i.push(arguments[s]);return n.insertAt.apply(n,i)},p.replace=function(t){var n=[],i=this.parentPath.value,s=d(this.parentPath),o=arguments.length;y(this);if(u.check(i)){var a=i.length,f=g(this.parentPath,o-1,this.name+1),l=[this.name,1];for(var c=0;c<o;++c)l.push(arguments[c]);var h=i.splice.apply(i,l);r.strictEqual(h[0],this.value),r.strictEqual(i.length,a-1+o),f();if(o===0)delete this.value,delete s[this.name],this.__childCache=null;else{r.strictEqual(i[this.name],t),this.value!==t&&(this.value=t,this.__childCache=null);for(c=0;c<o;++c)n.push(this.parentPath.get(this.name+c));r.strictEqual(n[0],this)}}else o===1?(this.value!==t&&(this.__childCache=null),this.value=i[this.name]=t,n.push(this)):o===0?(delete i[this.name],delete this.value,this.__childCache=null):r.ok(!1,"Could not replace path");return n},t.exports=h},{"./types":14,assert:114}],12:[function(e,t,n){function h(t,n){r.ok(this instanceof h),r.ok(t instanceof e("./node-path")),d.assert(t.value);var i;n?(r.ok(n instanceof h),i=n.depth+1):(n=null,i=0),Object.defineProperties(this,{path:{value:t},node:{value:t.value},isGlobal:{value:!n,enumerable:!0},depth:{value:i},parent:{value:n},bindings:{value:{}}})}function m(e,t){var n=e.value;d.assert(n),o.CatchClause.check(n)?b(e.get("param"),t):g(e,t)}function g(e,t){var n=e.value;e.parent&&o.FunctionExpression.check(e.parent.node)&&e.parent.node.id&&b(e.parent.get("id"),t),!n||(f.check(n)?e.each(function(e){y(e,t)}):o.Function.check(n)?(e.get("params").each(function(e){b(e,t)}),y(e.get("body"),t)):o.VariableDeclarator.check(n)?(b(e.get("id"),t),y(e.get("init"),t)):n.type==="ImportSpecifier"||n.type==="ImportNamespaceSpecifier"||n.type==="ImportDefaultSpecifier"?b(e.get(n.local?"local":n.name?"name":"id"),t):u.check(n)&&!a.check(n)&&i.eachField(n,function(n,i){var s=e.get(n);r.strictEqual(s.value,i),y(s,t)}))}function y(e,t){var n=e.value;if(!!n&&!a.check(n))if(o.FunctionDeclaration.check(n))b(e.get("id"),t);else if(o.ClassDeclaration&&o.ClassDeclaration.check(n))b(e.get("id"),t);else if(d.check(n)){if(o.CatchClause.check(n)){var r=n.param.name,i=l.call(t,r);g(e.get("body"),t),i||delete t[r]}}else g(e,t)}function b(e,t){var n=e.value;o.Pattern.assert(n),o.Identifier.check(n)?l.call(t,n.name)?t[n.name].push(e):t[n.name]=[e]:o.ObjectPattern&&o.ObjectPattern.check(n)?e.get("properties").each(function(e){var n=e.value;o.Pattern.check(n)?b(e,t):o.Property.check(n)?b(e.get("value"),t):o.SpreadProperty&&o.SpreadProperty.check(n)&&b(e.get("argument"),t)}):o.ArrayPattern&&o.ArrayPattern.check(n)?e.get("elements").each(function(e){var n=e.value;o.Pattern.check(n)?b(e,t):o.SpreadElement&&o.SpreadElement.check(n)&&b(e.get("argument"),t)}):o.PropertyPattern&&o.PropertyPattern.check(n)?b(e.get("pattern"),t):(o.SpreadElementPattern&&o.SpreadElementPattern.check(n)||o.SpreadPropertyPattern&&o.SpreadPropertyPattern.check(n))&&b(e.get("argument"),t)}var r=e("assert"),i=e("./types"),s=i.Type,o=i.namedTypes,u=o.Node,a=o.Expression,f=i.builtInTypes.array,l=Object.prototype.hasOwnProperty,c=i.builders,p=[o.Program,o.Function,o.CatchClause],d=s.or.apply(s,p);h.isEstablishedBy=function(e){return d.check(e)};var v=h.prototype;v.didScan=!1,v.declares=function(e){return this.scan(),l.call(this.bindings,e)},v.declareTemporary=function(e){e?r.ok(/^[a-z$_]/i.test(e),e):e="t$",e+=this.depth.toString(36)+"$",this.scan();var t=0;while(this.declares(e+t))++t;var n=e+t;return this.bindings[n]=i.builders.identifier(n)},v.injectTemporary=function(e,t){e||(e=this.declareTemporary());var n=this.path.get("body");return o.BlockStatement.check(n.value)&&(n=n.get("body")),n.unshift(c.variableDeclaration("var",[c.variableDeclarator(e,t||null)])),e},v.scan=function(e){if(e||!this.didScan){for(var t in this.bindings)delete this.bindings[t];m(this.path,this.bindings),this.didScan=!0}},v.getBindings=function(){return this.scan(),this.bindings},v.lookup=function(e){for(var t=this;t;t=t.parent)if(t.declares(e))break;return t},v.getGlobalScope=function(){var e=this;while(!e.isGlobal)e=e.parent;return e},t.exports=h},{"./node-path":9,"./types":14,assert:114}],13:[function(e,t,n){var r=e("../lib/types"),i=r.Type,s=r.builtInTypes,o=s.number;n.geq=function(e){return new i(function(t){return o.check(t)&&t>=e},o+" >= "+e)},n.defaults={"null":function(){return null},emptyArray:function(){return[]},"false":function(){return!1},"true":function(){return!0},"undefined":function(){}};var u=i.or(s.string,s.number,s.boolean,s.null,s.undefined);n.isPrimitive=new i(function(e){if(e===null)return!0;var t=typeof e;return t!=="object"&&t!=="function"},u.toString())},{"../lib/types":14}],14:[function(e,t,n){function p(e,t){var n=this;r.ok(n instanceof p,n),r.strictEqual(f.call(e),l,e+" is not a function");var i=f.call(t);r.ok(i===l||i===c,t+" is neither a function nor a string"),Object.defineProperties(n,{name:{value:t},check:{value:function(t,r){var i=e.call(n,t,r);return!i&&r&&f.call(r)===l&&r(n,t),i}}})}function v(e){return E.check(e)?"{"+Object.keys(e).map(function(t){return t+": "+e[t]}).join(", ")+"}":w.check(e)?"["+e.map(v).join(", ")+"]":JSON.stringify(e)}function g(e,t){var n=f.call(e);return Object.defineProperty(m,t,{enumerable:!0,value:new p(function(e){return f.call(e)===n},t)}),m[t]}function L(e,t){return e instanceof p?e:e instanceof _?e.type:w.check(e)?p.fromArray(e):E.check(e)?p.fromObject(e):b.check(e)?new p(e,t):new p(function(t){return t===e},k.check(t)?function(){return e+""}:t)}function A(e,t,n,i){var s=this;r.ok(s instanceof A),y.assert(e),t=L(t);var o={name:{value:e},type:{value:t},hidden:{value:!!i}};b.check(n)&&(o.defaultFn={value:n}),Object.defineProperties(s,o)}function _(e){var t=this;r.ok(t instanceof _),Object.defineProperties(t,{typeName:{value:e},baseNames:{value:[]},ownFields:{value:Object.create(null)},allSupertypes:{value:Object.create(null)},supertypeList:{value:[]},allFields:{value:Object.create(null)},fieldNames:{value:[]},type:{value:new p(function(e,n){return t.check(e,n)},e)}})}function B(e){return e.replace(/^[A-Z]+/,function(e){var t=e.length;switch(t){case 0:return"";case 1:return e.toLowerCase();default:return e.slice(0,t-1).toLowerCase()+e.charAt(t-1)}})}function F(e){var t=_.fromValue(e);return t?t.fieldNames.slice(0):("type"in e&&r.ok(!1,"did not recognize object of type "+JSON.stringify(e.type)),Object.keys(e))}function I(e,t){var n=_.fromValue(e);if(n){var r=n.allFields[t];if(r)return r.getValue(e)}return e[t]}function q(e,t){t.length=0,t.push(e);var n=Object.create(null);for(var i=0;i<t.length;++i){e=t[i];var s=M[e];r.strictEqual(s.finalized,!0),h.call(n,e)&&delete t[n[e]],n[e]=i,t.push.apply(t,s.baseNames)}for(var o=0,u=o,a=t.length;u<a;++u)h.call(t,u)&&(t[o++]=t[u]);t.length=o}function R(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}var r=e("assert"),i=Array.prototype,s=i.slice,o=i.map,u=i.forEach,a=Object.prototype,f=a.toString,l=f.call(function(){}),c=f.call(""),h=a.hasOwnProperty,d=p.prototype;n.Type=p,d.assert=function(e,t){if(!this.check(e,t)){var n=v(e);return r.ok(!1,n+" does not match type "+this),!1}return!0},d.toString=function(){var e=this.name;return y.check(e)?e:b.check(e)?e.call(this)+"":e+" type"};var m={};n.builtInTypes=m;var y=g("","string"),b=g(function(){},"function"),w=g([],"array"),E=g({},"object"),S=g(/./,"RegExp"),x=g(new Date,"Date"),T=g(3,"number"),N=g(!0,"boolean"),C=g(null,"null"),k=g(void 0,"undefined");p.or=function(){var e=[],t=arguments.length;for(var n=0;n<t;++n)e.push(L(arguments[n]));return new p(function(n,r){for(var i=0;i<t;++i)if(e[i].check(n,r))return!0;return!1},function(){return e.join(" | ")})},p.fromArray=function(e){return r.ok(w.check(e)),r.strictEqual(e.length,1,"only one element type is permitted for typed arrays"),L(e[0]).arrayOf()},d.arrayOf=function(){var e=this;return new p(function(t,n){return w.check(t)&&t.every(function(t){return e.check(t,n)})},function(){return"["+e+"]"})},p.fromObject=function(e){var t=Object.keys(e).map(function(t){return new A(t,e[t])});return new p(function(e,n){return E.check(e)&&t.every(function(t){return t.type.check(e[t.name],n)})},function(){return"{ "+t.join(", ")+" }"})};var O=A.prototype;O.toString=function(){return JSON.stringify(this.name)+": "+this.type},O.getValue=function(e){var t=e[this.name];return k.check(t)?(this.defaultFn&&(t=this.defaultFn.call(e)),t):t},p.def=function(e){return y.assert(e),h.call(M,e)?M[e]:M[e]=new _(e)};var M=Object.create(null);_.fromValue=function(e){if(e&&typeof e=="object"){var t=e.type;if(typeof t=="string"&&h.call(M,t)){var n=M[t];if(n.finalized)return n}}return null};var D=_.prototype;D.isSupertypeOf=function(e){if(e instanceof _)return r.strictEqual(this.finalized,!0),r.strictEqual(e.finalized,!0),h.call(e.allSupertypes,this.typeName);r.ok(!1,e+" is not a Def")},n.getSupertypeNames=function(e){r.ok(h.call(M,e));var t=M[e];return r.strictEqual(t.finalized,!0),t.supertypeList.slice(1)},n.computeSupertypeLookupTable=function(e){var t={},n=Object.keys(M),i=n.length;for(var s=0;s<i;++s){var o=n[s],u=M[o];r.strictEqual(u.finalized,!0);for(var a=0;a<u.supertypeList.length;++a){var f=u.supertypeList[a];if(h.call(e,f)){t[o]=f;break}}}return t},D.checkAllFields=function(e,t){function i(r){var i=n[r],s=i.type,o=i.getValue(e);return s.check(o,t)}var n=this.allFields;return r.strictEqual(this.finalized,!0),E.check(e)&&Object.keys(n).every(i)},D.check=function(e,t){r.strictEqual(this.finalized,!0,"prematurely checking unfinalized type "+this.typeName);if(!E.check(e))return!1;var n=_.fromValue(e);return n?t&&n===this?this.checkAllFields(e,t):this.isSupertypeOf(n)?t?n.checkAllFields(e,t)&&this.checkAllFields(e,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(e,t):!1},D.bases=function(){var e=this.baseNames;return r.strictEqual(this.finalized,!1),u.call(arguments,function(t){y.assert(t),e.indexOf(t)<0&&e.push(t)}),this},Object.defineProperty(D,"buildable",{value:!1});var P={};n.builders=P;var H={};n.defineMethod=function(e,t){var n=H[e];return k.check(t)?delete H[e]:(b.assert(t),Object.defineProperty(H,e,{enumerable:!0,configurable:!0,value:t})),n},D.build=function(){var e=this;return Object.defineProperty(e,"buildParams",{value:s.call(arguments),writable:!1,enumerable:!1,configurable:!0}),r.strictEqual(e.finalized,!1),y.arrayOf().assert(e.buildParams),e.buildable?e:(e.field("type",e.typeName,function(){return e.typeName}),Object.defineProperty(e,"buildable",{value:!0}),Object.defineProperty(P,B(e.typeName),{enumerable:!0,value:function(){function s(s,o){if(h.call(i,s))return;var u=e.allFields;r.ok(h.call(u,s),s);var a=u[s],f=a.type,l;if(T.check(o)&&o<n)l=t[o];else if(a.defaultFn)l=a.defaultFn.call(i);else{var c="no value or default function given for field "+JSON.stringify(s)+" of "+e.typeName+"("+e.buildParams.map(function(e){return u[e]}).join(", ")+")";r.ok(!1,c)}f.check(l)||r.ok(!1,v(l)+" does not match field "+a+" of type "+e.typeName),i[s]=l}var t=arguments,n=t.length,i=Object.create(H);return r.ok(e.finalized,"attempting to instantiate unfinalized type "+e.typeName),e.buildParams.forEach(function(e,t){s(e,t)}),Object.keys(e.allFields).forEach(function(e){s(e)}),r.strictEqual(i.type,e.typeName),i}}),e)},D.field=function(e,t,n,i){return r.strictEqual(this.finalized,!1),this.ownFields[e]=new A(e,t,n,i),this};var j={};n.namedTypes=j,n.getFieldNames=F,n.getFieldValue=I,n.eachField=function(e,t,n){F(e).forEach(function(n){t.call(this,n,I(e,n))},n)},n.someField=function(e,t,n){return F(e).some(function(n){return t.call(this,n,I(e,n))},n)},Object.defineProperty(D,"finalized",{value:!1}),D.finalize=function(){if(!this.finalized){var e=this.allFields,t=this.allSupertypes;this.baseNames.forEach(function(n){var r=M[n];r.finalize(),R(e,r.allFields),R(t,r.allSupertypes)}),R(e,this.ownFields),t[this.typeName]=this,this.fieldNames.length=0;for(var n in e)h.call(e,n)&&!e[n].hidden&&this.fieldNames.push(n);Object.defineProperty(j,this.typeName,{enumerable:!0,value:this.type}),Object.defineProperty(this,"finalized",{value:!0}),q(this.typeName,this.supertypeList)}},n.finalize=function(){Object.keys(M).forEach(function(e){M[e].finalize()})}},{assert:114}],15:[function(e,t,n){var r=e("./lib/types");e("./def/core"),e("./def/es6"),e("./def/es7"),e("./def/mozilla"),e("./def/e4x"),e("./def/fb-harmony"),r.finalize(),n.Type=r.Type,n.builtInTypes=r.builtInTypes,n.namedTypes=r.namedTypes,n.builders=r.builders,n.defineMethod=r.defineMethod,n.getFieldNames=r.getFieldNames,n.getFieldValue=r.getFieldValue,n.eachField=r.eachField,n.someField=r.someField,n.getSupertypeNames=r.getSupertypeNames,n.astNodesAreEquivalent=e("./lib/equiv"),n.finalize=r.finalize,n.NodePath=e("./lib/node-path"),n.PathVisitor=e("./lib/path-visitor"),n.visit=n.PathVisitor.visit},{"./def/core":2,"./def/e4x":3,"./def/es6":4,"./def/es7":5,"./def/fb-harmony":6,"./def/mozilla":7,"./lib/equiv":8,"./lib/node-path":9,"./lib/path-visitor":10,"./lib/types":14}],16:[function(e,t,n){(function(t){(function(){"use strict";function O(e){return St.Expression.hasOwnProperty(e.type)}function M(e){return St.Statement.hasOwnProperty(e.type)}function K(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Q(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)t&1&&(n+=e);return n}function G(e){return/[\r\n]/g.test(e)}function Y(e){var t=e.length;return t&&a.code.isLineTerminator(e.charCodeAt(t-1))}function Z(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function et(e,t){function i(e){return typeof e=="object"&&e instanceof Object&&!(e instanceof RegExp)}var n,r;for(n in t)t.hasOwnProperty(n)&&(r=t[n],i(r)?i(e[n])?et(e[n],r):e[n]=et({},r):e[n]=r);return e}function tt(e){var t,n,r,i,s;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(e<0||e===0&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0)return h?"null":p?"1e400":"1e+400";t=""+e;if(!p||t.length<3)return t;n=t.indexOf("."),!h&&t.charCodeAt(0)===48&&n===1&&(n=0,t=t.slice(1)),r=t,t=t.replace("e+","e"),i=0,(s=r.indexOf("e"))>0&&(i=+r.slice(s+1),r=r.slice(0,s)),n>=0&&(i-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),s=0;while(r.charCodeAt(r.length+s-1)===48)--s;return s!==0&&(i-=s,r=r.slice(0,s)),i!==0&&(r+="e"+i),(r.length<t.length||d&&e>1e12&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}function nt(e,t){return(e&-2)===8232?(t?"u":"\\u")+(e===8232?"2028":"2029"):e===10||e===13?(t?"":"\\")+(e===10?"n":"r"):String.fromCharCode(e)}function rt(e){var t,n,r,i,s,o,u,a;n=e.toString();if(e.source){t=n.match(/\/([^/]*)$/);if(!t)return n;r=t[1],n="",u=!1,a=!1;for(i=0,s=e.source.length;i<s;++i)o=e.source.charCodeAt(i),a?(n+=nt(o,a),a=!1):(u?o===93&&(u=!1):o===47?n+="\\":o===91&&(u=!0),n+=nt(o,a),a=o===92);return"/"+n+"/"+r}return n}function it(e,t){var n;return e===8?"\\b":e===12?"\\f":e===9?"\\t":(n=e.toString(16).toUpperCase(),h||e>255?"\\u"+"0000".slice(n.length)+n:e===0&&!a.code.isDecimalDigit(t)?"\\0":e===11?"\\x0B":"\\x"+"00".slice(n.length)+n)}function st(e){if(e===92)return"\\\\";if(e===10)return"\\n";if(e===13)return"\\r";if(e===8232)return"\\u2028";if(e===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function ot(e){var t,n,r,i;i=v==="double"?'"':"'";for(t=0,n=e.length;t<n;++t){r=e.charCodeAt(t);if(r===39){i='"';break}if(r===34){i="'";break}r===92&&++t}return i+e+i}function ut(e){var t="",n,r,i,s=0,o=0,u,f;for(n=0,r=e.length;n<r;++n){i=e.charCodeAt(n);if(i===39)++s;else if(i===34)++o;else if(i===47&&h)t+="\\";else{if(a.code.isLineTerminator(i)||i===92){t+=st(i);continue}if(h&&i<32||!(h||m||i>=32&&i<=126)){t+=it(i,e.charCodeAt(n+1));continue}}t+=String.fromCharCode(i)}u=!(v==="double"||v==="auto"&&o<s),f=u?"'":'"';if(u?!s:!o)return f+t+f;e=t,t=f;for(n=0,r=e.length;n<r;++n){i=e.charCodeAt(n);if(i===39&&u||i===34&&!u)t+="\\";t+=String.fromCharCode(i)}return t+f}function at(e){var t,n,r,i="";for(t=0,n=e.length;t<n;++t)r=e[t],i+=f(r)?at(r):r;return i}function ft(e,t){if(!N)return f(e)?at(e):e;if(t==null){if(e instanceof o)return e;t={}}return t.loc==null?new o(null,null,N,e,t.name||null):new o(t.loc.start.line,t.loc.start.column,N===!0?t.loc.source||null:N,e,t.name||null)}function lt(){return y?y:" "}function ct(e,t){var n,r,i,s;return n=ft(e).toString(),n.length===0?[t]:(r=ft(t).toString(),r.length===0?[e]:(i=n.charCodeAt(n.length-1),s=r.charCodeAt(0),(i===43||i===45)&&i===s||a.code.isIdentifierPart(i)&&a.code.isIdentifierPart(s)||i===47&&s===105?[e,lt(),t]:a.code.isWhiteSpace(i)||a.code.isLineTerminator(i)||a.code.isWhiteSpace(s)||a.code.isLineTerminator(s)?[e,t]:[e,y,t]))}function ht(e){return[l,e]}function pt(e){var t;t=l,l+=c,e(l),l=t}function dt(e){var t;for(t=e.length-1;t>=0;--t)if(a.code.isLineTerminator(e.charCodeAt(t)))break;return e.length-1-t}function vt(e,t){var n,r,i,s,o,u,f,c;n=e.split(/\r\n|[\r\n]/),u=Number.MAX_VALUE;for(r=1,i=n.length;r<i;++r){s=n[r],o=0;while(o<s.length&&a.code.isWhiteSpace(s.charCodeAt(o)))++o;u>o&&(u=o)}typeof t!="undefined"?(f=l,n[1][u]==="*"&&(t+=" "),l=t):(u&1&&--u,f=l);for(r=1,i=n.length;r<i;++r)c=ft(ht(n[r].slice(u))),n[r]=N?c.join(""):c;return l=f,n.join("\n")}function mt(e,t){if(e.type==="Line"){if(Y(e.value))return"//"+e.value;var n="//"+e.value;return k||(n+="\n"),n}return x.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?vt("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function gt(e,t){var n,i,s,o,u,a,f,h,p,d,v,m,g,y;if(e.leadingComments&&e.leadingComments.length>0){o=t;if(k){s=e.leadingComments[0],t=[],h=s.extendedRange,p=s.range,v=C.substring(h[0],p[0]),y=(v.match(/\n/g)||[]).length,y>0?(t.push(Q("\n",y)),t.push(ht(mt(s)))):(t.push(v),t.push(mt(s))),d=p;for(n=1,i=e.leadingComments.length;n<i;n++)s=e.leadingComments[n],p=s.range,m=C.substring(d[1],p[0]),y=(m.match(/\n/g)||[]).length,t.push(Q("\n",y)),t.push(ht(mt(s))),d=p;g=C.substring(p[1],h[1]),y=(g.match(/\n/g)||[]).length,t.push(Q("\n",y))}else{s=e.leadingComments[0],t=[],E&&e.type===r.Program&&e.body.length===0&&t.push("\n"),t.push(mt(s)),Y(ft(t).toString())||t.push("\n");for(n=1,i=e.leadingComments.length;n<i;++n)s=e.leadingComments[n],f=[mt(s)],Y(ft(f).toString())||f.push("\n"),t.push(ht(f))}t.push(ht(o))}if(e.trailingComments)if(k)s=e.trailingComments[0],h=s.extendedRange,p=s.range,v=C.substring(h[0],p[0]),y=(v.match(/\n/g)||[]).length,y>0?(t.push(Q("\n",y)),t.push(ht(mt(s)))):(t.push(v),t.push(mt(s)));else{u=!Y(ft(t).toString()),a=Q(" ",dt(ft([l,t,c]).toString()));for(n=0,i=e.trailingComments.length;n<i;++n)s=e.trailingComments[n],u?(n===0?t=[t,c]:t=[t,a],t.push(mt(s,a))):t=[t,ht(mt(s))],n!==i-1&&!Y(ft(t).toString())&&(t=[t,"\n"])}return t}function yt(e,t,n){var r,i=0;for(r=e;r<t;r++)C[r]==="\n"&&i++;for(r=1;r<i;r++)n.push(g)}function bt(e,t,n){return t<n?["(",e,")"]:e}function wt(e){var t,n,r;r=e.split(/\r\n|\n/);for(t=1,n=r.length;t<n;t++)r[t]=g+l+r[t];return r}function Et(e,t){var n,r,s;return n=e[x.verbatim],typeof n=="string"?r=bt(wt(n),i.Sequence,t):(r=wt(n.content),s=n.precedence!=null?n.precedence:i.Sequence,r=bt(r,s,t)),ft(r,e)}function St(){}function xt(e){return ft(e.name,e)}function Tt(e,t){return e.async?"async"+(t?lt():y):""}function Nt(e){var t=e.generator&&!x.moz.starlessGenerator;return t?"*"+y:""}function Ct(e){var t=e.value;return t.async?Tt(t,!e.computed):Nt(t)?"*":""}function kt(e){var t;t=new St;if(M(e))return t.generateStatement(e,W);if(O(e))return t.generateExpression(e,i.Sequence,q);throw new Error("Unknown node type: "+e.type)}function Lt(r,i){var s=K(),u,a;return i!=null?(typeof i.indent=="string"&&(s.format.indent.style=i.indent),typeof i.base=="number"&&(s.format.indent.base=i.base),i=et(s,i),c=i.format.indent.style,typeof i.base=="string"?l=i.base:l=Q(c,i.format.indent.base)):(i=s,c=i.format.indent.style,l=Q(c,i.format.indent.base)),h=i.format.json,p=i.format.renumber,d=h?!1:i.format.hexadecimal,v=h?"double":i.format.quotes,m=i.format.escapeless,g=i.format.newline,y=i.format.space,i.format.compact&&(g=y=c=l=""),b=i.format.parentheses,w=i.format.semicolons,E=i.format.safeConcatenation,S=i.directive,T=h?null:i.parse,N=i.sourceMap,C=i.sourceCode,k=i.format.preserveBlankLines&&C!==null,x=i,N&&(n.browser?o=t.sourceMap.SourceNode:o=e("source-map").SourceNode),u=kt(r),N?(a=u.toStringWithSourceMap({file:i.file,sourceRoot:i.sourceMapRoot}),i.sourceContent&&a.map.setSourceContent(i.sourceMap,i.sourceContent),i.sourceMapWithCode?a:a.map.toString()):(a={code:u.toString(),map:null},i.sourceMapWithCode?a:a.code)}var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A;u=e("estraverse"),a=e("esutils"),r=u.Syntax,i={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},s={"||":i.LogicalOR,"&&":i.LogicalAND,"|":i.BitwiseOR,"^":i.BitwiseXOR,"&":i.BitwiseAND,"==":i.Equality,"!=":i.Equality,"===":i.Equality,"!==":i.Equality,is:i.Equality,isnt:i.Equality,"<":i.Relational,">":i.Relational,"<=":i.Relational,">=":i.Relational,"in":i.Relational,"instanceof":i.Relational,"<<":i.BitwiseSHIFT,">>":i.BitwiseSHIFT,">>>":i.BitwiseSHIFT,"+":i.Additive,"-":i.Additive,"*":i.Multiplicative,"%":i.Multiplicative,"/":i.Multiplicative};var _=1,D=2,P=4,H=8,B=16,j=32,F=D|P,I=_|D,q=_|D|P,R=_,U=P,z=_|P,W=_,X=_|j,V=0,$=_|B,J=_|H;f=Array.isArray,f||(f=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),St.prototype.maybeBlock=function(e,t){var n,i,s=this;return i=!x.comment||!e.leadingComments,e.type===r.BlockStatement&&i?[y,this.generateStatement(e,t)]:e.type===r.EmptyStatement&&i?";":(pt(function(){n=[g,ht(s.generateStatement(e,t))]}),n)},St.prototype.maybeBlockSuffix=function(e,t){var n=Y(ft(t).toString());return e.type===r.BlockStatement&&(!x.comment||!e.leadingComments)&&!n?[t,y]:n?[t,l]:[t,g,l]},St.prototype.generatePattern=function(e,t,n){return e.type===r.Identifier?xt(e):this.generateExpression(e,t,n)},St.prototype.generateFunctionParams=function(e){var t,n,s,o;o=!1;if(e.type===r.ArrowFunctionExpression&&!e.rest&&(!e.defaults||e.defaults.length===0)&&e.params.length===1&&e.params[0].type===r.Identifier)s=[Tt(e,!0),xt(e.params[0])];else{s=e.type===r.ArrowFunctionExpression?[Tt(e,!1)]:[],s.push("("),e.defaults&&(o=!0);for(t=0,n=e.params.length;t<n;++t)o&&e.defaults[t]?s.push(this.generateAssignment(e.params[t],e.defaults[t],"=",i.Assignment,q)):s.push(this.generatePattern(e.params[t],i.Assignment,q)),t+1<n&&s.push(","+y);e.rest&&(e.params.length&&s.push(","+y),s.push("..."),s.push(xt(e.rest))),s.push(")")}return s},St.prototype.generateFunctionBody=function(e){var t,n;return t=this.generateFunctionParams(e),e.type===r.ArrowFunctionExpression&&(t.push(y),t.push("=>")),e.expression?(t.push(y),n=this.generateExpression(e.body,i.Assignment,q),n.toString().charAt(0)==="{"&&(n=["(",n,")"]),t.push(n)):t.push(this.maybeBlock(e.body,J)),t},St.prototype.generateIterationForStatement=function(e,t,n){var s=["for"+y+"("],o=this;return pt(function(){t.left.type===r.VariableDeclaration?pt(function(){s.push(t.left.kind+lt()),s.push(o.generateStatement(t.left.declarations[0],V))}):s.push(o.generateExpression(t.left,i.Call,q)),s=ct(s,e),s=[ct(s,o.generateExpression(t.right,i.Sequence,q)),")"]}),s.push(this.maybeBlock(t.body,n)),s},St.prototype.generatePropertyKey=function(e,t){var n=[];return t&&n.push("["),n.push(this.generateExpression(e,i.Sequence,q)),t&&n.push("]"),n},St.prototype.generateAssignment=function(e,t,n,r,s){return i.Assignment<r&&(s|=_),bt([this.generateExpression(e,i.Call,s),y+n+y,this.generateExpression(t,i.Assignment,s)],i.Assignment,r)},St.prototype.semicolon=function(e){return!w&&e&j?"":";"},St.Statement={BlockStatement:function(e,t){var n,r,i=["{",g],s=this;return pt(function(){e.body.length===0&&k&&(n=e.range,n[1]-n[0]>2&&(r=C.substring(n[0]+1,n[1]-1),r[0]==="\n"&&(i=["{"]),i.push(r)));var o,u,a,f;f=W,t&H&&(f|=B);for(o=0,u=e.body.length;o<u;++o)k&&(o===0&&(e.body[0].leadingComments&&(n=e.body[0].leadingComments[0].extendedRange,r=C.substring(n[0],n[1]),r[0]==="\n"&&(i=["{"])),e.body[0].leadingComments||yt(e.range[0],e.body[0].range[0],i)),o>0&&!e.body[o-1].trailingComments&&!e.body[o].leadingComments&&yt(e.body[o-1].range[1],e.body[o].range[0],i)),o===u-1&&(f|=j),e.body[o].leadingComments&&k?a=s.generateStatement(e.body[o],f):a=ht(s.generateStatement(e.body[o],f)),i.push(a),Y(ft(a).toString())||(k&&o<u-1?e.body[o+1].leadingComments||i.push(g):i.push(g)),k&&o===u-1&&(e.body[o].trailingComments||yt(e.body[o].range[1],e.range[1],i))}),i.push(ht("}")),i},BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(e,t){var n=["{",g],r=this;return pt(function(t){var s,o;for(s=0,o=e.body.length;s<o;++s)n.push(t),n.push(r.generateExpression(e.body[s],i.Sequence,q)),s+1<o&&n.push(g)}),Y(ft(n).toString())||n.push(g),n.push(l),n.push("}"),n},ClassDeclaration:function(e,t){var n,r;return n=["class "+e.id.name],e.superClass&&(r=ct("extends",this.generateExpression(e.superClass,i.Assignment,q)),n=ct(n,r)),n.push(y),n.push(this.generateStatement(e.body,X)),n},DirectiveStatement:function(e,t){return x.raw&&e.raw?e.raw+this.semicolon(t):ot(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,t){var n=ct("do",this.maybeBlock(e.body,W));return n=this.maybeBlockSuffix(e.body,n),ct(n,["while"+y+"(",this.generateExpression(e.test,i.Sequence,q),")"+this.semicolon(t)])},CatchClause:function(e,t){var n,r=this;return pt(function(){var t;n=["catch"+y+"(",r.generateExpression(e.param,i.Sequence,q),")"],e.guard&&(t=r.generateExpression(e.guard,i.Sequence,q),n.splice(2,0," if ",t))}),n.push(this.maybeBlock(e.body,W)),n},DebuggerStatement:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){return";"},ExportDeclaration:function(e,t){var n=["export"],s,o=this;return s=t&j?X:W,e["default"]?(n=ct(n,"default"),M(e.declaration)?n=ct(n,this.generateStatement(e.declaration,s)):n=ct(n,this.generateExpression(e.declaration,i.Assignment,q)+this.semicolon(t)),n):e.declaration?ct(n,this.generateStatement(e.declaration,s)):(e.specifiers&&(e.specifiers.length===0?n=ct(n,"{"+y+"}"):e.specifiers[0].type===r.ExportBatchSpecifier?n=ct(n,this.generateExpression(e.specifiers[0],i.Sequence,q)):(n=ct(n,"{"),pt(function(t){var r,s;n.push(g);for(r=0,s=e.specifiers.length;r<s;++r)n.push(t),n.push(o.generateExpression(e.specifiers[r],i.Sequence,q)),r+1<s&&n.push(","+g)}),Y(ft(n).toString())||n.push(g),n.push(l+"}")),e.source?n=ct(n,["from"+y,this.generateExpression(e.source,i.Sequence,q),this.semicolon(t)]):n.push(this.semicolon(t))),n)},ExpressionStatement
:function(e,t){function o(e){var t;return e.slice(0,5)!=="class"?!1:(t=e.charCodeAt(5),t===123||a.code.isWhiteSpace(t)||a.code.isLineTerminator(t))}function u(e){var t;return e.slice(0,8)!=="function"?!1:(t=e.charCodeAt(8),t===40||a.code.isWhiteSpace(t)||t===42||a.code.isLineTerminator(t))}function f(e){var t,n,r;if(e.slice(0,5)!=="async")return!1;if(!a.code.isWhiteSpace(e.charCodeAt(5)))return!1;for(n=6,r=e.length;n<r;++n)if(!a.code.isWhiteSpace(e.charCodeAt(n)))break;return n===r?!1:e.slice(n,n+8)!=="function"?!1:(t=e.charCodeAt(n+8),t===40||a.code.isWhiteSpace(t)||t===42||a.code.isLineTerminator(t))}var n,s;return n=[this.generateExpression(e.expression,i.Sequence,q)],s=ft(n).toString(),s.charCodeAt(0)===123||o(s)||u(s)||f(s)||S&&t&B&&e.expression.type===r.Literal&&typeof e.expression.value=="string"?n=["(",n,")"+this.semicolon(t)]:n.push(this.semicolon(t)),n},ImportDeclaration:function(e,t){var n,s,o=this;return e.specifiers.length===0?["import",y,this.generateExpression(e.source,i.Sequence,q),this.semicolon(t)]:(n=["import"],s=0,e.specifiers[s].type===r.ImportDefaultSpecifier&&(n=ct(n,[this.generateExpression(e.specifiers[s],i.Sequence,q)]),++s),e.specifiers[s]&&(s!==0&&n.push(","),e.specifiers[s].type===r.ImportNamespaceSpecifier?n=ct(n,[y,this.generateExpression(e.specifiers[s],i.Sequence,q)]):(n.push(y+"{"),e.specifiers.length-s===1?(n.push(y),n.push(this.generateExpression(e.specifiers[s],i.Sequence,q)),n.push(y+"}"+y)):(pt(function(t){var r,u;n.push(g);for(r=s,u=e.specifiers.length;r<u;++r)n.push(t),n.push(o.generateExpression(e.specifiers[r],i.Sequence,q)),r+1<u&&n.push(","+g)}),Y(ft(n).toString())||n.push(g),n.push(l+"}"+y)))),n=ct(n,["from"+y,this.generateExpression(e.source,i.Sequence,q),this.semicolon(t)]),n)},VariableDeclarator:function(e,t){var n=t&_?q:F;return e.init?[this.generateExpression(e.id,i.Assignment,n),y,"=",y,this.generateExpression(e.init,i.Assignment,n)]:this.generatePattern(e.id,i.Assignment,n)},VariableDeclaration:function(e,t){function a(){s=e.declarations[0],x.comment&&s.leadingComments?(n.push("\n"),n.push(ht(u.generateStatement(s,o)))):(n.push(lt()),n.push(u.generateStatement(s,o)));for(r=1,i=e.declarations.length;r<i;++r)s=e.declarations[r],x.comment&&s.leadingComments?(n.push(","+g),n.push(ht(u.generateStatement(s,o)))):(n.push(","+y),n.push(u.generateStatement(s,o)))}var n,r,i,s,o,u=this;return n=[e.kind],o=t&_?W:V,e.declarations.length>1?pt(a):a(),n.push(this.semicolon(t)),n},ThrowStatement:function(e,t){return[ct("throw",this.generateExpression(e.argument,i.Sequence,q)),this.semicolon(t)]},TryStatement:function(e,t){var n,r,i,s;n=["try",this.maybeBlock(e.block,W)],n=this.maybeBlockSuffix(e.block,n);if(e.handlers)for(r=0,i=e.handlers.length;r<i;++r){n=ct(n,this.generateStatement(e.handlers[r],W));if(e.finalizer||r+1!==i)n=this.maybeBlockSuffix(e.handlers[r].body,n)}else{s=e.guardedHandlers||[];for(r=0,i=s.length;r<i;++r){n=ct(n,this.generateStatement(s[r],W));if(e.finalizer||r+1!==i)n=this.maybeBlockSuffix(s[r].body,n)}if(e.handler)if(f(e.handler))for(r=0,i=e.handler.length;r<i;++r){n=ct(n,this.generateStatement(e.handler[r],W));if(e.finalizer||r+1!==i)n=this.maybeBlockSuffix(e.handler[r].body,n)}else n=ct(n,this.generateStatement(e.handler,W)),e.finalizer&&(n=this.maybeBlockSuffix(e.handler.body,n))}return e.finalizer&&(n=ct(n,["finally",this.maybeBlock(e.finalizer,W)])),n},SwitchStatement:function(e,t){var n,r,s,o,u,a=this;pt(function(){n=["switch"+y+"(",a.generateExpression(e.discriminant,i.Sequence,q),")"+y+"{"+g]});if(e.cases){u=W;for(s=0,o=e.cases.length;s<o;++s)s===o-1&&(u|=j),r=ht(this.generateStatement(e.cases[s],u)),n.push(r),Y(ft(r).toString())||n.push(g)}return n.push(ht("}")),n},SwitchCase:function(e,t){var n,s,o,u,a,f=this;return pt(function(){e.test?n=[ct("case",f.generateExpression(e.test,i.Sequence,q)),":"]:n=["default:"],o=0,u=e.consequent.length,u&&e.consequent[0].type===r.BlockStatement&&(s=f.maybeBlock(e.consequent[0],W),n.push(s),o=1),o!==u&&!Y(ft(n).toString())&&n.push(g),a=W;for(;o<u;++o)o===u-1&&t&j&&(a|=j),s=ht(f.generateStatement(e.consequent[o],a)),n.push(s),o+1!==u&&!Y(ft(s).toString())&&n.push(g)}),n},IfStatement:function(e,t){var n,s,o,u=this;return pt(function(){n=["if"+y+"(",u.generateExpression(e.test,i.Sequence,q),")"]}),o=t&j,s=W,o&&(s|=j),e.alternate?(n.push(this.maybeBlock(e.consequent,W)),n=this.maybeBlockSuffix(e.consequent,n),e.alternate.type===r.IfStatement?n=ct(n,["else ",this.generateStatement(e.alternate,s)]):n=ct(n,ct("else",this.maybeBlock(e.alternate,s)))):n.push(this.maybeBlock(e.consequent,s)),n},ForStatement:function(e,t){var n,s=this;return pt(function(){n=["for"+y+"("],e.init?e.init.type===r.VariableDeclaration?n.push(s.generateStatement(e.init,V)):(n.push(s.generateExpression(e.init,i.Sequence,F)),n.push(";")):n.push(";"),e.test?(n.push(y),n.push(s.generateExpression(e.test,i.Sequence,q)),n.push(";")):n.push(";"),e.update?(n.push(y),n.push(s.generateExpression(e.update,i.Sequence,q)),n.push(")")):n.push(")")}),n.push(this.maybeBlock(e.body,t&j?X:W)),n},ForInStatement:function(e,t){return this.generateIterationForStatement("in",e,t&j?X:W)},ForOfStatement:function(e,t){return this.generateIterationForStatement("of",e,t&j?X:W)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock(e.body,t&j?X:W)]},Program:function(e,t){var n,r,i,s,o;s=e.body.length,n=[E&&s>0?"\n":""],o=$;for(i=0;i<s;++i)!E&&i===s-1&&(o|=j),k&&(i===0&&(e.body[0].leadingComments||yt(e.range[0],e.body[i].range[0],n)),i>0&&!e.body[i-1].trailingComments&&!e.body[i].leadingComments&&yt(e.body[i-1].range[1],e.body[i].range[0],n)),r=ht(this.generateStatement(e.body[i],o)),n.push(r),i+1<s&&!Y(ft(r).toString())&&(k?e.body[i+1].leadingComments||n.push(g):n.push(g)),k&&i===s-1&&(e.body[i].trailingComments||yt(e.body[i].range[1],e.range[1],n));return n},FunctionDeclaration:function(e,t){return[Tt(e,!0),"function",Nt(e)||lt(),xt(e.id),this.generateFunctionBody(e)]},ReturnStatement:function(e,t){return e.argument?[ct("return",this.generateExpression(e.argument,i.Sequence,q)),this.semicolon(t)]:["return"+this.semicolon(t)]},WhileStatement:function(e,t){var n,r=this;return pt(function(){n=["while"+y+"(",r.generateExpression(e.test,i.Sequence,q),")"]}),n.push(this.maybeBlock(e.body,t&j?X:W)),n},WithStatement:function(e,t){var n,r=this;return pt(function(){n=["with"+y+"(",r.generateExpression(e.object,i.Sequence,q),")"]}),n.push(this.maybeBlock(e.body,t&j?X:W)),n}},Z(St.prototype,St.Statement),St.Expression={SequenceExpression:function(e,t,n){var r,s,o;i.Sequence<t&&(n|=_),r=[];for(s=0,o=e.expressions.length;s<o;++s)r.push(this.generateExpression(e.expressions[s],i.Assignment,n)),s+1<o&&r.push(","+y);return bt(r,i.Sequence,t)},AssignmentExpression:function(e,t,n){return this.generateAssignment(e.left,e.right,e.operator,t,n)},ArrowFunctionExpression:function(e,t,n){return bt(this.generateFunctionBody(e),i.ArrowFunction,t)},ConditionalExpression:function(e,t,n){return i.Conditional<t&&(n|=_),bt([this.generateExpression(e.test,i.LogicalOR,n),y+"?"+y,this.generateExpression(e.consequent,i.Assignment,n),y+":"+y,this.generateExpression(e.alternate,i.Assignment,n)],i.Conditional,t)},LogicalExpression:function(e,t,n){return this.BinaryExpression(e,t,n)},BinaryExpression:function(e,t,n){var r,i,o,u;return i=s[e.operator],i<t&&(n|=_),o=this.generateExpression(e.left,i,n),u=o.toString(),u.charCodeAt(u.length-1)===47&&a.code.isIdentifierPart(e.operator.charCodeAt(0))?r=[o,lt(),e.operator]:r=ct(o,e.operator),o=this.generateExpression(e.right,i+1,n),e.operator==="/"&&o.toString().charAt(0)==="/"||e.operator.slice(-1)==="<"&&o.toString().slice(0,3)==="!--"?(r.push(lt()),r.push(o)):r=ct(r,o),e.operator==="in"&&!(n&_)?["(",r,")"]:bt(r,i,t)},CallExpression:function(e,t,n){var r,s,o;r=[this.generateExpression(e.callee,i.Call,I)],r.push("(");for(s=0,o=e.arguments.length;s<o;++s)r.push(this.generateExpression(e.arguments[s],i.Assignment,q)),s+1<o&&r.push(","+y);return r.push(")"),n&D?bt(r,i.Call,t):["(",r,")"]},NewExpression:function(e,t,n){var r,s,o,u,a;s=e.arguments.length,a=n&P&&!b&&s===0?z:R,r=ct("new",this.generateExpression(e.callee,i.New,a));if(!(n&P)||b||s>0){r.push("(");for(o=0,u=s;o<u;++o)r.push(this.generateExpression(e.arguments[o],i.Assignment,q)),o+1<u&&r.push(","+y);r.push(")")}return bt(r,i.New,t)},MemberExpression:function(e,t,n){var s,o;return s=[this.generateExpression(e.object,i.Call,n&D?I:R)],e.computed?(s.push("["),s.push(this.generateExpression(e.property,i.Sequence,n&D?q:z)),s.push("]")):(e.object.type===r.Literal&&typeof e.object.value=="number"&&(o=ft(s).toString(),o.indexOf(".")<0&&!/[eExX]/.test(o)&&a.code.isDecimalDigit(o.charCodeAt(o.length-1))&&!(o.length>=2&&o.charCodeAt(0)===48)&&s.push(".")),s.push("."),s.push(xt(e.property))),bt(s,i.Member,t)},UnaryExpression:function(e,t,n){var r,s,o,u,f;return s=this.generateExpression(e.argument,i.Unary,q),y===""?r=ct(e.operator,s):(r=[e.operator],e.operator.length>2?r=ct(r,s):(u=ft(r).toString(),f=u.charCodeAt(u.length-1),o=s.toString().charCodeAt(0),(f===43||f===45)&&f===o||a.code.isIdentifierPart(f)&&a.code.isIdentifierPart(o)?(r.push(lt()),r.push(s)):r.push(s))),bt(r,i.Unary,t)},YieldExpression:function(e,t,n){var r;return e.delegate?r="yield*":r="yield",e.argument&&(r=ct(r,this.generateExpression(e.argument,i.Yield,q))),bt(r,i.Yield,t)},AwaitExpression:function(e,t,n){var r=ct(e.delegate?"await*":"await",this.generateExpression(e.argument,i.Await,q));return bt(r,i.Await,t)},UpdateExpression:function(e,t,n){return e.prefix?bt([e.operator,this.generateExpression(e.argument,i.Unary,q)],i.Unary,t):bt([this.generateExpression(e.argument,i.Postfix,q),e.operator],i.Postfix,t)},FunctionExpression:function(e,t,n){var r=[Tt(e,!0),"function"];return e.id?(r.push(Nt(e)||lt()),r.push(xt(e.id))):r.push(Nt(e)||y),r.push(this.generateFunctionBody(e)),r},ExportBatchSpecifier:function(e,t,n){return"*"},ArrayPattern:function(e,t,n){return this.ArrayExpression(e,t,n)},ArrayExpression:function(e,t,n){var r,s,o=this;return e.elements.length?(s=e.elements.length>1,r=["[",s?g:""],pt(function(t){var n,u;for(n=0,u=e.elements.length;n<u;++n)e.elements[n]?(r.push(s?t:""),r.push(o.generateExpression(e.elements[n],i.Assignment,q))):(s&&r.push(t),n+1===u&&r.push(",")),n+1<u&&r.push(","+(s?g:y))}),s&&!Y(ft(r).toString())&&r.push(g),r.push(s?l:""),r.push("]"),r):"[]"},ClassExpression:function(e,t,n){var r,s;return r=["class"],e.id&&(r=ct(r,this.generateExpression(e.id,i.Sequence,q))),e.superClass&&(s=ct("extends",this.generateExpression(e.superClass,i.Assignment,q)),r=ct(r,s)),r.push(y),r.push(this.generateStatement(e.body,X)),r},MethodDefinition:function(e,t,n){var r,i;return e["static"]?r=["static"+y]:r=[],e.kind==="get"||e.kind==="set"?i=[ct(e.kind,this.generatePropertyKey(e.key,e.computed)),this.generateFunctionBody(e.value)]:i=[Ct(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)],ct(r,i)},Property:function(e,t,n){return e.kind==="get"||e.kind==="set"?[e.kind,lt(),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:e.shorthand?this.generatePropertyKey(e.key,e.computed):e.method?[Ct(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed),":"+y,this.generateExpression(e.value,i.Assignment,q)]},ObjectExpression:function(e,t,n){var r,s,o,u=this;return e.properties.length?(r=e.properties.length>1,pt(function(){o=u.generateExpression(e.properties[0],i.Sequence,q)}),!r&&!G(ft(o).toString())?["{",y,o,y,"}"]:(pt(function(t){var n,a;s=["{",g,t,o];if(r){s.push(","+g);for(n=1,a=e.properties.length;n<a;++n)s.push(t),s.push(u.generateExpression(e.properties[n],i.Sequence,q)),n+1<a&&s.push(","+g)}}),Y(ft(s).toString())||s.push(g),s.push(l),s.push("}"),s)):"{}"},ObjectPattern:function(e,t,n){var s,o,u,a,f,c=this;if(!e.properties.length)return"{}";a=!1;if(e.properties.length===1)f=e.properties[0],f.value.type!==r.Identifier&&(a=!0);else for(o=0,u=e.properties.length;o<u;++o){f=e.properties[o];if(!f.shorthand){a=!0;break}}return s=["{",a?g:""],pt(function(t){var n,r;for(n=0,r=e.properties.length;n<r;++n)s.push(a?t:""),s.push(c.generateExpression(e.properties[n],i.Sequence,q)),n+1<r&&s.push(","+(a?g:y))}),a&&!Y(ft(s).toString())&&s.push(g),s.push(a?l:""),s.push("}"),s},ThisExpression:function(e,t,n){return"this"},Identifier:function(e,t,n){return xt(e)},ImportDefaultSpecifier:function(e,t,n){return xt(e.id)},ImportNamespaceSpecifier:function(e,t,n){var r=["*"];return e.id&&r.push(y+"as"+lt()+xt(e.id)),r},ImportSpecifier:function(e,t,n){return this.ExportSpecifier(e,t,n)},ExportSpecifier:function(e,t,n){var r=[e.id.name];return e.name&&r.push(lt()+"as"+lt()+xt(e.name)),r},Literal:function(e,t,n){var i;if(e.hasOwnProperty("raw")&&T&&x.raw)try{i=T(e.raw).body[0].expression;if(i.type===r.Literal&&i.value===e.value)return e.raw}catch(s){}return e.value===null?"null":typeof e.value=="string"?ut(e.value):typeof e.value=="number"?tt(e.value):typeof e.value=="boolean"?e.value?"true":"false":rt(e.value)},GeneratorExpression:function(e,t,n){return this.ComprehensionExpression(e,t,n)},ComprehensionExpression:function(e,t,n){var s,o,u,a,f=this;return s=e.type===r.GeneratorExpression?["("]:["["],x.moz.comprehensionExpressionStartsWithAssignment&&(a=this.generateExpression(e.body,i.Assignment,q),s.push(a)),e.blocks&&pt(function(){for(o=0,u=e.blocks.length;o<u;++o)a=f.generateExpression(e.blocks[o],i.Sequence,q),o>0||x.moz.comprehensionExpressionStartsWithAssignment?s=ct(s,a):s.push(a)}),e.filter&&(s=ct(s,"if"+y),a=this.generateExpression(e.filter,i.Sequence,q),s=ct(s,["(",a,")"])),x.moz.comprehensionExpressionStartsWithAssignment||(a=this.generateExpression(e.body,i.Assignment,q),s=ct(s,a)),s.push(e.type===r.GeneratorExpression?")":"]"),s},ComprehensionBlock:function(e,t,n){var s;return e.left.type===r.VariableDeclaration?s=[e.left.kind,lt(),this.generateStatement(e.left.declarations[0],V)]:s=this.generateExpression(e.left,i.Call,q),s=ct(s,e.of?"of":"in"),s=ct(s,this.generateExpression(e.right,i.Sequence,q)),["for"+y+"(",s,")"]},SpreadElement:function(e,t,n){return["...",this.generateExpression(e.argument,i.Assignment,q)]},TaggedTemplateExpression:function(e,t,n){var r=I;n&D||(r=R);var s=[this.generateExpression(e.tag,i.Call,r),this.generateExpression(e.quasi,i.Primary,U)];return bt(s,i.TaggedTemplate,t)},TemplateElement:function(e,t,n){return e.value.raw},TemplateLiteral:function(e,t,n){var r,s,o;r=["`"];for(s=0,o=e.quasis.length;s<o;++s)r.push(this.generateExpression(e.quasis[s],i.Primary,q)),s+1<o&&(r.push("${"+y),r.push(this.generateExpression(e.expressions[s],i.Sequence,q)),r.push(y+"}"));return r.push("`"),r},ModuleSpecifier:function(e,t,n){return this.Literal(e,t,n)}},Z(St.prototype,St.Expression),St.prototype.generateExpression=function(e,t,n){var i,s;return s=e.type||r.Property,x.verbatim&&e.hasOwnProperty(x.verbatim)?Et(e,t):(i=this[s](e,t,n),x.comment&&(i=gt(e,i)),ft(i,e))},St.prototype.generateStatement=function(e,t){var n,i;return n=this[e.type](e,t),x.comment&&(n=gt(e,n)),i=ft(n).toString(),e.type===r.Program&&!E&&g===""&&i.charAt(i.length-1)==="\n"&&(n=N?ft(n).replaceRight(/\s+$/,""):i.replace(/\s+$/,"")),ft(n,e)},L={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},A=K().format,n.version=e("./package.json").version,n.generate=Lt,n.attachComments=u.attachComments,n.Precedence=et({},i),n.browser=!1,n.FORMAT_MINIFY=L,n.FORMAT_DEFAULTS=A})()}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./package.json":32,estraverse:17,esutils:21,"source-map":22}],17:[function(e,t,n){(function(e,t){"use strict";typeof define=="function"&&define.amd?define(["exports"],t):typeof n!="undefined"?t(n):t(e.estraverse={})})(this,function r(e){"use strict";function c(){}function h(e){var t={},n,r;for(n in e)e.hasOwnProperty(n)&&(r=e[n],typeof r=="object"&&r!==null?t[n]=h(r):t[n]=r);return t}function p(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function d(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?r=n:(i=s+1,r-=n+1);return i}function v(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?(i=s+1,r-=n+1):r=n;return i}function m(e,t){var n=u(t),r,i,s;for(i=0,s=n.length;i<s;i+=1)r=n[i],e[r]=t[r];return e}function g(e,t){this.parent=e,this.key=t}function y(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function b(){}function w(e){return e==null?!1:typeof e=="object"&&typeof e.type=="string"}function E(e,n){return(e===t.ObjectExpression||e===t.ObjectPattern)&&"properties"===n}function S(e,t){var n=new b;return n.traverse(e,t)}function x(e,t){var n=new b;return n.replace(e,t)}function T(e,t){var n;return n=d(t,function(n){return n.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function N(e,t,n){var r=[],s,o,u,a;if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(u=0,o=t.length;u<o;u+=1)s=h(t[u]),s.extendedRange=[0,e.range[0]],r.push(s);e.leadingComments=r}return e}for(u=0,o=t.length;u<o;u+=1)r.push(T(h(t[u]),n));return a=0,S(e,{enter:function(e){var t;while(a<r.length){t=r[a];if(t.extendedRange[1]>e.range[0])break;t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length)return i.Break;if(r[a].extendedRange[0]>e.range[1])return i.Skip}}),a=0,S(e,{leave:function(e){var t;while(a<r.length){t=r[a];if(e.range[1]<t.extendedRange[0])break;e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length)return i.Break;if(r[a].extendedRange[0]>e.range[1])return i.Skip}}),e}var t,n,i,s,o,u,a,f,l;return n=Array.isArray,n||(n=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),c(p),c(v),o=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),u=Object.keys||function(e){var t=[],n;for(n in e)t.push(n);return t},t={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportBatchSpecifier:[],ExportDeclaration:["declaration","specifiers","source"],ExportSpecifier:["id","name"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["id"],ImportNamespaceSpecifier:["id"],ImportSpecifier:["id","name"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},a={},f={},l={},i={Break:a,Skip:f,Remove:l},g.prototype.replace=function(t){this.parent[this.key]=t},g.prototype.remove=function(){return n(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},b.prototype.path=function(){function a(e,t){if(n(t))for(i=0,s=t.length;i<s;++i)e.push(t[i]);else e.push(t)}var t,r,i,s,o,u;if(!this.__current.path)return null;o=[];for(t=2,r=this.__leavelist.length;t<r;++t)u=this.__leavelist[t],a(o,u.path);return a(o,this.__current.path),o},b.prototype.type=function(){var e=this.current();return e.type||this.__current.wrap},b.prototype.parents=function(){var t,n,r;r=[];for(t=1,n=this.__leavelist.length;t<n;++t)r.push(this.__leavelist[t].node);return r},b.prototype.current=function(){return this.__current.node},b.prototype.__execute=function(t,n){var r,i;return i=undefined,r=this.__current,this.__current=n,this.__state=null,t&&(i=t.call(this,n.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,i},b.prototype.notify=function(t){this.__state=t},b.prototype.skip=function(){this.notify(f)},b.prototype["break"]=function(){this.notify(a)},b.prototype.remove=function(){this.notify(l)},b.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=t.fallback==="iteration",this.__keys=s,t.keys&&(this.__keys=m(o(this.__keys),t.keys))},b.prototype.traverse=function(t,r){var i,s,o,l,c,h,p,d,v,m,g,b;this.__initialize(t,r),b={},i=this.__worklist,s=this.__leavelist,i.push(new y(t,null,null,null)),s.push(new y(null,null,null,null));while(i.length){o=i.pop();if(o===b){o=s.pop(),h=this.__execute(r.leave,o);if(this.__state===a||h===a)return;continue}if(o.node){h=this.__execute(r.enter,o);if(this.__state===a||h===a)return;i.push(b),s.push(o);if(this.__state===f||h===f)continue;l=o.node,c=o.wrap||l.type,m=this.__keys[c];if(!m){if(!this.__fallback)throw new Error("Unknown node type "+c+".");m=u(l)}d=m.length;while((d-=1)>=0){p=m[d],g=l[p];if(!g)continue;if(n(g)){v=g.length;while((v-=1)>=0){if(!g[v])continue;if(E(c,m[d]))o=new y(g[v],[p,v],"Property",null);else{if(!w(g[v]))continue;o=new y(g[v],[p,v],null,null)}i.push(o)}}else w(g)&&i.push(new y(g,p,null,null))}}}},b.prototype.replace=function(t,r){function i(e){var t,n,r,i;if(e.ref.remove()){n=e.ref.key,i=e.ref.parent,t=s.length;while(t--){r=s[t];if(r.ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}}}var s,o,c,h,p,d,v,m,b,S,x,T,N;this.__initialize(t,r),x={},s=this.__worklist,o=this.__leavelist,T={root:t},d=new y(t,null,null,new g(T,"root")),s.push(d),o.push(d);while(s.length){d=s.pop();if(d===x){d=o.pop(),p=this.__execute(r.leave,d),p!==undefined&&p!==a&&p!==f&&p!==l&&d.ref.replace(p),(this.__state===l||p===l)&&i(d);if(this.__state===a||p===a)return T.root;continue}p=this.__execute(r.enter,d),p!==undefined&&p!==a&&p!==f&&p!==l&&(d.ref.replace(p),d.node=p);if(this.__state===l||p===l)i(d),d.node=null;if(this.__state===a||p===a)return T.root;c=d.node;if(!c)continue;s.push(x),o.push(d);if(this.__state===f||p===f)continue;h=d.wrap||c.type,b=this.__keys[h];if(!b){if(!this.__fallback)throw new Error("Unknown node type "+h+".");b=u(c)}v=b.length;while((v-=1)>=0){N=b[v],S=c[N];if(!S)continue;if(n(S)){m=S.length;while((m-=1)>=0){if(!S[m])continue;if(E(h,b[v]))d=new y(S[m],[N,m],"Property",new g(S,m));else{if(!w(S[m]))continue;d=new y(S[m],[N,m],null,new g(S,m))}s.push(d)}}else w(S)&&s.push(new y(S,N,null,new g(c,N)))}}return T.root},e.version="1.8.1-dev",e.Syntax=t,e.traverse=S,e.replace=x,e.attachComments=N,e.VisitorKeys=s,e.VisitorOption=i,e.Controller=b,e.cloneEnvironment=function(){return r({})},e})},{}],18:[function(e,t,n){(function(){"use strict";function e(e){if(e==null)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function n(e){if(e==null)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(e){if(e==null)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(e){return r(e)||e!=null&&e.type==="FunctionDeclaration"}function s(e){switch(e.type){case"IfStatement":if(e.alternate!=null)return e.alternate;return e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}function o(e){var t;if(e.type!=="IfStatement")return!1;if(e.alternate==null)return!1;t=e.consequent;do{if(t.type==="IfStatement"&&t.alternate==null)return!0;t=s(t)}while(t);return!1}t.exports={isExpression:e,isStatement:r,isIterationStatement:n,isSourceElement:i,isProblematicIfStatement:o,trailingStatement:s}})()},{}],19:[function(e,t,n){(function(){"use strict";function r(e){return e>=48&&e<=57}function i(e){return r(e)||97<=e&&e<=102||65<=e&&e<=70}function s(e){return e>=48&&e<=55}function o(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&n.indexOf(e)>=0}function u(e){return e===10||e===13||e===8232||e===8233}function a(t){return t>=97&&t<=122||t>=65&&t<=90||t===36||t===95||t===92||t>=128&&e.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function f(t){return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||t===36||t===95||t===92||t>=128&&e.NonAsciiIdentifierPart.test(String.fromCharCode(t))}var e,n;e={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},n=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],t.exports={isDecimalDigit:r,isHexDigit:i,isOctalDigit:s,isWhiteSpace:o,isLineTerminator:u,isIdentifierStart:a,isIdentifierPart:f}})()},{}],20:[function(e,t,n){(function(){"use strict";function r(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(e,t){return!t&&e==="yield"?!1:s(e,t)}function s(e,t){if(t&&r(e))return!0;switch(e.length){case 2:return e==="if"||e==="in"||e==="do";case 3:return e==="var"||e==="for"||e==="new"||e==="try";case 4:return e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum";case 5:return e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||e==="yield"||e==="class"||e==="super";case 6:return e==="return"||e==="typeof"||e==="delete"||e==="switch"||e==="export"||e==="import";case 7:return e==="default"||e==="finally"||e==="extends";case 8:return e==="function"||e==="continue"||e==="debugger";case 10:return e==="instanceof";default:return!1}}function o(e,t){return e==="null"||e==="true"||e==="false"||i(e,t)}function u(e,t){return e==="null"||e==="true"||e==="false"||s(e,t)}function a(e){return e==="eval"||e==="arguments"}function f(e){var t,r,i;if(e.length===0)return!1;i=e.charCodeAt(0);if(!n.isIdentifierStart(i)||i===92)return!1;for(t=1,r=e.length;t<r;++t){i=e.charCodeAt(t);if(!n.isIdentifierPart(i)||i===92)return!1}return!0}function l(e,t){return f(e)&&!o(e,t)}function c(e,t){return f(e)&&!u(e,t)}var n=e("./code");t.exports={isKeywordES5:i,isKeywordES6:s,isReservedWordES5:o,isReservedWordES6:u,isRestrictedWord:a,isIdentifierName:f,isIdentifierES5:l,isIdentifierES6:c}})()},{"./code":19}],21:[function(e,t,n){(function(){"use strict";n.ast=e("./ast"),n.code=e("./code"),n.keyword=e("./keyword")})()},{"./ast":18,"./code":19,"./keyword":20}],22:[function(e,t,n){n.SourceMapGenerator=
e("./source-map/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./source-map/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":28,"./source-map/source-map-generator":29,"./source-map/source-node":30}],23:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function i(){this._array=[],this._set={}}var r=e("./util");i.fromArray=function(t,n){var r=new i;for(var s=0,o=t.length;s<o;s++)r.add(t[s],n);return r},i.prototype.add=function(t,n){var i=this.has(t),s=this._array.length;(!i||n)&&this._array.push(t),i||(this._set[r.toSetString(t)]=s)},i.prototype.has=function(t){return Object.prototype.hasOwnProperty.call(this._set,r.toSetString(t))},i.prototype.indexOf=function(t){if(this.has(t))return this._set[r.toSetString(t)];throw new Error('"'+t+'" is not in the set.')},i.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i})},{"./util":31,amdefine:1}],24:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function a(e){return e<0?(-e<<1)+1:(e<<1)+0}function f(e){var t=(e&1)===1,n=e>>1;return t?-n:n}var r=e("./base64"),i=5,s=1<<i,o=s-1,u=s;t.encode=function(t){var n="",s,f=a(t);do s=f&o,f>>>=i,f>0&&(s|=u),n+=r.encode(s);while(f>0);return n},t.decode=function(t,n){var s=0,a=t.length,l=0,c=0,h,p;do{if(s>=a)throw new Error("Expected more digits in base 64 VLQ value.");p=r.decode(t.charAt(s++)),h=!!(p&u),p&=o,l+=p<<c,c+=i}while(h);n.value=f(l),n.rest=t.slice(s)}})},{"./base64":25,amdefine:1}],25:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){var r={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){r[e]=t,i[t]=e}),t.encode=function(t){if(t in i)return i[t];throw new TypeError("Must be between 0 and 63: "+t)},t.decode=function(t){if(t in r)return r[t];throw new TypeError("Not a valid base 64 digit: "+t)}})},{amdefine:1}],26:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function r(e,t,n,i,s){var o=Math.floor((t-e)/2)+e,u=s(n,i[o],!0);return u===0?o:u>0?t-o>1?r(o,t,n,i,s):o:o-e>1?r(e,o,n,i,s):e<0?-1:e}t.search=function(t,n,i){return n.length===0?-1:r(-1,n.length,t,n,i)}})},{amdefine:1}],27:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function i(e,t){var n=e.generatedLine,i=t.generatedLine,s=e.generatedColumn,o=t.generatedColumn;return i>n||i==n&&o>=s||r.compareByGeneratedPositions(e,t)<=0}function s(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var r=e("./util");s.prototype.unsortedForEach=function(t,n){this._array.forEach(t,n)},s.prototype.add=function(t){var n;i(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},s.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositions),this._sorted=!0),this._array},t.MappingList=s})},{"./util":31,amdefine:1}],28:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function u(e){var t=e;typeof e=="string"&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),o=r.getArg(t,"names",[]),u=r.getArg(t,"sourceRoot",null),a=r.getArg(t,"sourcesContent",null),f=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(r.normalize),this._names=s.fromArray(o,!0),this._sources=s.fromArray(i,!0),this.sourceRoot=u,this.sourcesContent=a,this._mappings=f,this.file=l}var r=e("./util"),i=e("./binary-search"),s=e("./array-set").ArraySet,o=e("./base64-vlq");u.fromSourceMap=function(t){var n=Object.create(u.prototype);return n._names=s.fromArray(t._names.toArray(),!0),n._sources=s.fromArray(t._sources.toArray(),!0),n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n.__generatedMappings=t._mappings.toArray().slice(),n.__originalMappings=t._mappings.toArray().slice().sort(r.compareByOriginalPositions),n},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return this.sourceRoot!=null?r.join(this.sourceRoot,e):e},this)}}),u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),u.prototype._nextCharIsMappingSeparator=function(t){var n=t.charAt(0);return n===";"||n===","},u.prototype._parseMappings=function(t,n){var i=1,s=0,u=0,a=0,f=0,l=0,c=t,h={},p;while(c.length>0)if(c.charAt(0)===";")i++,c=c.slice(1),s=0;else if(c.charAt(0)===",")c=c.slice(1);else{p={},p.generatedLine=i,o.decode(c,h),p.generatedColumn=s+h.value,s=p.generatedColumn,c=h.rest;if(c.length>0&&!this._nextCharIsMappingSeparator(c)){o.decode(c,h),p.source=this._sources.at(f+h.value),f+=h.value,c=h.rest;if(c.length===0||this._nextCharIsMappingSeparator(c))throw new Error("Found a source, but no line and column");o.decode(c,h),p.originalLine=u+h.value,u=p.originalLine,p.originalLine+=1,c=h.rest;if(c.length===0||this._nextCharIsMappingSeparator(c))throw new Error("Found a source and line, but no column");o.decode(c,h),p.originalColumn=a+h.value,a=p.originalColumn,c=h.rest,c.length>0&&!this._nextCharIsMappingSeparator(c)&&(o.decode(c,h),p.name=this._names.at(l+h.value),l+=h.value,c=h.rest)}this.__generatedMappings.push(p),typeof p.originalLine=="number"&&this.__originalMappings.push(p)}this.__generatedMappings.sort(r.compareByGeneratedPositions),this.__originalMappings.sort(r.compareByOriginalPositions)},u.prototype._findMapping=function(t,n,r,s,o){if(t[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[r]);if(t[s]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[s]);return i.search(t,n,o)},u.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var n=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var r=this._generatedMappings[t+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=Infinity}},u.prototype.originalPositionFor=function(t){var n={generatedLine:r.getArg(t,"line"),generatedColumn:r.getArg(t,"column")},i=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositions);if(i>=0){var s=this._generatedMappings[i];if(s.generatedLine===n.generatedLine){var o=r.getArg(s,"source",null);return o!=null&&this.sourceRoot!=null&&(o=r.join(this.sourceRoot,o)),{source:o,line:r.getArg(s,"originalLine",null),column:r.getArg(s,"originalColumn",null),name:r.getArg(s,"name",null)}}}return{source:null,line:null,column:null,name:null}},u.prototype.sourceContentFor=function(t){if(!this.sourcesContent)return null;this.sourceRoot!=null&&(t=r.relative(this.sourceRoot,t));if(this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];var n;if(this.sourceRoot!=null&&(n=r.urlParse(this.sourceRoot))){var i=t.replace(/^file:\/\//,"");if(n.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||n.path=="/")&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}throw new Error('"'+t+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(t){var n={source:r.getArg(t,"source"),originalLine:r.getArg(t,"line"),originalColumn:r.getArg(t,"column")};this.sourceRoot!=null&&(n.source=r.relative(this.sourceRoot,n.source));var i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions);if(i>=0){var s=this._originalMappings[i];return{line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},u.prototype.allGeneratedPositionsFor=function(t){var n={source:r.getArg(t,"source"),originalLine:r.getArg(t,"line"),originalColumn:Infinity};this.sourceRoot!=null&&(n.source=r.relative(this.sourceRoot,n.source));var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions);if(s>=0){var o=this._originalMappings[s];while(o&&o.originalLine===n.originalLine)i.push({line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[--s]}return i.reverse()},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.prototype.eachMapping=function(t,n,i){var s=n||null,o=i||u.GENERATED_ORDER,a;switch(o){case u.GENERATED_ORDER:a=this._generatedMappings;break;case u.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var f=this.sourceRoot;a.map(function(e){var t=e.source;return t!=null&&f!=null&&(t=r.join(f,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(t,s)},t.SourceMapConsumer=u})},{"./array-set":23,"./base64-vlq":24,"./binary-search":26,"./util":31,amdefine:1}],29:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function u(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new o,this._sourcesContents=null}var r=e("./base64-vlq"),i=e("./util"),s=e("./array-set").ArraySet,o=e("./mapping-list").MappingList;u.prototype._version=3,u.fromSourceMap=function(t){var n=t.sourceRoot,r=new u({file:t.file,sourceRoot:n});return t.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};e.source!=null&&(t.source=e.source,n!=null&&(t.source=i.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},e.name!=null&&(t.name=e.name)),r.addMapping(t)}),t.sources.forEach(function(e){var n=t.sourceContentFor(e);n!=null&&r.setSourceContent(e,n)}),r},u.prototype.addMapping=function(t){var n=i.getArg(t,"generated"),r=i.getArg(t,"original",null),s=i.getArg(t,"source",null),o=i.getArg(t,"name",null);this._skipValidation||this._validateMapping(n,r,s,o),s!=null&&!this._sources.has(s)&&this._sources.add(s),o!=null&&!this._names.has(o)&&this._names.add(o),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:s,name:o})},u.prototype.setSourceContent=function(t,n){var r=t;this._sourceRoot!=null&&(r=i.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[i.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},u.prototype.applySourceMap=function(t,n,r){var o=n;if(n==null){if(t.file==null)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=t.file}var u=this._sourceRoot;u!=null&&(o=i.relative(u,o));var a=new s,f=new s;this._mappings.unsortedForEach(function(e){if(e.source===o&&e.originalLine!=null){var n=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});n.source!=null&&(e.source=n.source,r!=null&&(e.source=i.join(r,e.source)),u!=null&&(e.source=i.relative(u,e.source)),e.originalLine=n.line,e.originalColumn=n.column,n.name!=null&&(e.name=n.name))}var s=e.source;s!=null&&!a.has(s)&&a.add(s);var l=e.name;l!=null&&!f.has(l)&&f.add(l)},this),this._sources=a,this._names=f,t.sources.forEach(function(e){var n=t.sourceContentFor(e);n!=null&&(r!=null&&(e=i.join(r,e)),u!=null&&(e=i.relative(u,e)),this.setSourceContent(e,n))},this)},u.prototype._validateMapping=function(t,n,r,i){if(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!n&&!r&&!i)return;if(t&&"line"in t&&"column"in t&&n&&"line"in n&&"column"in n&&t.line>0&&t.column>=0&&n.line>0&&n.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:r,original:n,name:i}))},u.prototype._serializeMappings=function(){var t=0,n=1,s=0,o=0,u=0,a=0,f="",l,c=this._mappings.toArray();for(var h=0,p=c.length;h<p;h++){l=c[h];if(l.generatedLine!==n){t=0;while(l.generatedLine!==n)f+=";",n++}else if(h>0){if(!i.compareByGeneratedPositions(l,c[h-1]))continue;f+=","}f+=r.encode(l.generatedColumn-t),t=l.generatedColumn,l.source!=null&&(f+=r.encode(this._sources.indexOf(l.source)-a),a=this._sources.indexOf(l.source),f+=r.encode(l.originalLine-1-o),o=l.originalLine-1,f+=r.encode(l.originalColumn-s),s=l.originalColumn,l.name!=null&&(f+=r.encode(this._names.indexOf(l.name)-u),u=this._names.indexOf(l.name)))}return f},u.prototype._generateSourcesContent=function(t,n){return t.map(function(e){if(!this._sourcesContents)return null;n!=null&&(e=i.relative(n,e));var t=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)},u.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},u.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=u})},{"./array-set":23,"./base64-vlq":24,"./mapping-list":27,"./util":31,amdefine:1}],30:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function a(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=n==null?null:n,this.name=i==null?null:i,this[u]=!0,r!=null&&this.add(r)}var r=e("./source-map-generator").SourceMapGenerator,i=e("./util"),s=/(\r?\n)/,o=10,u="$$$isSourceNode$$$";a.fromStringWithSourceMap=function(t,n,r){function p(e,t){if(e===null||e.source===undefined)o.add(t);else{var n=r?i.join(r,e.source):e.source;o.add(new a(e.originalLine,e.originalColumn,n,t,e.name))}}var o=new a,u=t.split(s),f=function(){var e=u.shift(),t=u.shift()||"";return e+t},l=1,c=0,h=null;return n.eachMapping(function(e){if(h!==null){if(!(l<e.generatedLine)){var n=u[0],t=n.substr(0,e.generatedColumn-c);u[0]=n.substr(e.generatedColumn-c),c=e.generatedColumn,p(h,t),h=e;return}var t="";p(h,f()),l++,c=0}while(l<e.generatedLine)o.add(f()),l++;if(c<e.generatedColumn){var n=u[0];o.add(n.substr(0,e.generatedColumn)),u[0]=n.substr(e.generatedColumn),c=e.generatedColumn}h=e},this),u.length>0&&(h&&p(h,f()),o.add(u.join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);t!=null&&(r!=null&&(e=i.join(r,e)),o.setSourceContent(e,t))}),o},a.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(e){this.add(e)},this);else{if(!t[u]&&typeof t!="string")throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},a.prototype.prepend=function(t){if(Array.isArray(t))for(var n=t.length-1;n>=0;n--)this.prepend(t[n]);else{if(!t[u]&&typeof t!="string")throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},a.prototype.walk=function(t){var n;for(var r=0,i=this.children.length;r<i;r++)n=this.children[r],n[u]?n.walk(t):n!==""&&t(n,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(t){var n,r,i=this.children.length;if(i>0){n=[];for(r=0;r<i-1;r++)n.push(this.children[r]),n.push(t);n.push(this.children[r]),this.children=n}return this},a.prototype.replaceRight=function(t,n){var r=this.children[this.children.length-1];return r[u]?r.replaceRight(t,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(t,n):this.children.push("".replace(t,n)),this},a.prototype.setSourceContent=function(t,n){this.sourceContents[i.toSetString(t)]=n},a.prototype.walkSourceContents=function(t){for(var n=0,r=this.children.length;n<r;n++)this.children[n][u]&&this.children[n].walkSourceContents(t);var s=Object.keys(this.sourceContents);for(var n=0,r=s.length;n<r;n++)t(i.fromSetString(s[n]),this.sourceContents[s[n]])},a.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},a.prototype.toStringWithSourceMap=function(t){var n={code:"",line:1,column:0},i=new r(t),s=!1,u=null,a=null,f=null,l=null;return this.walk(function(e,t){n.code+=e,t.source!==null&&t.line!==null&&t.column!==null?((u!==t.source||a!==t.line||f!==t.column||l!==t.name)&&i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:n.line,column:n.column},name:t.name}),u=t.source,a=t.line,f=t.column,l=t.name,s=!0):s&&(i.addMapping({generated:{line:n.line,column:n.column}}),u=null,s=!1);for(var r=0,c=e.length;r<c;r++)e.charCodeAt(r)===o?(n.line++,n.column=0,r+1===c?(u=null,s=!1):s&&i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:n.line,column:n.column},name:t.name})):n.column++}),this.walkSourceContents(function(e,t){i.setSourceContent(e,t)}),{code:n.code,map:i}},t.SourceNode=a})},{"./source-map-generator":29,"./util":31,amdefine:1}],31:[function(e,t,n){if(typeof r!="function")var r=e("amdefine")(t,e);r(function(e,t,n){function r(e,t,n){if(t in e)return e[t];if(arguments.length===3)return n;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(i);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function u(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var t=e,n=o(e);if(n){if(!n.path)return e;t=n.path}var r=t.charAt(0)==="/",i=t.split(/\/+/);for(var s,a=0,f=i.length-1;f>=0;f--)s=i[f],s==="."?i.splice(f,1):s===".."?a++:a>0&&(s===""?(i.splice(f+1,a),a=0):(i.splice(f,2),a--));return t=i.join("/"),t===""&&(t=r?"/":"."),n?(n.path=t,u(n)):t}function f(e,t){e===""&&(e="."),t===""&&(t=".");var n=o(t),r=o(e);r&&(e=r.path||"/");if(n&&!n.scheme)return r&&(n.scheme=r.scheme),u(n);if(n||t.match(s))return t;if(r&&!r.host&&!r.path)return r.host=t,u(r);var i=t.charAt(0)==="/"?t:a(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=i,u(r)):i}function l(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");var n=o(e);return t.charAt(0)=="/"&&n&&n.path=="/"?t.slice(1):t.indexOf(e+"/")===0?t.substr(e.length+1):t}function c(e){return"$"+e}function h(e){return e.substr(1)}function p(e,t){var n=e||"",r=t||"";return(n>r)-(n<r)}function d(e,t,n){var r;return r=p(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r||n?r:(r=p(e.name,t.name),r?r:(r=e.generatedLine-t.generatedLine,r?r:e.generatedColumn-t.generatedColumn))))}function v(e,t,n){var r;return r=e.generatedLine-t.generatedLine,r?r:(r=e.generatedColumn-t.generatedColumn,r||n?r:(r=p(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r?r:p(e.name,t.name)))))}t.getArg=r;var i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,s=/^data:.+\,.+$/;t.urlParse=o,t.urlGenerate=u,t.normalize=a,t.join=f,t.relative=l,t.toSetString=c,t.fromSetString=h,t.compareByOriginalPositions=d,t.compareByGeneratedPositions=v})},{amdefine:1}],32:[function(e,t,n){t.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","LICENSE.source-map","README.md","bin","escodegen.js","package.json"],version:"1.6.1",engines:{node:">=0.10.0"},maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"}],repository:{type:"git",url:"git+ssh://git@github.com/estools/escodegen.git"},dependencies:{estraverse:"^1.9.1",esutils:"^1.1.6",esprima:"^1.2.2",optionator:"^0.5.0","source-map":"~0.1.40"},optionalDependencies:{"source-map":"~0.1.40"},devDependencies:{"acorn-6to5":"^0.11.1-25",bluebird:"^2.3.11","bower-registry-client":"^0.2.1",chai:"^1.10.0","commonjs-everywhere":"^0.9.7","esprima-moz":"*",gulp:"^3.8.10","gulp-eslint":"^0.2.0","gulp-mocha":"^2.0.0",semver:"^4.1.0"},licenses:[{type:"BSD",url:"http://github.com/estools/escodegen/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"cjsify -a path: tools/entry-point.js > escodegen.browser.js"},gitHead:"1ca664f68dcf220b76c9dc562b2337c5e0b4227d",bugs:{url:"https://github.com/estools/escodegen/issues"},_id:"escodegen@1.6.1",_shasum:"367de17d8510540d12bc6dcb8b3f918391265815",_from:"escodegen@^1.6.1",_npmVersion:"2.0.0-alpha-5",_npmUser:{name:"constellation",email:"utatane.tea@gmail.com"},dist:{shasum:"367de17d8510540d12bc6dcb8b3f918391265815",tarball:"http://registry.npmjs.org/escodegen/-/escodegen-1.6.1.tgz"},directories:{},_resolved:"https://registry.npmjs.org/escodegen/-/escodegen-1.6.1.tgz",readme:"ERROR: No README data found!"}},{}],33:[function(e,t,n){(function(){"use strict";function s(e){var t;if(e.type===r.ExpressionStatement){t=e.expression;if(t.type===r.Literal&&typeof t.value=="string")return!0}return!1}function o(e,t){var n=e.charCodeAt(0),r=n.toString(16),i="\\";switch(e){case"\b":i+="b";break;case"\f":i+="f";break;case"	":i+="t";break;default:n>255?i+="u"+"0000".slice(r.length)+r:e==="\0"&&"0123456789".indexOf(t)<0?i+="0":e===""?i+="v":i+="x"+"00".slice(r.length)+r}return i}function u(e){var t="\\";switch(e){case"\\":t+="\\";break;case"\n":t+="n";break;case"\r":t+="r";break;case"\u2028":t+="u2028";break;case"\u2029":t+="u2029";break;default:throw new Error("Incorrectly classified character")}return t}function a(e){var t="",n,r,s;typeof e[0]=="undefined"&&(e=i.stringToArray(e));for(n=0,r=e.length;n<r;n+=1){s=e[n];if(s==="'"){t+="\\'";continue}if("\\\n\r\u2028\u2029".indexOf(s)>=0){t+=u(s);continue}if(!(s>=" "&&s<="~")){t+=o(s,e[n+1]);continue}t+=s}return t}function f(e,t){var o;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),i.traverse(o,{enter:function(t,n){var i,o,u;if(t.type!==r.Program&&(t.type!==r.BlockStatement||n.type!==r.FunctionExpression&&n.type!==r.FunctionDeclaration))return;for(o=0,u=t.body.length;o<u;++o){i=t.body[o];if(!s(i))return;i.type=r.DirectiveStatement,i.expression.raw?(i.directive=i.expression.raw.substring(1,i.expression.raw.length-1),i.value=i.expression.value,i.raw=i.expression.raw):(i.directive=a(i.expression.value),i.value=i.expression.value,i.raw="'"+i.directive+"'"),delete i.expression}}}),o}var n,r,i;n="annotate-directive",i=e("./common"),r=i.Syntax,f.passName=n,t.exports=f})()},{"./common":34}],34:[function(e,t,n){(function(){"use strict";function c(e){return typeof e=="object"&&e!==null}function h(e){return e[e.length-1]}function p(e){return e.length===0}function d(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)t&1&&(n+=e);return n}function v(e){function t(e,n){var i,s;for(i in e){if(i.lastIndexOf("__",0)===0)continue;e.hasOwnProperty(i)&&(s=e[i],typeof s=="object"&&s!==null&&(s instanceof RegExp?s=new RegExp(s):s=t(s,r(s)?[]:{})),n[i]=s)}return n}return t(e,r(e)?[]:{})}function m(e,t){if(!e)throw new Error(t)}function g(){throw new Error("Unreachable point. logically broken.")}function y(e){return l.keyword.isKeywordES5(e,!0)||l.keyword.isRestrictedWord(e)?!1:l.keyword.isIdentifierName(e)}function b(e,n){var r,i;if(e.type!==t.ExpressionStatement)return!0;for(r=n.length-1;r>=0;--r,e=i){i=n[r];switch(i.type){case t.FunctionExpression:case t.FunctionDeclaration:return!1;case t.BlockStatement:case t.Program:if(h(i.body)!==e)return!1;break;case t.SwitchCase:if(h(i.consequent)!==e)return!1}}return!0}function w(e,t){return e.loc==null?t:(t.loc=v(e.loc),t)}function E(e){return e.hasOwnProperty("loc")?delete e.loc:!1}function S(e){var n,r,i;i=a.VisitorKeys[e.type];for(n=0,r=i.length;n<r;++n)delete e[i[n]];return e.type=t.EmptyStatement,e}function x(e){return e===e&&(e<0||e===0&&1/e<0)}function T(e,n){return e.type===t.BlockStatement&&(n.type===t.FunctionDeclaration||n.type===t.FunctionExpression)}function N(e){return e.type===t.Literal&&typeof e.value=="number"}function C(e){return N(e)&&String(e.value).length===1}function k(e,n){var r;return r={type:t.UnaryExpression,operator:"-",argument:{type:t.Literal,value:-e}},n?w(n,r):r}function L(e){return e.type===t.UnaryExpression&&e.operator==="-"&&N(e.argument)}function A(e){var n={type:t.UnaryExpression,operator:"void",argument:{type:t.Literal,value:0}};return e?w(e,n):n}function O(e){return e.type===t.UnaryExpression&&e.operator==="void"&&C(e.argument)}function M(e){var n={type:t.BinaryExpression,operator:"/",left:{type:t.Literal,value:0},right:{type:t.Literal,value:0}};return e?w(e,n):n}function _(e){return e.type===t.BinaryExpression&&C(e.left)&&C(e.right)?e.left.value===0&&e.right.value===0:!1}function D(e){if(typeof e=="number"){if(isNaN(e))return M();if(x(e))return k(e)}return e===undefined?A():{type:t.Literal,value:e}}function P(e){var n=e.type;return n===t.Identifier||n===t.MemberExpression}function H(e,n,r){var i;if(n.type===t.CallExpression)return e.type===t.Identifier?e.name==="eval"?!1:(i=r.resolve(e),i&&i.isStatic()):e.type!==t.MemberExpression;if(n.type===t.UnaryExpression){if(n.operator==="delete")return!P(e);if(n.operator==="typeof"&&e.type===t.Identifier)return i=r.resolve(e),i&&i.isStatic()}else if(n.type===t.UpdateExpression)return!P(e);return!0}function B(e,n){var r,i;return r=[],a.traverse(e,{enter:function(e){var n,i,s;if(e.type===t.VariableDeclaration){if(e.kind==="let"||e.kind==="const")return;for(n=0,i=e.declarations.length;n<i;++n)s=e.declarations[n],delete s.init,r.push(s);return a.VisitorOption.Skip}if(f.Scope.isVariableScopeRequired(e))return a.VisitorOption.Skip}}),r.length?(i=null,a.traverse(n.body,{enter:function(n,r){if(n===e)return a.VisitorOption.Skip;if(f.Scope.isVariableScopeRequired(n))return a.VisitorOption.Skip;if(n.type===t.VariableDeclaration&&n.kind==="var"&&r.type!==t.ForInStatement)return i=n,a.VisitorOption.Break}}),i?(i.declarations=i.declarations.concat(r),null):{type:t.VariableDeclaration,kind:"var",declarations:r}):null}function j(e){return e.type!==t.VariableDeclaration||e.kind!=="let"&&e.kind!=="const"?e.type===t.FunctionDeclaration?!0:!1:!0}var t,r,i,s,o,u,a,f,l;a=e("estraverse"),f=e("escope"),l=e("esutils"),t=a.Syntax,r=Array.isArray,r||(r=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),o=function(){var e={}.hasOwnProperty;return function(n,r){return e.call(n,r)}}(),i=function(){var e=Array.prototype.slice;return function(n){return e.call(n)}}(),s=function(){var e=Array.prototype.slice;return function(){return e.call(arguments)}}(),Object.is?u=Object.is:u=function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n},n.deepCopy=v,n.stringRepeat=d,n.sameValue=u,n.Array={isArray:r,from:i,of:s,last:h,empty:p},n.Object={isObject:c,has:o},n.Syntax=t,n.traverse=a.traverse,n.replace=a.replace,n.VisitorKeys=a.VisitorKeys,n.VisitorOption=a.VisitorOption,n.assert=m,n.unreachable=g,n.isIdentifier=y,n.moveLocation=w,n.deleteLocation=E,n.convertToEmptyStatement=S,n.mayBeCompletionValue=b,n.isNegative=x,n.isFunctionBody=T,n.SpecialNode={generateNegative:k,isNegative:L,generateUndefined:A,isUndefined:O,generateNaN:M,isNaN:_,isReference:P,canExtractSequence:H,generateFromValue:D},n.delegateVariableDeclarations=B,n.isScopedDeclaration=j})()},{escope:70,estraverse:77,esutils:80}],35:[function(e,t,n){(function(){"use strict";function a(e,t){function n(e){for(;;){switch(e.type){case s.IfStatement:if(!e.alternate)return!0;e=e.alternate;continue;case s.LabeledStatement:case s.ForStatement:case s.ForInStatement:case s.WhileStatement:case s.WithStatement:e=e.body;continue}return!1}}return r.traverse(e,{leave:function(i){i.type===s.IfStatement&&i.alternate&&i.consequent.type!==s.BlockStatement&&n(i.consequent)&&(i.consequent={type:s.BlockStatement,body:[i.consequent]}),!t&&i.type===s.DirectiveStatement&&(i.type=s.ExpressionStatement,i.expression=r.moveLocation(i,{type:s.Literal,value:i.value,raw:i.raw}),delete i.directive,delete i.value,delete i.raw)}}),e}function f(e,t,n){function h(e){var t;typeof e!="function"&&(t=Object.keys(e)[0],e=e[t]),e.hasOwnProperty("passName")?t=e.passName:t=e.name,l.push(e),f.push(!0)}function p(e){var t,n;for(t=0,n=f.length;t<n;++t)f[t]=e}var i,s,o,u,a,f,l,c;c=n.get("destructive")?e:r.deepCopy(e),f=[],l=[];for(i=0,s=t.length;i<s;++i)h(t[i]);do{a=!1;for(i=0,s=l.length;i<s;++i)o=l[i],f[i]&&(u=o(c,n),u.modified?(a=!0,p(!0)):f[i]=!1,c=u.result)}while(a);return c}function l(e,t,n){var s,l,c,h,p,d;e=u(e,new i({destructive:!1})),null==t&&(t=o.__defaultPipeline),n=new i(n);for(s=0,l=t.length;s<l;++s){p=t[s];if(r.Array.isArray(p))e=f(e,p,n);else if(p.once){d=p.pass;for(c=0,h=d.length;c<h;++c)e=d[c](e,n).result}}return a(e,n.get("directive"))}var t,r,i,s,o,u;t=e("esshorten"),r=e("./common"),i=e("./options"),o=e("./pass"),u=e("./annotate-directive"),s=r.Syntax,n.version=e("../package.json").version,n.mangle=t.mangle,n.optimize=l,n.pass=o})()},{"../package.json":81,"./annotate-directive":33,"./common":34,"./options":38,"./pass":39,esshorten:73}],36:[function(e,t,n){(function(){"use strict";function i(e,n){return e.type===t.Literal?typeof e.value=="object"&&e.value!==null?n:!0:e.type===t.UnaryExpression?e.operator==="void"||e.operator==="delete"||e.operator==="!"?i(e.argument,!0):i(e.argument,!1):e.type===t.BinaryExpression?e.operator==="in"||e.operator==="instanceof"?!1:i(e.left,!1)&&i(e.right,!1):e.type===t.LogicalExpression?i(e.left,!0)&&i(e.right,!0):!1}function s(e){if(e.type===t.Literal)return e.value;if(e.type===t.UnaryExpression)return u(e.operator,s(e.argument));if(e.type===t.BinaryExpression)return a(e.operator,s(e.left),s(e.right));if(e.type===t.LogicalExpression)return o(e.operator,s(e.left),s(e.right));r.unreachable()}function o(e,t,n){if(e==="||")return t||n;if(e==="&&")return t&&n;r.unreachable()}function u(e,t){switch(e){case"+":return+t;case"-":return-t;case"~":return~t;case"!":return!t;case"delete":return!0;case"void":return undefined;case"typeof":return typeof t}r.unreachable()}function a(e,t,n){switch(e){case"|":return t|n;case"^":return t^n;case"&":return t&n;case"==":return t==n;case"!=":return t!=n;case"===":return t===n;case"!==":return t!==n;case"<":return t<n;case">":return t>n;case"<=":return t<=n;case">=":return t>=n;case"<<":return t<<n;case">>":return t>>n;case">>>":return t>>>n;case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n}r.unreachable()}function f(e,n){function r(e){var s,o,u;switch(e.type){case t.AssignmentExpression:return!0;case t.ArrayExpression:for(s=0,o=e.elements.length;s<o;++s)if(e.elements[s]!==null&&r(e.elements[s]))return!0;return!1;case t.BinaryExpression:return!i(e);case t.CallExpression:return!0;case t.ConditionalExpression:return r(e.test)||r(e.consequent)||r(e.alternate);case t.FunctionExpression:return!1;case t.Identifier:u=n.resolve(e);if(u&&u.isStatic())return!1;return!0;case t.Literal:return!1;case t.LogicalExpression:return r(e.left)||r(e.right);case t.MemberExpression:return!0;case t.NewExpression:return!0;case t.ObjectExpression:for(s=0,o=e.properties.length;s<o;++s)if(r(e.properties[s]))return!0;return!1;case t.Property:return r(e.value);case t.SequenceExpression:for(s=0,o=e.expressions.length;s<o;++s)if(r(e.expressions[s]))return!0;return!1;case t.ThisExpression:return!1;case t.UnaryExpression:if(e.operator==="void"||e.operator==="delete"||e.operator==="typeof"||e.operator==="!")return r(e.argument);return!i(e);case t.UpdateExpression:return!0}return!0}return r(e)}function l(e){var n;switch(e.type){case t.AssignmentExpression:return l(e.right);case t.ArrayExpression:return!0;case t.BinaryExpression:if(i(e))return!!s(e);return null;case t.CallExpression:return null;case t.ConditionalExpression:n=l(e.test);if(n===!0)return l(e.consequent);if(n===!1)return l(e.alternate);n=l(e.consequent);if(n===l(e.alternate))return n;return null;case t.FunctionExpression:return!0
;case t.Identifier:return null;case t.Literal:return!!s(e);case t.LogicalExpression:return e.operator==="&&"?(n=l(e.left),n===null?null:n?l(e.right):!1):(n=l(e.left),n===null?null:n?!0:l(e.right));case t.MemberExpression:return null;case t.NewExpression:return!0;case t.ObjectExpression:return!0;case t.Property:return r.unreachable(),null;case t.SequenceExpression:return l(r.Array.last(e.expressions));case t.ThisExpression:return null;case t.UnaryExpression:if(e.operator==="void")return!1;if(e.operator==="typeof")return!0;if(e.operator==="!")return n=l(e.argument),n===null?null:!n;if(i(e))return!!s(e);return null;case t.UpdateExpression:return null}return null}var t,r;r=e("./common"),t=r.Syntax,n.constant={doBinary:a,doUnary:u,doLogical:o,evaluate:s,isConstant:i},n.hasSideEffect=f,n.booleanCondition=l})()},{"./common":34}],37:[function(e,t,n){(function(e){(function(){"use strict";var n;typeof e.Map!="undefined"?n=e.Map:(n=function(){this.__data={}},n.prototype.get=function(t){t="$"+t;if(this.__data.hasOwnProperty(t))return this.__data[t]},n.prototype.has=function(t){return t="$"+t,this.__data.hasOwnProperty(t)},n.prototype.set=function(t,n){t="$"+t,this.__data[t]=n},n.prototype["delete"]=function(t){return t="$"+t,delete this.__data[t]},n.prototype.clear=function(){this.__data={}},n.prototype.forEach=function(t,n){var r,i;for(r in this.__data)this.__data.hasOwnProperty(r)&&(i=r.substring(1),t.call(n,this.__data[r],i,this))},n.prototype.keys=function(){var t,n;n=[];for(t in this.__data)this.__data.hasOwnProperty(t)&&n.push(t.substring(1));return n},n.prototype.values=function(){var t,n;n=[];for(t in this.__data)this.__data.hasOwnProperty(t)&&n.push(this.__data[t]);return n},n.prototype.items=function(){var t,n;n=[];for(t in this.__data)this.__data.hasOwnProperty(t)&&n.push([t.substring(1),this.__data[t]]);return n}),t.exports=n})()}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],38:[function(e,t,n){(function(){"use strict";function r(e,t){var i,s,o;for(i in t){if(!n.Object.has(t,i))continue;i in e?(s=e[i],o=t[i],n.Object.isObject(o)&&n.Object.isObject(s)?e[i]=r(s,o):e[i]=t[i]):e[i]=t[i]}return e}function i(e){var t={destructive:!0,preserveCompletionValue:!1};if(e==null){this.data=t;return}this.data=r(t,e)}var n;n=e("./common"),i.prototype.get=function(t,r){var i;if(r!=null&&n.Object.has(r,"pathName")){i=this.data[r.pathName];if(i!=null&&n.Object.has(i,t))return i[t]}return this.data[t]},t.exports=i})()},{"./common":34}],39:[function(e,t,n){(function(){"use strict";function u(e,t){var n,i,s;r[e]={};for(n=0,i=t.length;n<i;++n)s=t[n],o.assert(r[e][s.passName]==null,"don't create duplicate pass names"),r[e][s.passName]=s;o.assert(r.__direct[s.passName]==null,"don't create duplicate pass names"),r.__direct[s.passName]=s}function a(e){return o.Object.has(r.__direct,e)?r.__direct[e]:t.get(r,e.split("/"))}var t,r,i,s,o;o=e("./common"),t=e("./query"),r={},r.__direct={},i=[e("./pass/hoist-variable-to-arguments"),e("./pass/transform-dynamic-to-static-property-access"),e("./pass/transform-dynamic-to-static-property-definition"),e("./pass/transform-immediate-function-call"),e("./pass/transform-logical-association"),e("./pass/reordering-function-declarations"),e("./pass/remove-unused-label"),e("./pass/remove-empty-statement"),e("./pass/remove-wasted-blocks"),e("./pass/transform-to-compound-assignment"),e("./pass/transform-to-sequence-expression"),e("./pass/transform-branch-to-expression"),e("./pass/transform-typeof-undefined"),e("./pass/reduce-sequence-expression"),e("./pass/reduce-branch-jump"),e("./pass/reduce-multiple-if-statements"),e("./pass/dead-code-elimination"),e("./pass/remove-side-effect-free-expressions"),e("./pass/remove-context-sensitive-expressions"),e("./pass/tree-based-constant-folding"),e("./pass/concatenate-variable-definition"),e("./pass/drop-variable-definition"),e("./pass/remove-unreachable-branch"),e("./pass/eliminate-duplicate-function-declarations")],s=[e("./post/transform-static-to-dynamic-property-access"),e("./post/transform-infinity"),e("./post/rewrite-boolean"),e("./post/rewrite-conditional-expression"),e("./post/omit-parens-in-void-context-iife")],u("pass",i),u("post",s),n.require=a,n.Registry=r,n.__defaultPipeline=[i,{once:!0,pass:s}]})()},{"./common":34,"./pass/concatenate-variable-definition":40,"./pass/dead-code-elimination":41,"./pass/drop-variable-definition":42,"./pass/eliminate-duplicate-function-declarations":43,"./pass/hoist-variable-to-arguments":44,"./pass/reduce-branch-jump":45,"./pass/reduce-multiple-if-statements":46,"./pass/reduce-sequence-expression":47,"./pass/remove-context-sensitive-expressions":48,"./pass/remove-empty-statement":49,"./pass/remove-side-effect-free-expressions":50,"./pass/remove-unreachable-branch":51,"./pass/remove-unused-label":52,"./pass/remove-wasted-blocks":53,"./pass/reordering-function-declarations":54,"./pass/transform-branch-to-expression":55,"./pass/transform-dynamic-to-static-property-access":56,"./pass/transform-dynamic-to-static-property-definition":57,"./pass/transform-immediate-function-call":58,"./pass/transform-logical-association":59,"./pass/transform-to-compound-assignment":60,"./pass/transform-to-sequence-expression":61,"./pass/transform-typeof-undefined":62,"./pass/tree-based-constant-folding":63,"./post/omit-parens-in-void-context-iife":64,"./post/rewrite-boolean":65,"./post/rewrite-conditional-expression":66,"./post/transform-infinity":67,"./post/transform-static-to-dynamic-property-access":68,"./query":69}],40:[function(e,t,n){(function(){"use strict";function o(e,t){var o;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,i.traverse(o,{leave:function(t){var n,i,o,u,a,f,l,c;if(t.type!==r.BlockStatement&&t.type!==r.Program)return;l=null,c=[];for(n=0,i=t.body.length;n<i;++n){a=t.body[n];if(a.type===r.VariableDeclaration&&a.kind==="var"){if(!l){l=a,c.push(a);continue}s=!0;for(o=0,u=a.declarations.length;o<u;++o)f=a.declarations[o],l.declarations.push(f)}else l=null,c.push(a)}t.body=c}}),{result:o,modified:s}}var n,r,i,s;n="concatenate-variable-definition",i=e("../common"),r=i.Syntax,o.passName=n,t.exports=o})()},{"../common":34}],41:[function(e,t,n){(function(){"use strict";function u(e,t,n){this.node=e,this.type=n,this.labels=t.labels||[],t.labels=null}function a(){this.targets=[]}function f(e){this.current=[],this.upper=e,this.jumps=new a,this.labels=null,this.next()}function l(e){e.__$context=this,this.node=e}function c(e){for(;;){switch(e.type){case r.IfStatement:if(e.alternate)return null;e=e.consequent;continue;case r.WithStatement:case r.LabeledStatement:e=e.body;continue;case r.BlockStatement:if(e.body.length){e=i.Array.last(e.body);continue}}return e}}function h(e,t){var n,u;return u=c(t),u&&u.type===r.ContinueStatement&&(n=s.jumps.lookupContinuableTarget(u.label),n===e&&(o=!0,i.convertToEmptyStatement(u))),p(t)}function p(e){function n(e,n){var s,u,a,f,c,h;h=[];for(s=0,u=n.length;s<u;++s)a=n[s],a.type===r.IfStatement?(c=new l(a),f=p(a),c.detach()):f=p(a),f?(t|=1,h.push(a),a.type===r.IfStatement&&a.alternate&&(!c.consequent||!c.alternate)&&c.consequent!==c.alternate&&(o=!0,c.consequent?(a.test=i.moveLocation(a.test,{type:r.UnaryExpression,operator:"!",argument:a.test}),h.push(a.consequent),a.consequent=a.alternate,a.alternate=null):(h.push(a.alternate),a.alternate=null))):o=!0;return h}var t=!1;return e?(i.traverse(e,{enter:function(a){var c,d,v,m,g,y,b;f.isRequired(a)&&(s=new f(s)),t|=!s.isDead();switch(a.type){case r.Program:return a.body=n(a,a.body),i.VisitorOption.Skip;case r.BlockStatement:return s.jumps.push(new u(a,s,u.NAMED_ONLY)),a.body=n(a,a.body),s.jumps.pop(),s.resolveJump(a),i.VisitorOption.Skip;case r.BreakStatement:return a.label&&s.labels&&s.labels.indexOf(a.label)?(o=!0,i.convertToEmptyStatement(a)):s.jumpTo(s.jumps.lookupBreakableTarget(a.label)),i.VisitorOption.Skip;case r.CatchClause:return t|=p(a.body),i.VisitorOption.Skip;case r.ContinueStatement:return s.jumpTo(s.jumps.lookupContinuableTarget(a.label)),i.VisitorOption.Skip;case r.DoWhileStatement:return s.jumps.push(new u(a,s,u.ITERATION)),t|=h(a,a.body),s.jumps.pop(),t|=p(a.test),s.resolveJump(a),s.revive(),i.VisitorOption.Skip;case r.DebuggerStatement:return i.VisitorOption.Skip;case r.EmptyStatement:return i.VisitorOption.Skip;case r.ExpressionStatement:break;case r.ForStatement:return t|=p(a.init),t|=p(a.test),s.jumps.push(new u(a,s,u.ITERATION)),t|=h(a,a.body),s.jumps.pop(),t|=p(a.update),s.resolveJump(a),s.revive(),i.VisitorOption.Skip;case r.ForInStatement:return t|=p(a.left),t|=p(a.right),s.jumps.push(new u(a,s,u.ITERATION)),t|=h(a,a.body),s.jumps.pop(),s.resolveJump(a),s.revive(),i.VisitorOption.Skip;case r.IfStatement:t|=p(a.test),t|=p(a.consequent);if(!a.alternate)return s.revive(),i.VisitorOption.Skip;m=!s.isDead(),s.revive()||s.insert(a),t|=p(a.alternate),g=!s.isDead(),s.erase(a)&&s.revive();if(y=l.lookup(a))y.consequent=m,y.alternate=g;return i.VisitorOption.Skip;case r.LabeledStatement:s.register(a);break;case r.ReturnStatement:return t|=p(a.argument),s.kill(),i.VisitorOption.Skip;case r.SwitchStatement:p(a.discriminant),s.jumps.push(new u(a,s,u.SWITCH));for(c=0,d=a.cases.length;c<d;++c)v=a.cases[c],t|=p(v),v.test||(b=!0),s.isDead()&&c+1<d&&s.next();return s.jumps.pop(),s.resolveJump(a),s.isDead()&&!b&&s.next(),i.VisitorOption.Skip;case r.SwitchCase:return a.test&&(t|=p(a.test)),a.consequent=n(a,a.consequent),i.VisitorOption.Skip;case r.ThrowStatement:return t|=p(a.argument),s.kill(),i.VisitorOption.Skip;case r.TryStatement:return t|=p(a.block),a.handlers&&a.handlers.length&&(s.revive()||s.insert(a),a.handlers=n(a,a.handlers),s.erase(a)&&s.revive()),a.finalizer&&(s.revive()||s.insert(a),t|=p(a.finalizer),s.erase(a)||s.kill()),i.VisitorOption.Skip;case r.WhileStatement:return t|=p(a.test),s.jumps.push(new u(a,s,u.ITERATION)),t|=h(a,a.body),s.jumps.pop(),s.resolveJump(a),s.revive(),i.VisitorOption.Skip;case r.WithStatement:break;case r.VariableDeclaration:case r.FunctionDeclaration:t=!0}},leave:function(t){if(f.isRequired(t)){s=s.upper;return}t.type===r.LabeledStatement&&s.unregister()}}),t):!s.isDead()}function d(e,t){var r;return r=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=null,o=!1,p(r),i.assert(s===null,"status should be null"),{result:r,modified:o}}var n,r,i,s,o;n="dead-code-elimination",i=e("../common"),r=i.Syntax,u.NAMED_ONLY=0,u.ITERATION=2,u.SWITCH=3,u.prototype.isIteration=function(){return this.type===u.ITERATION},u.prototype.isAnonymous=function(){return this.type&2},u.prototype.contains=function(t){return this.labels.indexOf(t)!==-1},a.prototype.lookupContinuableTarget=function(t){var n,r;for(n=this.targets.length-1;n>=0;--n){r=this.targets[n];if(r.isIteration()&&(!t||r.contains(t.name)))return r.node}i.unreachable()},a.prototype.lookupBreakableTarget=function(t){var n,r;for(n=this.targets.length-1;n>=0;--n){r=this.targets[n];if(t){if(r.contains(t.name))return r.node}else if(r.isAnonymous())return r.node}i.unreachable()},a.prototype.push=function(t){this.targets.push(t)},a.prototype.pop=function(){this.targets.pop()},f.NEXT={},f.prototype.insert=function(t){this.current.push(t)},f.prototype.erase=function(t){var n=this.current.indexOf(t);return n===-1?!1:(this.current.splice(n,1),!0)},f.prototype.kill=function(){return this.erase(f.NEXT)},f.prototype.has=function(t){return this.current.indexOf(t)!==-1},f.prototype.jumpTo=function(t){this.kill(),this.insert(t)},f.prototype.resolveJump=function(t){var n=this.current.indexOf(t);n!==-1&&(this.current.splice(n,1),this.insert(f.NEXT))},f.prototype.clear=function(){this.current.length=0},f.prototype.next=function(){this.insert(f.NEXT)},f.prototype.isDead=function(){return!this.has(f.NEXT)},f.prototype.revive=function(){return this.isDead()?(this.next(),!0):!1},f.prototype.register=function(t){this.labels||(this.labels=[]),this.labels.push(t.label.name)},f.prototype.unregister=function(){this.labels=null},f.isRequired=function(t){var n=t.type;return i.assert(t,"should be node"),n===r.Program||n===r.FunctionExpression||n===r.FunctionDeclaration},l.prototype.detach=function(){delete this.node.__$context},l.lookup=function(t){return t.__$context},d.passName=n,t.exports=d})()},{"../common":34}],42:[function(e,t,n){(function(){"use strict";function a(e){var t,n,r,i,s,o,u;if(!e.candidates){o=[],s=[];for(t=0,n=e.variables.length;t<n;++t){u=e.variables[t];for(r=0,i=u.identifiers.length;r<i;++r)s.push(u.identifiers[r]),o.push(u)}e.candidates={slots:o,identifiers:s}}return e.candidates}function f(e){var t,n,i,s;if(e.identifiers.length!==1)return!1;if(e.references.length===0)return!0;for(t=0,n=e.references.length;t<n;++t){i=e.references[t];if(i.isRead())return!1;if(i.isWrite()){if(!i.writeExpr)return!1;s=i.writeExpr.__$parent$__;if(!s)return!1;if(s.type!==r.AssignmentExpression&&s.type!==r.VariableDeclarator)return!1;if(u.hasSideEffect(i.writeExpr,i.from))return!1}}return!0}function l(e,t){var n;for(n in e)delete e[n];for(n in t)e[n]=t[n];return e}function c(e,t,n){var s,o,u,a;e.declarations.splice(t,1);for(s=0,o=n.references.length;s<o;++s)u=n.references[s],i.assert(!u.isRead()),u.isWrite()&&(a=u.writeExpr.__$parent$__,a.type===r.AssignmentExpression&&l(u.writeExpr.__$parent$__,u.writeExpr))}function h(e){return i.traverse(e,{enter:function(e,t){e.__$parent$__=t}})}function p(e){return i.traverse(e,{enter:function(e){delete e.__$parent$__,delete e.__$escope$__}})}function d(e,t){var u,l,d;return u=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,d=null,l=o.analyze(u,{directive:!0}),l.attach(),h(u),u=i.replace(u,{enter:function(t,n){var o,u,h,p,v,m;m=t;if(d&&d.variableScope.isStatic()){h=a(d.variableScope);if(t.type===r.VariableDeclaration&&t.kind==="var"){o=t.declarations.length;while(o--){u=t.declarations[o],p=h.identifiers.indexOf(u.id);if(p!==-1){v=h.slots[p];if(f(v)){s=!0,c(t,o,v);continue}}}t.declarations.length===0&&(n.type===r.ForStatement?m=null:m=i.moveLocation(t,{type:r.EmptyStatement}))}if(t.type===r.FunctionDeclaration){p=h.identifiers.indexOf(t.id);if(p!==-1){v=h.slots[p];if(v.identifiers.length===1&&v.references.length===0)return s=!0,m=i.moveLocation(t,{type:r.EmptyStatement}),m}}}return d=l.acquire(t)||d,m},leave:function(t){d=l.release(t)||d}}),l.detach(),p(u),{result:u,modified:s}}var n,r,i,s,o,u;n="drop-variable-definition",i=e("../common"),o=e("escope"),u=e("../evaluator"),r=i.Syntax,d.passName=n,t.exports=d})()},{"../common":34,"../evaluator":36,escope:70}],43:[function(e,t,n){(function(){"use strict";function u(e,t){return s.replace(t,{enter:function(n){var i,u;if(n.type===r.FunctionDeclaration){i=n.id.name,u=e.get(i),--u.count;if(u.count!==0)return o=!0,s.moveLocation(n,{type:r.EmptyStatement})}if(n!==t&&n.type===r.BlockStatement)return this.skip()}})}function a(e,t){return s.replace(t,{enter:function(n){var i,u,a;if(n.type===r.FunctionDeclaration){i=n.id.name,u=e.get(i),a=u.count===u.declarations.length,--u.count;if(u.declarations.length>1)return a?(o=!0,s.Array.last(u.declarations)):(o=!0,s.moveLocation(n,{type:r.EmptyStatement}))}if(n!==t&&n.type===r.BlockStatement)return this.skip()}})}function f(e,t){var f,l,c,h;return f=t.get("destructive",{pathName:n})?e:s.deepCopy(e),o=!1,c=0,h=!1,l=[new i],f=s.replace(f,{enter:function(t){var n,o,u;t.type===r.FunctionDeclaration&&(o=t.id.name,n=s.Array.last(l),n.has(o)?(u=n.get(o),u.declarations.push(t),++u.count):(u={declarations:[t],count:1},n.set(o,u))),t.type===r.BlockStatement&&l.push(new i),(t.type===r.FunctionDeclaration||t.type===r.FunctionExpression)&&++c},leave:function(t){var n,i;return t.type===r.BlockStatement&&(n=l.pop(),c===0?n.keys().length!==0&&(h=!0):i=u(n,t)),(t.type===r.FunctionDeclaration||t.type===r.FunctionExpression)&&--c,i}}),s.assert(l.length===1,"global map remains"),h||(f=a(l[0],f)),{result:f,modified:o}}var n,r,i,s,o;n="eliminate-duplicate-function-declarations",s=e("../common"),i=e("../map"),r=s.Syntax,f.passName=n,t.exports=f})()},{"../common":34,"../map":37}],44:[function(e,t,n){(function(){"use strict";function u(e){function t(t){var n,r,i;n=!1;for(r=0,i=e.params.length;r<i;++r)if(t.name===e.params[r].name){n=!0;break}n||e.params.push(t)}e.body=i.replace(e.body,{enter:function(e,n){var s,u,a,f,l,c;if(e.type===r.FunctionExpression||e.type===r.FunctionDeclaration){this.skip();return}if(e.type===r.VariableDeclaration&&e.kind==="var"){if(n.type===r.ForInStatement){i.assert(e.declarations.length===1,"for-in declaration length should be 1"),f=e.declarations[0];if(f.init)return;if(f.id.type!==r.Identifier)return;return t(f.id),o=!0,f.id}l=n.type===r.ForStatement,a=[];for(s=0,u=e.declarations.length;s<u;++s){f=e.declarations[s];if(f.id.type!==r.Identifier)return;t(f.id),f.init&&a.push(i.moveLocation(f,{type:r.AssignmentExpression,operator:"=",left:f.id,right:f.init}))}return o=!0,a.length===0?l?null:i.moveLocation(e,{type:r.EmptyStatement}):(a.length===1?c=a[0]:c=i.moveLocation(e,{type:r.SequenceExpression,expressions:a}),l?c:i.moveLocation(e,{type:r.ExpressionStatement,expression:c}))}}})}function a(e,t){var a,f,l;return a=t.get("destructive",{pathName:n})?e:i.deepCopy(e),o=!1,f=null,l=s.analyze(a,{directive:!0}),l.attach(),i.traverse(a,{enter:function(t){var n;if(t.type===r.CallExpression||t.type===r.NewExpression)n=t.callee,n.type===r.FunctionExpression&&!n.id&&n.params.length===t.arguments.length&&(f=l.acquire(n),!f.isArgumentsMaterialized()&&(t.type!==r.NewExpression||!f.isThisMaterialized())&&u(n))}}),l.detach(),{result:a,modified:o}}var n,r,i,s,o;n="hoist-variable-to-arguments",s=e("escope"),i=e("../common"),r=i.Syntax,a.passName=n,t.exports=a})()},{"../common":34,escope:70}],45:[function(e,t,n){(function(){"use strict";function o(e,t){var n,o;n=e[t];if(n.type===r.IfStatement&&!n.alternate&&n.consequent.type===r.ReturnStatement)return s=!0,o=n.consequent.argument,o?(e[t]=i.moveLocation(n,{type:r.ReturnStatement,argument:{type:r.ConditionalExpression,test:n.test,consequent:o,alternate:i.SpecialNode.generateUndefined()}}),!0):(e[t]=i.moveLocation(n,{type:r.ReturnStatement,argument:{type:r.SequenceExpression,expressions:[n.test,i.SpecialNode.generateUndefined()]}}),!0)}function u(e,t){var n,o,u,a;return n=e[t],o=e[t+1],n.type===r.IfStatement&&!n.alternate&&n.consequent.type===r.ReturnStatement&&o.type===r.ReturnStatement?(s=!0,e.splice(t,1),u=n.consequent.argument,a=o.argument,!u&&!a?(e[t]=i.moveLocation(n,{type:r.ReturnStatement,argument:{type:r.SequenceExpression,expressions:[n.test,i.SpecialNode.generateUndefined()]}}),!0):(u||(u=i.SpecialNode.generateUndefined()),a||(a=i.SpecialNode.generateUndefined()),e[t]=i.moveLocation(n,{type:r.ReturnStatement,argument:{type:r.ConditionalExpression,test:n.test,consequent:u,alternate:a}}),!0)):!1}function a(e,t){var a;return a=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,i.traverse(a,{leave:function(t,n){var s;switch(t.type){case r.BlockStatement:case r.Program:s=0;while(s<t.body.length-1)u(t.body,s)||++s;i.isFunctionBody(t,n)&&t.body.length>0&&(s=t.body.length-1,o(t.body,s));break;case r.SwitchCase:s=0;while(s<t.consequent.length-1)u(t.consequent,s)||++s}}}),{result:a,modified:s}}var n,r,i,s;n="reduce-branch-jump",i=e("../common"),r=i.Syntax,a.passName=n,t.exports=a})()},{"../common":34}],46:[function(e,t,n){(function(){"use strict";function o(e,t){var o;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,i.traverse(o,{leave:function(t){t.type===r.IfStatement&&!t.alternate&&t.consequent.type===r.IfStatement&&!t.consequent.alternate&&(s=!0,t.test={type:r.LogicalExpression,operator:"&&",left:t.test,right:t.consequent.test},t.consequent=t.consequent.consequent)}}),{result:o,modified:s}}var n,r,i,s;n="reduce-multiple-if-statements",i=e("../common"),r=i.Syntax,o.passName=n,t.exports=o})()},{"../common":34}],47:[function(e,t,n){(function(){"use strict";function a(e){var t,n,s,o,a,f;f=[];for(t=0,n=e.expressions.length;t<n;++t){a=e.expressions[t];if(a.type===r.SequenceExpression){u=!0,i.deleteLocation(e);for(s=0,o=a.expressions.length;s<o;++s)f.push(a.expressions[s])}else f.push(a)}e.expressions=f}function f(e,t){var n,i;if(s.constant.isConstant(e)){i=s.constant.evaluate(e);if(i===null||typeof i!="object")return!0}return e.type===r.Identifier?(n=t.resolve(e),n&&n.isStatic()):!1}function l(e,t){if(!s.hasSideEffect(e,t))return!0;if(e.type===r.Identifier)return!0;if(e.type===r.MemberExpression){if(!s.hasSideEffect(e.object,t))if(!e.computed||f(e.property,t))return!0;return!1}return!1}function c(e,t){var f,c,h;return f=t.get("destructive",{pathName:n})?e:i.deepCopy(e),u=!1,c=null,h=o.analyze(f,{directive:!0}),h.attach(),f=i.replace(f,{enter:function(t){c=h.acquire(t)||c},leave:function(t){var n,o;switch(t.type){case r.SequenceExpression:a(t);break;case r.ConditionalExpression:t.test.type===r.SequenceExpression&&(u=!0,n=t.test,t.test=i.Array.last(n.expressions),n.expressions[n.expressions.length-1]=t);break;case r.LogicalExpression:t.left.type===r.SequenceExpression&&(u=!0,n=t.left,t.left=i.Array.last(n.expressions),n.expressions[n.expressions.length-1]=t);break;case r.BinaryExpression:t.left.type===r.SequenceExpression?(u=!0,n=t.left,t.left=i.Array.last(n.expressions),n.expressions[n.expressions.length-1]=t):t.right.type===r.SequenceExpression&&!s.hasSideEffect(t.left,c)&&(u=!0,n=t.right,t.right=i.Array.last(n.expressions),n.expressions[n.expressions.length-1]=t);break;case r.UpdateExpression:case r.UnaryExpression:if(t.argument.type===r.SequenceExpression){o=i.Array.last(t.argument.expressions);if(!i.SpecialNode.canExtractSequence(o,t,c))break;u=!0,n=t.argument,t.argument=i.Array.last(n.expressions),n.expressions[n.expressions.length-1]=t}break;case r.AssignmentExpression:t.operator==="="&&t.right.type===r.SequenceExpression&&l(t.left,c)&&(u=!0,n=t.right,t.right=i.Array.last(n.expressions),n.expressions[n.expressions.length-1]=t)}return c=h.release(t)||c,n}}),h.detach(),{result:f,modified:u}}var n,r,i,s,o,u;n="reduce-sequence-expression",o=e("escope"),i=e("../common"),s=e("../evaluator"),r=i.Syntax,c.passName=n,t.exports=c})()},{"../common":34,"../evaluator":36,escope:70}],48:[function(e,t,n){(function(){"use strict";function a(e,t,n,r){this.transform=e,this.booleanFunction=t,this.voidFunction=n,this.scope=r}function f(e,t){var n=new a(a.prototype.voidTransformation,l,f,t);return n.apply(e)}function l(e,t){var n=new a(a.prototype.booleanTransformation,l,l,t);return n.apply(e)}function c(e,t){var s,a,c,h,p;return s=t.get("destructive",{pathName:n})?e:i.deepCopy(e),u=!1,a=0,c=t.get("preserveCompletionValue",{pathName:n}),h=null,p=o.analyze(s,{directive:!0}),p.attach(),s=i.replace(s,{enter:function(t){var n,i;h=p.acquire(t)||h,(t.type===r.FunctionExpression||t.type===r.FunctionDeclaration)&&++a;switch(t.type){case r.AssignmentExpression:break;case r.ArrayExpression:break;case r.BlockStatement:break;case r.BinaryExpression:break;case r.BreakStatement:break;case r.CallExpression:break;case r.CatchClause:break;case r.ConditionalExpression:t.test=l(t.test,h);break;case r.ContinueStatement:break;case r.DoWhileStatement:t.test=l(t.test,h);break;case r.DebuggerStatement:break;case r.EmptyStatement:break;case r.ExpressionStatement:if(!c||a!==0)t.expression=f(t.expression,h);break;case r.FunctionExpression:break;case r.ForInStatement:break;case r.FunctionDeclaration:break;case r.ForStatement:t.init&&t.init.type!==r.VariableDeclaration&&(t.init=f(t.init,h)),t.test&&(t.test=l(t.test,h)),t.update&&(t.update=f(t.update,h));break;case r.Identifier:break;case r.IfStatement:t.test=l(t.test,h);break;case r.Literal:break;case r.LabeledStatement:break;case r.LogicalExpression:break;case r.MemberExpression:break;case r.NewExpression:break;case r.ObjectExpression:break;case r.Program:break;case r.Property:break;case r.ReturnStatement:break;case r.SequenceExpression:for(n=0,i=t.expressions.length-1;n<i;++n)t.expressions[n]=f(t.expressions[n],h);break;case r.SwitchStatement:break;case r.SwitchCase:break;case r.ThisExpression:break;case r.ThrowStatement:break;case r.TryStatement:break;case r.UnaryExpression:t.operator==="!"?t.argument=l(t.argument,h):t.operator==="void"&&(t.argument=f(t.argument,h));break;case r.UpdateExpression:break;case r.VariableDeclaration:break;case r.VariableDeclarator:break;case r.WhileStatement:t.test=l(t.test,h);break;case r.WithStatement:}},leave:function(t){h=p.release(t)||h,(t.type===r.FunctionExpression||t.type===r.FunctionDeclaration)&&--a}}),p.detach(),{result:s,modified:u}}var n,r,i,s,o,u;n="remove-context-sensitive-expressions",i=e("../common"),s=e("../evaluator"),o=e("escope"),r=i.Syntax,a.prototype.booleanTransformation=function(e){var t;do{if(e.type===r.UnaryExpression){if(e.operator==="!"&&e.argument.type===r.UnaryExpression&&e.argument.operator==="!"){u=!0,e=e.argument.argument;continue}}else if(e.type===r.LogicalExpression){if(e.left.type===r.UnaryExpression&&e.left.operator==="!"&&e.right.type===r.UnaryExpression&&e.right.operator==="!"){u=!0,e.left=e.left.argument,e.right=e.right.argument,e.operator=e.operator==="||"?"&&":"||",e=i.moveLocation(e,{type:r.UnaryExpression,operator:"!",argument:e});continue}}else e.type===r.ConditionalExpression&&e.test.type===r.UnaryExpression&&e.test.operator==="!"&&(u=!0,e.test=e.test.argument,t=e.consequent,e.consequent=e.alternate,e.alternate=t);break}while(!0);return e},a.prototype.voidTransformation=function(e){var t,n;do{e=this.booleanTransformation(e);if(e.type===r.UnaryExpression){if(e.operator==="!"||e.operator==="void"){u=!0,e=e.argument;continue}}else e.type===r.LogicalExpression?e.left.type===r.UnaryExpression&&e.left.operator==="!"&&(u=!0,e.left=e.left.argument,e.operator=e.operator==="||"?"&&":"||"):e.type===r.ConditionalExpression&&(t=s.hasSideEffect(e.consequent,this.scope),n=s.hasSideEffect(e.alternate,this.scope),!t&&!n?(u=!0,e=e.test):t?n||(u=!0,e=i.moveLocation(e,{type:r.LogicalExpression,operator:"&&",left:e.test,right:e.consequent})):(u=!0,e=i.moveLocation(e,{type:r.LogicalExpression,operator:"||",left:e.test,right:e.alternate})));break}while(!0);return e},a.prototype.apply=function(e){var t;do{t=e,e=this.transform(e);if(t!==e)continue;e.type===r.LogicalExpression?(e.left=this.booleanFunction(e.left,this.scope),e.right=this.voidFunction(e.right,this.scope)):e.type===r.ConditionalExpression?(e.consequent=this.voidFunction(e.consequent,this.scope),e.alternate=this.voidFunction(e.alternate,this.scope)):e.type===r.SequenceExpression&&(e.expressions[e.expressions.length-1]=this.voidFunction(i.Array.last(e.expressions),this.scope));break}while(!0);return e},c.passName=n,t.exports=c})()},{"../common":34,"../evaluator":36,escope:70}],49:[function(e,t,n){(function(){"use strict";function o(e){var t,n,i,o;o=[];for(t=0,n=e.length;t<n;++t)i=e[t],i.type===r.EmptyStatement?s=!0:o.push(i);return o}function u(e){e.alternate&&(e.alternate.type===r.EmptyStatement?(s=!0,e.alternate=null):e.consequent.type===r.EmptyStatement&&(s=!0,e.consequent=e.alternate,e.alternate=null,e.test=i.moveLocation(e.test,{type:r.UnaryExpression,operator:"!",argument:e.test})))}function a(e,t){var a;return s=!1,a=t.get("destructive",{pathName:n})?e:i.deepCopy(e),i.traverse(a,{enter:function(t){var n;switch(t.type){case r.BlockStatement:case r.Program:t.body=o(t.body);break;case r.SwitchCase:t.consequent=o(t.consequent);break;case r.IfStatement:u(t);break;case r.SwitchStatement:t.cases.length&&(n=i.Array.last(t.cases),!n.test&&i.Array.empty(n.consequent)&&(s=!0,t.cases.pop()))}}}),{result:a,modified:s}}var n,r,i,s;n="remove-empty-statement",i=e("../common"),r=i.Syntax,a.passName=n,t.exports=a})()},{"../common":34}],50:[function(e,t,n){(function(){"use strict";function a(e,t,n,r){var s,a,f,l,c;i.assert(e.expressions.length>1,"expressions should be more than one"),l=[];for(s=0,a=e.expressions.length;s<a;++s){c=f,f=e.expressions[s];if(s+1!==a||!r)if(!o.hasSideEffect(f,t))continue;l.push(f)}if(!r&&l.length===0)return u=!0,f;i.assert(l.length>0,"result should be more than zero");do{if(a===l.length)return e;if(l.length===1){if(!i.SpecialNode.canExtractSequence(l[0],n,t)){l.unshift(c);continue}return u=!0,l[0]}return u=!0,e.expressions=l,e}while(!0)}function f(e,t){function p(e,t){return e.type!==r.ExpressionStatement||!!h&&t.type==="global"?!0:!1}var f,l,c,h;return f=t.get("destructive",{pathName:n})?e:i.deepCopy(e),h=t.get("preserveCompletionValue",{pathName:n}),u=!1,l=null,c=s.analyze(f,{directive:!0}),c.attach(),f=i.replace(f,{enter:function(t,n){var s,f,h;return s=t,l=c.acquire(t)||l,s.type===r.SequenceExpression&&(s=a(s,l,n,p(n,l))),s.type===r.SequenceExpression&&(i.assert(s.expressions.length>1,"sequences' length should be more than 1"),f=i.Array.last(s.expressions),f.type===r.UnaryExpression&&f.operator==="void"&&!o.hasSideEffect(f.argument,l)&&(u=!0,s.expressions.pop(),h=i.moveLocation(f,{type:r.UnaryExpression,operator:"void",argument:i.Array.last(s.expressions)}),s.expressions.length===1?s=h:s.expressions[s.expressions.length-1]=h)),p(s,l)||o.hasSideEffect(s.expression,l)||(u=!0,s=i.moveLocation(s,{type:r.EmptyStatement})),s},leave:function(t){l=c.release(t)||l}}),c.detach(),{result:f,modified:u}}var n,r,i,s,o,u;n="remove-side-effect-free-expressions",s=e("escope"),i=e("../common"),o=e("../evaluator"),r=i.Syntax,f.passName=n,t.exports=f})()},{"../common":34,"../evaluator":36,escope:70}],51:[function(e,t,n){(function(){"use strict";function a(e,t){var n,s,a;n=o.booleanCondition(t.test);if(!t.alternate){if(typeof n=="boolean")return u=!0,s=[],n?(s.push(i.moveLocation(t.test,{type:r.ExpressionStatement,expression:t.test}),t.consequent),{type:r.BlockStatement,body:s}):(a=i.delegateVariableDeclarations(t.consequent,e),a&&s.push(a),s.push(i.moveLocation(t.test,{type:r.ExpressionStatement,expression:t.test})),{type:r.BlockStatement,body:s})}else if(typeof n=="boolean")return u=!0,s=[],n?(a=i.delegateVariableDeclarations(t.alternate,e),a&&s.push(a),s.push(i.moveLocation(t.test,{type:r.ExpressionStatement,expression:t.test}),t.consequent),{type:r.BlockStatement,body:s}):(a=i.delegateVariableDeclarations(t.consequent,e),a&&s.push(a),s.push(i.moveLocation(t.test,{type:r.ExpressionStatement,expression:t.test}),t.alternate),{type:r.BlockStatement,body:s})}function f(e,t){var n;n=o.booleanCondition(t.left);if(typeof n=="boolean")return u=!0,n?t.operator==="&&"?i.moveLocation(t,{type:r.SequenceExpression,expressions:[t.left,t.right]}):t.left:t.operator==="&&"?t.left:i.moveLocation(t,{type:r.SequenceExpression,expressions:[t.left,t.right]})}function l(e,t){var n;n=o.booleanCondition(t.test);if(typeof n=="boolean")return u=!0,n?i.moveLocation(t,{type:r.SequenceExpression,expressions:[t.test,t.consequent]}):i.moveLocation(t,{type:r.SequenceExpression,expressions:[t.test,t.alternate]})}function c(e,t){var o,c;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),u=!1,c=[],o=i.replace(o,{enter:function(t){var n;if(s.Scope.isVariableScopeRequired(t)){c.push(t);return}n=i.Array.last(c);switch(t.type){case r.IfStatement:return a(n,t);case r.LogicalExpression:return f(n,t);case r.ConditionalExpression:return l(n,t)}},leave:function(t){s.Scope.isVariableScopeRequired(t)&&c.pop()}}),{result:o,modified:u}}var n,r,i,s,o,u;n="remove-unreachable-branch",s=e("escope"),i=e("../common"),o=e("../evaluator"),r=i.Syntax,c.passName=n,t.exports=c})()},{"../common":34,"../evaluator":36,escope:70}],52:[function(e,t,n){(function(){"use strict";function a(e){this.set=new i,this.unused=[],this.upper=e}function f(e,t){var i;return i=t.get("destructive",{pathName:n})?e:s.deepCopy(e),o=null,u=!1,i=s.replace(i,{enter:function(t){switch(t.type){case r.Program:case r.FunctionDeclaration:case r.FunctionExpression:o=new a(o);break;case r.LabeledStatement:o.register(t);break;case r.BreakStatement:case r.ContinueStatement:o.resolve(t)}},leave:function(t){var n;n=o.unregister(t);if(t.type===r.Program||t.type===r.FunctionDeclaration||t.type===r.FunctionExpression)o=o.close();return n}}),{result:i,modified:u}}var n,r,i,s,o,u;n="remove-unused-label",s=e("../common"),i=e("../map"),r=s.Syntax,a.prototype.register=function(t){var n;s.assert(t.type===r.LabeledStatement),n=t.label.name,s.assert(!this.set.has(n),"duplicate label is found"),this.set.set(n,{used:!1,stmt:t})},a.prototype.unregister=function(t){var n,i;if(t.type===r.LabeledStatement){n=t.label.name,i=this.set.get(n),this.set["delete"](n);if(!i.used)return u=!0,t.body}return t},a.prototype.resolve=function(t){var n;t.label&&(n=t.label.name,s.assert(this.set.has(n),"unresolved label"),this.set.get(n).used=!0)},a.prototype.close=function(){return this.upper},f.passName=n,t.exports=f})()},{"../common":34,"../map":37}],53:[function(e,t,n){(function(){"use strict";function o(e){var t,n,o,u,a,f,l,c;a=[];for(t=0,n=e.length;t<n;++t){f=e[t];if(f.type===r.BlockStatement){c=!0;for(o=0,u=f.body.length;o<u;++o)l=f.body[o],i.isScopedDeclaration(l)&&(c=!1)
;c?(s=!0,a=a.concat(f.body)):a.push(f)}else a.push(f)}return a}function u(e,t){var u;return u=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,u=i.replace(u,{leave:function(t,n){var u,a,f;if(t.type===r.BlockStatement||t.type===r.Program)for(u=0,a=t.body.length;u<a;++u){f=t.body[u];if(f.type===r.BlockStatement){t.body=o(t.body);break}}if(n.type===r.FunctionDeclaration||n.type===r.FunctionExpression||n.type===r.TryStatement||n.type===r.CatchClause)return;while(t.type===r.BlockStatement&&t.body.length===1&&!i.isScopedDeclaration(t.body[0]))s=!0,t=t.body[0];return t.type===r.BlockStatement&&t.body.length===0?(s=!0,{type:r.EmptyStatement}):t}}),{result:u,modified:s}}var n,r,i,s;n="remove-wasted-blocks",i=e("../common"),r=i.Syntax,u.passName=n,t.exports=u})()},{"../common":34}],54:[function(e,t,n){(function(){"use strict";function o(e){var t,n,i,o,u,a;o=[],u=[],a=[];for(t=0,n=e.length;t<n;++t)i=e[t],i.type===r.FunctionDeclaration?(u.length+o.length!==t&&(s=!0),u.push(i)):i.type===r.DirectiveStatement?o.push(i):a.push(i);return o.concat(u,a)}function u(e,t){var u;return u=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,i.traverse(u,{leave:function(t){switch(t.type){case r.Program:t.body=o(t.body);break;case r.FunctionDeclaration:case r.FunctionExpression:t.body.body=o(t.body.body)}}}),{result:u,modified:s}}var n,r,i,s;n="reordering-function-declarations",i=e("../common"),r=i.Syntax,u.passName=n,t.exports=u})()},{"../common":34}],55:[function(e,t,n){(function(){"use strict";function o(e,t){var o,u;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),u=t.get("preserveCompletionValue",{pathName:n}),s=!1,o=i.replace(o,{leave:function(t){var n,o,a;if(t.type===r.IfStatement){a=this.parents();if(u&&i.mayBeCompletionValue(t,a))return;if(t.alternate){if(t.consequent.type===r.ExpressionStatement&&t.alternate.type===r.ExpressionStatement)return s=!0,i.moveLocation(t,{type:r.ExpressionStatement,expression:i.moveLocation(t,{type:r.ConditionalExpression,test:t.test,consequent:t.consequent.expression,alternate:t.alternate.expression})});if(t.consequent.type===r.ReturnStatement&&t.alternate.type===r.ReturnStatement)return s=!0,!t.consequent.argument&&!t.alternate.argument?i.moveLocation(t,{type:r.ReturnStatement,argument:i.moveLocation(t,{type:r.SequenceExpression,expressions:[t.test,i.SpecialNode.generateUndefined()]})}):(n=t.consequent.argument||i.SpecialNode.generateUndefined(),o=t.alternate.argument||i.SpecialNode.generateUndefined(),i.moveLocation(t,{type:r.ReturnStatement,argument:i.moveLocation(t,{type:r.ConditionalExpression,test:t.test,consequent:n,alternate:o})}));if(t.consequent.type===r.ThrowStatement&&t.alternate.type===r.ThrowStatement)return s=!0,i.moveLocation(t,{type:r.ThrowStatement,argument:i.moveLocation(t,{type:r.ConditionalExpression,test:t.test,consequent:t.consequent.argument,alternate:t.alternate.argument})})}else{if(t.consequent.type===r.ExpressionStatement)return s=!0,i.moveLocation(t,{type:r.ExpressionStatement,expression:i.moveLocation(t,{type:r.LogicalExpression,operator:"&&",left:t.test,right:t.consequent.expression})});if(t.consequent.type===r.EmptyStatement)return s=!0,i.moveLocation(t,{type:r.ExpressionStatement,expression:t.test})}}}}),{result:o,modified:s}}var n,r,i,s;n="transform-branch-to-expression",i=e("../common"),r=i.Syntax,o.passName=n,t.exports=o})()},{"../common":34}],56:[function(e,t,n){(function(){"use strict";function o(e,t){var o;return s=!1,o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),i.traverse(o,{enter:function(t){var n;t.type===r.MemberExpression&&t.computed&&(n=t.property,n.type===r.Literal&&typeof n.value=="string"&&(i.isIdentifier(n.value)?(s=!0,t.computed=!1,t.property=i.moveLocation(n,{type:r.Identifier,name:n.value})):n.value===Number(n.value).toString()&&(s=!0,t.computed=!0,t.property=i.moveLocation(t.property,i.SpecialNode.generateFromValue(Number(t.property.value))))))}}),{result:o,modified:s}}var n,r,i,s;n="transform-dynamic-to-static-property-access",i=e("../common"),r=i.Syntax,o.passName=n,t.exports=o})()},{"../common":34}],57:[function(e,t,n){(function(){"use strict";function o(e,t){var o;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,i.traverse(o,{enter:function(t){var n;t.type===r.Property&&t.key.type===r.Literal&&typeof t.key.value=="string"&&(i.isIdentifier(t.key.value)?(s=!0,t.key=i.moveLocation(t.key,{type:r.Identifier,name:t.key.value})):t.key.value===Number(t.key.value).toString()&&(n=i.SpecialNode.generateFromValue(Number(t.key.value)),n.type===r.Literal&&(s=!0,t.key=i.moveLocation(t.key,n))))}}),{result:o,modified:s}}var n,r,i,s;n="transform-dynamic-to-static-property-definition",i=e("../common"),r=i.Syntax,o.passName=n,t.exports=o})()},{"../common":34}],58:[function(e,t,n){(function(){"use strict";function o(e){var t,n,i,s;if(e.type!==r.CallExpression)return!1;t=e.callee;if(t.type!==r.FunctionExpression)return!1;if(t.body.type!==r.BlockStatement)return!1;if(t.body.body.length===0)return!0;for(n=0,i=t.body.body.length;n<i;++n){s=t.body.body[n];if(s.type!==r.FunctionDeclaration)return!1}return!0}function u(e){var t;return t=i.Array.from(e.arguments),t.length===0?i.SpecialNode.generateUndefined(e):(t.push(i.SpecialNode.generateUndefined()),i.moveLocation(e,{type:r.SequenceExpression,expressions:t}))}function a(e,t){var r;return r=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,r=i.replace(r,{leave:function(t){if(o(t))return s=!0,u(t)}}),{result:r,modified:s}}var n,r,i,s;n="transform-immediate-function-call",i=e("../common"),r=i.Syntax,a.passName=n,t.exports=a})()},{"../common":34}],59:[function(e,t,n){(function(){"use strict";function o(e,t){var o;return o=t.get("destructive",{pathName:n})?e:i.deepCopy(e),s=!1,i.traverse(o,{enter:function(t){t.type===r.LogicalExpression&&t.right.type===r.LogicalExpression&&t.operator===t.right.operator&&(s=!0,t.left={type:r.LogicalExpression,operator:t.operator,left:t.left,right:t.right.left},t.right=t.right.right)}}),{result:o,modified:s}}var n,r,i,s;n="transform-logical-association",i=e("../common"),r=i.Syntax,o.passName=n,t.exports=o})()},{"../common":34}],60:[function(e,t,n){(function(){"use strict";function u(e,t){return e.type!==t.type?!1:e.type===r.Identifier?e.name===t.name:!1}function a(e){switch(e){case"*":case"/":case"%":case"+":case"-":case"<<":case">>":case">>>":case"&":case"^":case"|":return e+"="}return null}function f(e){switch(e){case"*=":case"/=":case"%=":case"+=":case"-=":case"<<=":case">>=":case">>>=":case"&=":case"^=":case"|=":return e}return null}function l(e,t){var l,c,h;return l=t.get("destructive",{pathName:n})?e:i.deepCopy(e),o=!1,c=null,h=s.analyze(l,{directive:!0}),h.attach(),i.traverse(l,{enter:function(t){var n,i,s,l;c=h.acquire(t)||c,t.type===r.AssignmentExpression&&t.operator==="="&&(n=t.left,i=t.right,i.type===r.BinaryExpression&&u(i.left,n)?(s=a(i.operator),s&&(o=!0,t.operator=s,t.right=i.right)):i.type===r.AssignmentExpression&&u(i.left,n)&&f(i.operator)&&(l=c.resolve(t.left),l.isStatic()&&(o=!0,t.operator=i.operator,t.right=i.right)))},leave:function(t){c=h.release(t)||c}}),h.detach(),{result:l,modified:o}}var n,r,i,s,o;n="transform-to-compound-assignment",s=e("escope"),i=e("../common"),r=i.Syntax,l.passName=n,t.exports=l})()},{"../common":34,escope:70}],61:[function(e,t,n){(function(){"use strict";function o(e){function f(e,t){var n;return e.length!==1&&(s=!0,n={type:r.SequenceExpression,expressions:e},t.type===r.ExpressionStatement?t.expression=n:t.argument=n),t}var t,n,i,o,u,a;a=[],i=[];for(t=0,n=e.body.length;t<n;++t)u=o,o=e.body[t],o.type===r.ExpressionStatement?i.push(o.expression):o.type===r.ReturnStatement&&o.argument!=null||o.type===r.ThrowStatement?(i.push(o.argument),a.push(f(i,o)),i=[]):o.type!==r.ForStatement||!!o.init&&o.init.type===r.VariableDeclaration?o.type===r.IfStatement?(i.length&&(s=!0,i.push(o.test),o.test={type:r.SequenceExpression,expressions:i},i=[]),a.push(o)):(i.length&&(a.push(f(i,u)),i=[]),a.push(o)):(i.length&&(s=!0,o.init&&i.push(o.init),i.length===1?o.init=i[0]:o.init={type:r.SequenceExpression,expressions:i},i=[]),a.push(o));i.length&&a.push(f(i,o)),e.body=a}function u(e,t){var u;return s=!1,u=t.get("destructive",{pathName:n})?e:i.deepCopy(e),i.traverse(u,{enter:function(t){switch(t.type){case r.BlockStatement:case r.Program:o(t)}}}),{result:u,modified:s}}var n,r,i,s;n="transform-to-sequence-expression",i=e("../common"),r=i.Syntax,u.passName=n,t.exports=u})()},{"../common":34}],62:[function(e,t,n){(function(){"use strict";function u(e){return e.type===r.Literal&&e.value==="undefined"}function a(e,t){var a,f,l;return a=t.get("destructive",{pathName:n})?e:i.deepCopy(e),o=!1,l=null,f=s.analyze(a,{directive:!0}),f.attach(),i.traverse(a,{enter:function(t){var n,s,a,c;l=f.acquire(t)||l;if(t.type===r.BinaryExpression&&(t.operator==="==="||t.operator==="!=="||t.operator==="=="||t.operator==="!=")){if(u(t.left))s="left",n="right";else{if(!u(t.right))return;s="right",n="left"}if(t[n].type===r.UnaryExpression&&t[n].operator==="typeof"){a=t[n].argument;if(a.type===r.Identifier){c=l.resolve(a);if(!c||!c.isStatic()||!c.resolved)return}o=!0,t[s]=i.SpecialNode.generateUndefined(),t[n]=a,t.operator=t.operator.charAt(0)==="!"?"!==":"==="}}},leave:function(t){l=f.release(t)||l}}),f.detach(),{result:a,modified:o}}var n,r,i,s,o;n="transform-typeof-undefined",s=e("escope"),i=e("../common"),r=i.Syntax,a.passName=n,t.exports=a})()},{"../common":34,escope:70}],63:[function(e,t,n){(function(){"use strict";function u(e){return i.SpecialNode.isUndefined(e)?!1:i.SpecialNode.isNegative(e)?!1:i.SpecialNode.isNaN(e)?!1:s.constant.isConstant(e,!1)}function a(e){return e.type!==r.ConditionalExpression?!1:s.constant.isConstant(e.consequent)||s.constant.isConstant(e.alternate)}function f(e){var t,n,u,f,l;switch(e.type){case r.BinaryExpression:if(e.operator==="in"||e.operator==="instanceof")return e;s.constant.isConstant(e.left)&&a(e.right)?(o=!0,t=e,u=t.operator,f=s.constant.evaluate(t.left),e=e.right,s.constant.isConstant(e.consequent)?e.consequent=i.SpecialNode.generateFromValue(s.constant.doBinary(u,f,s.constant.evaluate(e.consequent))):(t.right=e.consequent,e.consequent=t),s.constant.isConstant(e.alternate)?e.alternate=i.SpecialNode.generateFromValue(s.constant.doBinary(u,f,s.constant.evaluate(e.alternate))):(t.right=e.alternate,e.alternate=t)):s.constant.isConstant(e.right)&&a(e.left)&&(o=!0,t=e,u=t.operator,l=s.constant.evaluate(t.right),e=e.left,s.constant.isConstant(e.consequent)?e.consequent=i.SpecialNode.generateFromValue(s.constant.doBinary(u,s.constant.evaluate(e.consequent),l)):(t.left=e.consequent,e.consequent=t),s.constant.isConstant(e.alternate)?e.alternate=i.SpecialNode.generateFromValue(s.constant.doBinary(u,s.constant.evaluate(e.alternate),l)):(t.left=e.alternate,e.alternate=t));break;case r.LogicalExpression:break;case r.UnaryExpression:a(e.argument)&&(o=!0,n=e,u=n.operator,e=n.argument,s.constant.isConstant(e.consequent)?e.consequent=i.SpecialNode.generateFromValue(s.constant.doUnary(u,s.constant.evaluate(e.consequent))):(n.argument=e.consequent,e.consequent=n),s.constant.isConstant(e.alternate)?e.alternate=i.SpecialNode.generateFromValue(s.constant.doUnary(u,s.constant.evaluate(e.alternate))):(n.argument=e.alternate,e.alternate=n))}return e}function l(e,t){var a;return a=t.get("destructive",{pathName:n})?e:i.deepCopy(e),o=!1,a=i.replace(a,{leave:function(t){var n,a;switch(t.type){case r.BinaryExpression:case r.LogicalExpression:case r.UnaryExpression:if(u(t))return o=!0,i.moveLocation(t,i.SpecialNode.generateFromValue(s.constant.evaluate(t)));return f(t);case r.ConditionalExpression:if(s.constant.isConstant(t.consequent)&&s.constant.isConstant(t.alternate)){n=s.constant.evaluate(t.consequent),a=s.constant.evaluate(t.alternate);if(i.sameValue(n,a))return o=!0,i.moveLocation(t,{type:r.SequenceExpression,expressions:[t.test,i.SpecialNode.generateFromValue(n)]})}}}}),{result:a,modified:o}}var n,r,i,s,o;n="tree-based-constant-folding",i=e("../common"),s=e("../evaluator"),r=i.Syntax,l.passName=n,t.exports=l})()},{"../common":34,"../evaluator":36}],64:[function(e,t,n){(function(){"use strict";function o(e){var t;return e.type!==r.CallExpression?!1:(t=e.callee,t.type===r.FunctionExpression)}function u(e,t){var u,a,f;return u=t.get("destructive",{pathName:n})?e:i.deepCopy(e),f=t.get("preserveCompletionValue",{pathName:n}),s=!1,u=i.replace(u,{enter:function(t,n){var u,a;if(!o(t))return;a=n;if(a.type===r.ExpressionStatement){u=this.parents(),u.pop();if(f&&i.mayBeCompletionValue(a,u))return}else{if(!(a.type===r.SequenceExpression&&a.expressions.length>=2&&a.expressions[0]===t))return;u=this.parents(),u.pop(),a=u.pop();if(a.type!==r.ExpressionStatement)return}return s=!0,{type:r.UnaryExpression,operator:"!",argument:t}},leave:function(t){(t.type===r.FunctionExpression||t.type===r.FunctionDeclaration)&&--a}}),{result:u,modified:s}}var n,r,i,s;n="omit-parens-in-void-context-iife",i=e("../common"),r=i.Syntax,u.passName=n,t.exports=u})()},{"../common":34}],65:[function(e,t,n){(function(){"use strict";function o(e){return e.type===r.Literal&&typeof e.value=="boolean"}function u(e){if(o(e))return s=!0,i.moveLocation(e,{type:r.UnaryExpression,operator:"!",argument:i.moveLocation(e,{type:r.Literal,value:+!e.value})});if(e.type===r.BinaryExpression&&e.operator==="=="||e.operator==="!="){if(o(e.left))return s=!0,e.left=i.moveLocation(e.left,{type:r.Literal,value:+e.left.value}),e;if(o(e.right))return s=!0,e.right=i.moveLocation(e.right,{type:r.Literal,value:+e.right.value}),e}return e}function a(e,t){var r;return s=!1,r=t.get("destructive",{pathName:n})?e:i.deepCopy(e),r=i.replace(r,{enter:u}),{result:r,modified:s}}var n,r,i,s;n="rewrite-boolean",i=e("../common"),r=i.Syntax,a.passName=n,t.exports=a})()},{"../common":34}],66:[function(e,t,n){(function(){"use strict";function o(e){var t,n,i;t=e.test,n=e.consequent,i=e.alternate,t.type===r.UnaryExpression&&t.operator==="!"&&(s=!0,e.consequent=i,e.alternate=n,e.test=t.argument)}function u(e,t){var u;return s=!1,u=t.get("destructive",{pathName:n})?e:i.deepCopy(e),i.traverse(u,{enter:function(t){t.type===r.ConditionalExpression&&o(t)}}),{result:u,modified:s}}var n,r,i,s;n="rewrite-conditional-expression",i=e("../common"),r=i.Syntax,u.passName=n,t.exports=u})()},{"../common":34}],67:[function(e,t,n){(function(){"use strict";function s(e,t){var s,o;return s=t.get("destructive",{pathName:n})?e:i.deepCopy(e),o=!1,s=i.replace(s,{enter:function(t){if(t.type===r.Literal&&typeof t.value=="number"&&t.value===Infinity)return o=!0,i.moveLocation(t,{type:r.BinaryExpression,operator:"/",left:{type:r.Literal,value:1},right:{type:r.Literal,value:0}})}}),{result:s,modified:o}}var n,r,i;n="transform-infinity",i=e("../common"),r=i.Syntax,s.passName=n,t.exports=s})()},{"../common":34}],68:[function(e,t,n){(function(){"use strict";function s(e,t){var s,o;return s=t.get("destructive",{pathName:n})?e:i.deepCopy(e),o=!1,i.traverse(s,{enter:function(t){var n;if(t.type!==r.MemberExpression||t.computed||t.property.type!==r.Identifier)return;n=t.property;switch(n.name){case"undefined":o=!0,t.computed=!0,t.property=i.moveLocation(n,{type:r.UnaryExpression,operator:"void",argument:{type:r.Literal,value:0}});break;case"true":case"false":o=!0,t.computed=!0,t.property=i.moveLocation(n,{type:r.Literal,value:n.name==="true"});break;case"Infinity":o=!0,t.computed=!0,t.property=i.moveLocation(n,{type:r.BinaryExpression,operator:"/",left:{type:r.Literal,value:1},right:{type:r.Literal,value:0}})}}}),{result:s,modified:o}}var n,r,i;n="transform-static-to-dynamic-property-access",i=e("../common"),r=i.Syntax,s.passName=n,t.exports=s})()},{"../common":34}],69:[function(e,t,n){(function(){"use strict";var t;t=e("./common"),n.get=function(t,n){var r,i,s,o;o=t;for(r=0,i=n.length;r<i;++r)s=n[r],o=o[s];return o},n.set=function(n,r,i){var s,o,u,a;t.assert(r.length>0),a=n;for(s=0,o=r.length-1;s<o;++s)u=r[s],a=a[u];u=r[s],a[u]=i}})()},{"./common":34}],70:[function(e,t,n){(function(t,r){"use strict";function i(e,t){var n,r,i,s;i=e.split(".");for(n=0,r=i.length;n<r;++n)s=i[n],t.hasOwnProperty(s)?t=t[s]:t=t[s]={};return t}typeof define=="function"&&define.amd?define("escope",["exports","estraverse"],function(e,n){t(e,r,n)}):typeof n!="undefined"?t(n,r,e("estraverse")):t(i("escope",r),r,r.estraverse)})(function(e,t,n){"use strict";function f(e,t){if(!e)throw new Error(t)}function l(){return{optimistic:!1,directive:!1,ecmaVersion:5}}function c(e,t){function i(e){return typeof e=="object"&&e instanceof Object&&!(e instanceof RegExp)}var n,r;for(n in t)t.hasOwnProperty(n)&&(r=t[n],i(r)?i(e[n])?c(e[n],r):e[n]=c({},r):e[n]=r);return e}function h(e,t,n,r,i){this.identifier=e,this.from=t,this.tainted=!1,this.resolved=null,this.flag=n,this.isWrite()&&(this.writeExpr=r),this.__maybeImplicitGlobal=i}function p(e,t){this.name=e,this.identifiers=[],this.references=[],this.defs=[],this.tainted=!1,this.stack=!0,this.scope=t}function d(e,t){var n,i,s,o,u;if(e.upper&&e.upper.isStrict)return!0;if(e.type==="function")n=t.body;else{if(e.type!=="global")return!1;n=t}if(a.directive)for(i=0,s=n.body.length;i<s;++i){o=n.body[i];if(o.type!=="DirectiveStatement")break;if(o.raw==='"use strict"'||o.raw==="'use strict'")return!0}else for(i=0,s=n.body.length;i<s;++i){o=n.body[i];if(o.type!==r.ExpressionStatement)break;u=o.expression;if(u.type!==r.Literal||typeof u.value!="string")break;if(u.raw!=null){if(u.raw==='"use strict"'||u.raw==="'use strict'")return!0}else if(u.value==="use strict")return!0}return!1}function v(e,t){var n,a;this.type=e.type===r.CatchClause?"catch":e.type===r.WithStatement?"with":e.type===r.Program?"global":"function",this.set=new i,this.taints=new i,this.dynamic=this.type==="global"||this.type==="with",this.block=e,this.through=[],this.variables=[],this.references=[],this.left=[],this.variableScope=this.type==="global"||this.type==="function"?this:s.variableScope,this.functionExpressionScope=!1,this.directCallToEvalScope=!1,this.thisFound=!1,a=this.type==="function"?e.body:e,t.naming?(this.__define(e.id,{type:p.FunctionName,name:e.id,node:e}),this.functionExpressionScope=!0):(this.type==="function"&&(n=new p("arguments",this),this.taints.set("arguments",!0),this.set.set("arguments",n),this.variables.push(n)),e.type===r.FunctionExpression&&e.id&&new v(e,{naming:!0})),this.upper=s,this.isStrict=d(this,e),this.childScopes=[],s&&s.childScopes.push(this),s=this,this.type==="global"&&(o=this,o.implicit={set:new i,variables:[]}),u.push(this)}function m(e){this.scopes=e,this.attached=!1}function g(e,t){var i;return a=c(l(),t),i=u=[],s=null,o=null,n.traverse(e,{enter:function(t){var n,i,o;v.isScopeRequired(t)&&new v(t,{});switch(t.type){case r.AssignmentExpression:t.operator==="="?s.__referencing(t.left,h.WRITE,t.right,!s.isStrict&&t.left.name!=null&&t):s.__referencing(t.left,h.RW,t.right),s.__referencing(t.right);break;case r.ArrayExpression:for(n=0,i=t.elements.length;n<i;++n)s.__referencing(t.elements[n]);break;case r.BlockStatement:break;case r.BinaryExpression:s.__referencing(t.left),s.__referencing(t.right);break;case r.BreakStatement:break;case r.CallExpression:s.__referencing(t.callee);for(n=0,i=t.arguments.length;n<i;++n)s.__referencing(t.arguments[n]);!a.ignoreEval&&t.callee.type===r.Identifier&&t.callee.name==="eval"&&s.variableScope.__detectEval();break;case r.CatchClause:s.__define(t.param,{type:p.CatchClause,name:t.param,node:t});break;case r.ConditionalExpression:s.__referencing(t.test),s.__referencing(t.consequent),s.__referencing(t.alternate);break;case r.ContinueStatement:break;case r.DirectiveStatement:break;case r.DoWhileStatement:s.__referencing(t.test);break;case r.DebuggerStatement:break;case r.EmptyStatement:break;case r.ExpressionStatement:s.__referencing(t.expression);break;case r.ForStatement:s.__referencing(t.init),s.__referencing(t.test),s.__referencing(t.update);break;case r.ForInStatement:t.left.type===r.VariableDeclaration?s.__referencing(t.left.declarations[0].id,h.WRITE,null,!1):s.__referencing(t.left,h.WRITE,null,!s.isStrict&&t.left.name!=null&&t),s.__referencing(t.right);break;case r.FunctionDeclaration:s.upper.__define(t.id,{type:p.FunctionName,name:t.id,node:t});for(n=0,i=t.params.length;n<i;++n)s.__define(t.params[n],{type:p.Parameter,name:t.params[n],node:t,index:n});break;case r.FunctionExpression:for(n=0,i=t.params.length;n<i;++n)s.__define(t.params[n],{type:p.Parameter,name:t.params[n],node:t,index:n});break;case r.Identifier:break;case r.IfStatement:s.__referencing(t.test);break;case r.Literal:break;case r.LabeledStatement:break;case r.LogicalExpression:s.__referencing(t.left),s.__referencing(t.right);break;case r.MemberExpression:s.__referencing(t.object),t.computed&&s.__referencing(t.property);break;case r.NewExpression:s.__referencing(t.callee);for(n=0,i=t.arguments.length;n<i;++n)s.__referencing(t.arguments[n]);break;case r.ObjectExpression:for(n=0;n<t.properties.length;n++)t.properties[n].kind==="init"&&s.__referencing(t.properties[n].value);break;case r.Program:break;case r.Property:break;case r.ReturnStatement:s.__referencing(t.argument);break;case r.SequenceExpression:for(n=0,i=t.expressions.length;n<i;++n)s.__referencing(t.expressions[n]);break;case r.SwitchStatement:s.__referencing(t.discriminant);break;case r.SwitchCase:s.__referencing(t.test);break;case r.ThisExpression:s.variableScope.__detectThis();break;case r.ThrowStatement:s.__referencing(t.argument);break;case r.TryStatement:break;case r.UnaryExpression:s.__referencing(t.argument);break;case r.UpdateExpression:s.__referencing(t.argument,h.RW,null);break;case r.VariableDeclaration:for(n=0,i=t.declarations.length;n<i;++n)o=t.declarations[n],s.variableScope.__define(o.id,{type:p.Variable,name:o.id,node:o,index:n,parent:t}),o.init&&(s.__referencing(o.id,h.WRITE,o.init,!1),s.__referencing(o.init));break;case r.VariableDeclarator:break;case r.WhileStatement:s.__referencing(t.test);break;case r.WithStatement:s.upper.__referencing(t.object)}},leave:function(t){while(s&&t===s.block)s.__close()}}),f(s===null),o=null,u=null,a=null,new m(i)}var r,i,s,o,u,a;r=n.Syntax,typeof t.Map!="undefined"?i=t.Map:(i=function(){this.__data={}},i.prototype.get=function(t){return t="$"+t,this.__data.hasOwnProperty(t)?this.__data[t]:undefined},i.prototype.has=function(t){return t="$"+t,this.__data.hasOwnProperty(t)},i.prototype.set=function(t,n){t="$"+t,this.__data[t]=n},i.prototype["delete"]=function(t){return t="$"+t,delete this.__data[t]}),h.READ=1,h.WRITE=2,h.RW=3,h.prototype.isStatic=function(){return!this.tainted&&this.resolved&&this.resolved.scope.isStatic()},h.prototype.isWrite=function(){return this.flag&h.WRITE},h.prototype.isRead=function(){return this.flag&h.READ},h.prototype.isReadOnly=function(){return this.flag===h.READ},h.prototype.isWriteOnly=function(){return this.flag===h.WRITE},h.prototype.isReadWrite=function(){return this.flag===h.RW},p.CatchClause="CatchClause",p.Parameter="Parameter",p.FunctionName="FunctionName",p.Variable="Variable",p.ImplicitGlobalVariable="ImplicitGlobalVariable",v.prototype.__close=function(){var t,n,r,i,o,u;if(!this.dynamic||a.optimistic)for(t=0,n=this.left.length;t<n;++t)r=this.left[t],this.__resolve(r)||this.__delegateToUpperScope(r);else if(this.type==="with")for(t=0,n=this.left.length;t<n;++t)r=this.left[t],r.tainted=!0,this.__delegateToUpperScope(r);else for(t=0,n=this.left.length;t<n;++t){r=this.left[t],i=this;do i.through.push(r),i=i.upper;while(i)}if(this.type==="global"){u=[];for(t=0,n=this.left.length;t<n;++t)r=this.left[t],r.__maybeImplicitGlobal&&!this.set.has(r.identifier.name)&&u.push(r.__maybeImplicitGlobal);for(t=0,n=u.length;t<n;++t)o=u[t],this.__defineImplicit(o.left,{type:p.ImplicitGlobalVariable,name:o.left,node:o})}this.left=null,s=this.upper},v.prototype.__resolve=function(t){var n,r;return r=t.identifier.name,this.set.has(r)?(n=this.set.get(r),n.references.push(t),n.stack=n.stack&&t.from.variableScope===this.variableScope,t.tainted&&(n.tainted=!0,this.taints.set(n.name,!0)),t.resolved=n,!0):!1},v.prototype.__delegateToUpperScope=function(t){this.upper&&this.upper.left.push(t),this.through.push(t)},v.prototype.__defineImplicit=function(t,n){var i,s;t&&t.type===r.Identifier&&(i=t.name,this.implicit.set.has(i)?(s=this.implicit.set.get(i),s.identifiers.push(t),s.defs.push(n)):(s=new p(i,this),s.identifiers.push(t),s.defs.push(n),this.implicit.set.set(i,s),this.implicit.variables.push(s)))},v.prototype.__define=function(t,n){var i,s;t&&t.type===r.Identifier&&(i=t.name,this.set.has(i)?(s=this.set.get(i),s.identifiers.push(t),s.defs.push(n)):(s=new p(i,this),s.identifiers.push(t),s.defs.push(n),this.set.set(i,s),this.variables.push(s)))},v.prototype.__referencing=function(t,n,i,s){var o;t&&t.type===r.Identifier&&(o=new h(t,this,n||h.READ,i,s),this.references.push(o),this.left.push(o))},v.prototype.__detectEval=function(){var t;t=this,this.directCallToEvalScope=!0;do t.dynamic=!0,t=t.upper;while(t)},v.prototype.__detectThis=function(){this.thisFound=!0},v.prototype.__isClosed=function(){return this.left===null},v.prototype.resolve=function(t){var n,i,s;f(this.__isClosed(),"scope should be closed"),f(t.type===r.Identifier,"target should be identifier");for(i=0,s=this.references.length;i<s;++i){n=this.references[i];if(n.identifier===t)return n}return null},v.prototype.isStatic=function(){return!this.dynamic},v.prototype.isArgumentsMaterialized=function(){var t;return this.type!=="function"?!0:this.isStatic()?(t=this.set.get("arguments"),f(t,"always have arguments variable"),t.tainted||t.references.length!==0):!0},v.prototype.isThisMaterialized=function(){return this.type!=="function"?!0:this.isStatic()?this.thisFound:!0},v.mangledName="__$escope$__",v.prototype.attach=function(){this.functionExpressionScope||(this.block[v.mangledName]=this)},v.prototype.detach=function(){this.functionExpressionScope||delete this.block[v.mangledName]},v.prototype.isUsedName=function(e){if(this.set.has(e))return!0;for(var t=0,n=this.through.length;t<n;++t)if(this.through[t].identifier.name===e)return!0;return!1},m.prototype.__get=function(t){var n,r,i;if(this.attached)return t[v.mangledName]||null;if(v.isScopeRequired(t))for(n=0,r=this.scopes.length;n<r;++n){i=this.scopes[n];if(!i.functionExpressionScope&&i.block===t)return i}return null},m.prototype.acquire=function(t){return this.__get(t)},m.prototype.release=function(t){var n=this.__get(t);if(n){n=n.upper;while(n){if(!n.functionExpressionScope)return n;n=n.upper}}return null},m.prototype.attach=function(){var t,n;for(t=0,n=this.scopes.length;t<n;++t)this.scopes[t].attach();this.attached=!0},m.prototype.detach=function(){var t,n;for(t=0,n=this.scopes.length;t<n;++t)this.scopes[t].detach();this.attached=!1},v.isScopeRequired=function(t){return v.isVariableScopeRequired(t)||t.type===r.WithStatement||t.type===r.CatchClause},v.isVariableScopeRequired=function(t){return t.type===r.Program||t.type===r.FunctionExpression||t.type===r.FunctionDeclaration},e.version="1.0.3",e.Reference=h,e.Variable=p,e.Scope=v,e.ScopeManager=m,e.analyze=g},this)},{estraverse:71}],71:[function(e,t,n){(function r(t){"use strict";function h(){}function p(e){var t={},n,r;for(n in e)e.hasOwnProperty(n)&&(r=e[n],typeof r=="object"&&r!==null?t[n]=p(r):t[n]=r);return t}function d(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?r=n:(i=s+1,r-=n+1);return i}function m(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?(i=s+1,r-=n+1):r=n;return i}function g(e,t){var n=a(t),r,i,s;for(i=0,s=n.length;i<s;i+=1)r=n[i],e[r]=t[r];return e}function y(e,t){this.parent=e,this.key=t}function b(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function w(){}function E(e){return e==null?!1:typeof e=="object"&&typeof e.type=="string"}function S(e,t){return(e===n.ObjectExpression||e===n.ObjectPattern)&&"properties"===t}function x(e,t){var n=new w;return n.traverse(e,t)}function T(e,t){var n=new w;return n.replace(e,t)}function N(e,t){var n;return n=v(t,function(n){return n.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function C(e,t,n){var r=[],i,o,u,a;if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(u=0,o=t.length;u<o;u+=1)i=p(t[u]),i.extendedRange=[0,e.range[0]],r.push(i);e.leadingComments=r}return e}for(u=0,o=t.length;u<o;u+=1)r.push(N(p(t[u]),n));return a=0,x(e,{enter:function(e){var t;while(a<r.length){t=r[a];if(t.extendedRange[1]>e.range[0])break;t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length)return s.Break;if(r[a].extendedRange[0]>e.range[1])return s.Skip}}),a=0,x(e,{leave:function(e){var t;while(a<r.length){t=r[a];if(e.range[1]<t.extendedRange[0])break;e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length)return s.Break;if(r[a].extendedRange[0]>e.range[1])return s.Skip}}),e}var n,i,s,o,u,a,f,l,c;return i=Array.isArray,i||(i=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),h(d),h(m),u=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),a=Object.keys||function(e){var t=[],n;for(n in e)t.push(n);return t},n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update"
,"body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},f={},l={},c={},s={Break:f,Skip:l,Remove:c},y.prototype.replace=function(t){this.parent[this.key]=t},y.prototype.remove=function(){return i(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},w.prototype.path=function(){function a(e,t){if(i(t))for(r=0,s=t.length;r<s;++r)e.push(t[r]);else e.push(t)}var t,n,r,s,o,u;if(!this.__current.path)return null;o=[];for(t=2,n=this.__leavelist.length;t<n;++t)u=this.__leavelist[t],a(o,u.path);return a(o,this.__current.path),o},w.prototype.type=function(){var e=this.current();return e.type||this.__current.wrap},w.prototype.parents=function(){var t,n,r;r=[];for(t=1,n=this.__leavelist.length;t<n;++t)r.push(this.__leavelist[t].node);return r},w.prototype.current=function(){return this.__current.node},w.prototype.__execute=function(t,n){var r,i;return i=undefined,r=this.__current,this.__current=n,this.__state=null,t&&(i=t.call(this,n.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,i},w.prototype.notify=function(t){this.__state=t},w.prototype.skip=function(){this.notify(l)},w.prototype["break"]=function(){this.notify(f)},w.prototype.remove=function(){this.notify(c)},w.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=t.fallback==="iteration",this.__keys=o,t.keys&&(this.__keys=g(u(this.__keys),t.keys))},w.prototype.traverse=function(t,n){var r,s,o,u,c,h,p,d,v,m,g,y;this.__initialize(t,n),y={},r=this.__worklist,s=this.__leavelist,r.push(new b(t,null,null,null)),s.push(new b(null,null,null,null));while(r.length){o=r.pop();if(o===y){o=s.pop(),h=this.__execute(n.leave,o);if(this.__state===f||h===f)return;continue}if(o.node){h=this.__execute(n.enter,o);if(this.__state===f||h===f)return;r.push(y),s.push(o);if(this.__state===l||h===l)continue;u=o.node,c=o.wrap||u.type,m=this.__keys[c];if(!m){if(!this.__fallback)throw new Error("Unknown node type "+c+".");m=a(u)}d=m.length;while((d-=1)>=0){p=m[d],g=u[p];if(!g)continue;if(i(g)){v=g.length;while((v-=1)>=0){if(!g[v])continue;if(S(c,m[d]))o=new b(g[v],[p,v],"Property",null);else{if(!E(g[v]))continue;o=new b(g[v],[p,v],null,null)}r.push(o)}}else E(g)&&r.push(new b(g,p,null,null))}}}},w.prototype.replace=function(t,n){function r(e){var t,n,r,i;if(e.ref.remove()){n=e.ref.key,i=e.ref.parent,t=s.length;while(t--){r=s[t];if(r.ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}}}var s,o,u,h,p,d,v,m,g,w,x,T,N;this.__initialize(t,n),x={},s=this.__worklist,o=this.__leavelist,T={root:t},d=new b(t,null,null,new y(T,"root")),s.push(d),o.push(d);while(s.length){d=s.pop();if(d===x){d=o.pop(),p=this.__execute(n.leave,d),p!==undefined&&p!==f&&p!==l&&p!==c&&d.ref.replace(p),(this.__state===c||p===c)&&r(d);if(this.__state===f||p===f)return T.root;continue}p=this.__execute(n.enter,d),p!==undefined&&p!==f&&p!==l&&p!==c&&(d.ref.replace(p),d.node=p);if(this.__state===c||p===c)r(d),d.node=null;if(this.__state===f||p===f)return T.root;u=d.node;if(!u)continue;s.push(x),o.push(d);if(this.__state===l||p===l)continue;h=d.wrap||u.type,g=this.__keys[h];if(!g){if(!this.__fallback)throw new Error("Unknown node type "+h+".");g=a(u)}v=g.length;while((v-=1)>=0){N=g[v],w=u[N];if(!w)continue;if(i(w)){m=w.length;while((m-=1)>=0){if(!w[m])continue;if(S(h,g[v]))d=new b(w[m],[N,m],"Property",new y(w,m));else{if(!E(w[m]))continue;d=new b(w[m],[N,m],null,new y(w,m))}s.push(d)}}else E(w)&&s.push(new b(w,N,null,new y(u,N)))}}return T.root},t.version=e("./package.json").version,t.Syntax=n,t.traverse=x,t.replace=T,t.attachComments=C,t.VisitorKeys=o,t.VisitorOption=s,t.Controller=w,t.cloneEnvironment=function(){return r({})},t})(n)},{"./package.json":72}],72:[function(e,t,n){t.exports={name:"estraverse",description:"ECMAScript JS AST traversal functions",homepage:"https://github.com/estools/estraverse",main:"estraverse.js",version:"2.0.0",engines:{node:">=0.10.0"},maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"}],repository:{type:"git",url:"git+ssh://git@github.com/estools/estraverse.git"},devDependencies:{chai:"^2.1.1","coffee-script":"^1.8.0",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},licenses:[{type:"BSD",url:"http://github.com/estools/estraverse/raw/master/LICENSE.BSD"}],scripts:{test:"npm run-script lint && npm run-script unit-test",lint:"jshint estraverse.js","unit-test":"mocha --compilers coffee:coffee-script/register"},gitHead:"d8bc726f126817cc03c7a4e751528edb19db0ffb",bugs:{url:"https://github.com/estools/estraverse/issues"},_id:"estraverse@2.0.0",_shasum:"5ae46963243600206674ccb24a09e16674fcdca1",_from:"estraverse@^2.0.0",_npmVersion:"2.0.0-alpha-5",_npmUser:{name:"constellation",email:"utatane.tea@gmail.com"},dist:{shasum:"5ae46963243600206674ccb24a09e16674fcdca1",tarball:"http://registry.npmjs.org/estraverse/-/estraverse-2.0.0.tgz"},directories:{},_resolved:"https://registry.npmjs.org/estraverse/-/estraverse-2.0.0.tgz",readme:"ERROR: No README data found!"}},{}],73:[function(e,t,n){(function(){"use strict";function l(e,t){this._scope=e,this._functionName="",!t.distinguishFunctionExpressionScope&&this._scope.upper&&this._scope.upper.functionExpressionScope&&(this._functionName=this._scope.upper.block.id.name)}function c(e,t){var n,r,i,s,o,u,a,f,c;c=new l(e,t);if(e.isStatic()){u="9",e.variables.sort(function(e,t){return e.tainted?1:t.tainted?-1:t.identifiers.length+t.references.length-(e.identifiers.length+e.references.length)});for(n=0,r=e.variables.length;n<r;++n){o=e.variables[n];if(o.tainted)continue;if(o.identifiers.length===0)continue;u=c.generateName(u);for(i=0,s=o.identifiers.length;i<s;++i)a=o.identifiers[i],a.name=u;for(i=0,s=o.references.length;i<s;++i)f=o.references[i],f.identifier.name=u}}}function h(e,t){this.node=e,this.upper=t,this.users=[],this.names=new f,this.name=null}function p(e){this.map=new f,this.upper=e,this.label=null,this.labels=[]}function d(e){var n;return r.traverse(e,{enter:function(e){if(t.Scope.isVariableScopeRequired(e)){n=new p(n);return}switch(e.type){case a.LabeledStatement:n.register(e);break;case a.BreakStatement:case a.ContinueStatement:n.resolve(e)}},leave:function(e){n.unregister(e),t.Scope.isVariableScopeRequired(e)&&(n=n.close())}}),e}function v(e,n){var r,i,o,u;n==null&&(n={destructive:!0}),r=n.destructive==null||n.destructive?e:s.deepCopy(e),i=t.analyze(r,{directive:!0});for(o=0,u=i.scopes.length;o<u;++o)c(i.scopes[o],n);return d(r)}var t,r,i,s,o,u,a,f;t=e("escope"),r=e("estraverse"),i=e("esutils"),s=e("./utility"),f=e("./map"),o=e("../package.json").version,a=r.Syntax,u=function(t,n){if(!t)throw new Error(n)},o.indexOf("-dev",o.length-4)===-1&&(u=function(){}),l.prototype.passAsUnique=function(t){var n,r;if(this._functionName===t)return!1;if(i.keyword.isKeywordES5(t,!0)||i.keyword.isRestrictedWord(t))return!1;if(this._scope.taints.has(t))return!1;for(n=0,r=this._scope.through.length;n<r;++n)if(this._scope.through[n].identifier.name===t)return!1;return!0},l.prototype.generateName=function(t){do t=s.generateNextName(t);while(!this.passAsUnique(t));return t},h.prototype.mangle=function(){var e,t,n,r;e="9";for(t=this.upper;t;t=t.upper)t.name!==null&&this.names.set(t.name,!0);do e=s.generateNextName(e);while(this.names.has(e));this.name=e;for(t=this.upper;t;t=t.upper)t.names.set(e,!0);this.node.label.name=e;for(n=0,r=this.users.length;n<r;++n)this.users[n].label.name=e},p.prototype.register=function(t){var n;u(t.type===a.LabeledStatement,"node should be LabeledStatement"),this.label=new h(t,this.label),this.labels.push(this.label),n=t.label.name,u(!this.map.has(n),"duplicate label is found"),this.map.set(n,this.label)},p.prototype.unregister=function(t){var n,r;if(t.type!==a.LabeledStatement)return;n=t.label.name,r=this.map.get(n),this.map["delete"](n),this.label=r.upper},p.prototype.resolve=function(t){var n;t.label&&(n=t.label.name,u(this.map.has(n),"unresolved label"),this.map.get(n).users.push(t))},p.prototype.close=function(){var t,n,r;this.labels.sort(function(e,t){return t.users.length-e.users.length});for(t=0,n=this.labels.length;t<n;++t)r=this.labels[t],r.mangle();return this.upper},n.mangle=v,n.version=o,n.generateNextName=s.generateNextName})()},{"../package.json":76,"./map":74,"./utility":75,escope:70,estraverse:77,esutils:80}],74:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],75:[function(e,t,n){(function(){"use strict";function i(t){function n(t,r){var i,s;for(i in t){if(i.lastIndexOf("__",0)===0)continue;t.hasOwnProperty(i)&&(s=t[i],typeof s=="object"&&s!==null&&(s instanceof RegExp?s=new RegExp(s):s=n(s,e(s)?[]:{})),r[i]=s)}return r}return n(t,e(t)?[]:{})}function s(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)t&1&&(n+=e);return n}function o(e){var t=r[e];return t!==undefined?t:(t=s("0",e),r[e]=t,t)}function u(e){var n,r,i;i=e.length-1;do{n=e.charAt(i),r=t.indexOf(n);if(r!==t.length-1)return e.substring(0,i)+t[r+1]+o(e.length-(i+1));--i}while(i>=0);return"a"+o(e.length)}var e,t,r;e=Array.isArray,e||(e=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),r=[],t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$".split(""),n.generateNextName=u,n.deepCopy=i})()},{}],76:[function(e,t,n){t.exports={name:"esshorten",description:"Shorten (mangle) names in JavaScript code",main:"lib/esshorten.js",version:"1.1.0",engines:{node:">=0.6.0"},directories:{lib:"./lib"},maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"}],repository:{type:"git",url:"git+ssh://git@github.com/Constellation/esshorten.git"},dependencies:{estraverse:"~1.5.0",escope:"~1.0.1",esutils:"~1.0.0"},devDependencies:{chai:"*","commonjs-everywhere":"0.8.x","jshint-stylish":"~0.1.5","gulp-mocha":"~0.4.1","gulp-jshint":"~1.4.0",gulp:"~3.5.2","coffee-script":"~1.7.1"},licenses:[{type:"BSD",url:"http://github.com/Constellation/esshorten/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis",lint:"gulp lint","unit-test":"gulp test"},bugs:{url:"https://github.com/Constellation/esshorten/issues"},homepage:"https://github.com/Constellation/esshorten",_id:"esshorten@1.1.0",dist:{shasum:"6f0c22ae6cc3119da0b18b835813e8f26c1abacc",tarball:"http://registry.npmjs.org/esshorten/-/esshorten-1.1.0.tgz"},_from:"esshorten@~1.1.0",_npmVersion:"1.3.21",_npmUser:{name:"constellation",email:"utatane.tea@gmail.com"},_shasum:"6f0c22ae6cc3119da0b18b835813e8f26c1abacc",_resolved:"https://registry.npmjs.org/esshorten/-/esshorten-1.1.0.tgz",readme:"ERROR: No README data found!"}},{}],77:[function(e,t,n){(function(e,t){"use strict";typeof define=="function"&&define.amd?define(["exports"],t):typeof n!="undefined"?t(n):t(e.estraverse={})})(this,function(e){"use strict";function u(){}function a(e){var t={},n,r;for(n in e)e.hasOwnProperty(n)&&(r=e[n],typeof r=="object"&&r!==null?t[n]=a(r):t[n]=r);return t}function f(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function l(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?r=n:(i=s+1,r-=n+1);return i}function c(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?(i=s+1,r-=n+1):r=n;return i}function h(e,t){this.parent=e,this.key=t}function p(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function d(){}function v(e,t){var n=new d;return n.traverse(e,t)}function m(e,t){var n=new d;return n.replace(e,t)}function g(e,t){var n;return n=l(t,function(n){return n.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function y(e,t,n){var i=[],s,o,u,f;if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(u=0,o=t.length;u<o;u+=1)s=a(t[u]),s.extendedRange=[0,e.range[0]],i.push(s);e.leadingComments=i}return e}for(u=0,o=t.length;u<o;u+=1)i.push(g(a(t[u]),n));return f=0,v(e,{enter:function(e){var t;while(f<i.length){t=i[f];if(t.extendedRange[1]>e.range[0])break;t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),i.splice(f,1)):f+=1}if(f===i.length)return r.Break;if(i[f].extendedRange[0]>e.range[1])return r.Skip}}),f=0,v(e,{leave:function(e){var t;while(f<i.length){t=i[f];if(e.range[1]<t.extendedRange[0])break;e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),i.splice(f,1)):f+=1}if(f===i.length)return r.Break;if(i[f].extendedRange[0]>e.range[1])return r.Skip}}),e}var t,n,r,i,s,o;t={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},n=Array.isArray,n||(n=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),u(f),u(c),i={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},s={},o={},r={Break:s,Skip:o},h.prototype.replace=function(t){this.parent[this.key]=t},d.prototype.path=function(){function a(e,t){if(n(t))for(i=0,s=t.length;i<s;++i)e.push(t[i]);else e.push(t)}var t,r,i,s,o,u;if(!this.__current.path)return null;o=[];for(t=2,r=this.__leavelist.length;t<r;++t)u=this.__leavelist[t],a(o,u.path);return a(o,this.__current.path),o},d.prototype.parents=function(){var t,n,r;r=[];for(t=1,n=this.__leavelist.length;t<n;++t)r.push(this.__leavelist[t].node);return r},d.prototype.current=function(){return this.__current.node},d.prototype.__execute=function(t,n){var r,i;return i=undefined,r=this.__current,this.__current=n,this.__state=null,t&&(i=t.call(this,n.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,i},d.prototype.notify=function(t){this.__state=t},d.prototype.skip=function(){this.notify(o)},d.prototype["break"]=function(){this.notify(s)},d.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null},d.prototype.traverse=function(r,u){var a,f,l,c,h,d,v,m,g,y,b,w;this.__initialize(r,u),w={},a=this.__worklist,f=this.__leavelist,a.push(new p(r,null,null,null)),f.push(new p(null,null,null,null));while(a.length){l=a.pop();if(l===w){l=f.pop(),d=this.__execute(u.leave,l);if(this.__state===s||d===s)return;continue}if(l.node){d=this.__execute(u.enter,l);if(this.__state===s||d===s)return;a.push(w),f.push(l);if(this.__state===o||d===o)continue;c=l.node,h=l.wrap||c.type,y=i[h],m=y.length;while((m-=1)>=0){v=y[m],b=c[v];if(!b)continue;if(!n(b)){a.push(new p(b,v,null,null));continue}g=b.length;while((g-=1)>=0){if(!b[g])continue;h!==t.ObjectExpression&&h!==t.ObjectPattern||"properties"!==y[m]?l=new p(b[g],[v,g],null,null):l=new p(b[g],[v,g],"Property",null),a.push(l)}}}}},d.prototype.replace=function(r,u){var a,f,l,c,d,v,m,g,y,b,w,E,S;this.__initialize(r,u),w={},a=this.__worklist,f=this.__leavelist,E={root:r},v=new p(r,null,null,new h(E,"root")),a.push(v),f.push(v);while(a.length){v=a.pop();if(v===w){v=f.pop(),d=this.__execute(u.leave,v),d!==undefined&&d!==s&&d!==o&&v.ref.replace(d);if(this.__state===s||d===s)return E.root;continue}d=this.__execute(u.enter,v),d!==undefined&&d!==s&&d!==o&&(v.ref.replace(d),v.node=d);if(this.__state===s||d===s)return E.root;l=v.node;if(!l)continue;a.push(w),f.push(v);if(this.__state===o||d===o)continue;c=v.wrap||l.type,y=i[c],m=y.length;while((m-=1)>=0){S=y[m],b=l[S];if(!b)continue;if(!n(b)){a.push(new p(b,S,null,new h(l,S)));continue}g=b.length;while((g-=1)>=0){if(!b[g])continue;c===t.ObjectExpression&&"properties"===y[m]?v=new p(b[g],[S,g],"Property",new h(b,g)):v=new p(b[g],[S,g],null,new h(b,g)),a.push(v)}}}return E.root},e.version="1.5.1-dev",e.Syntax=t,e.traverse=v,e.replace=m,e.attachComments=y,e.VisitorKeys=i,e.VisitorOption=r,e.Controller=d})},{}],78:[function(e,t,n){(function(){"use strict";function n(e){return e>=48&&e<=57}function r(e){return n(e)||97<=e&&e<=102||65<=e&&e<=70}function i(e){return e>=48&&e<=55}function s(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function o(e){return e===10||e===13||e===8232||e===8233}function u(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t===92||t>=128&&e.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function a(t){return t===36||t===95||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t===92||t>=128&&e.NonAsciiIdentifierPart.test(String.fromCharCode(t))}var e;e={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},t.exports={isDecimalDigit:n,isHexDigit:r,isOctalDigit:i,isWhiteSpace:s,isLineTerminator:o,isIdentifierStart:u,isIdentifierPart:a}})()},{}],79:[function(e,t,n){(function(){"use strict";function r(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(e,t){return!t&&e==="yield"?!1:s(e,t)}function s(e,t){if(t&&r(e))return!0;switch(e.length){case 2:return e==="if"||e==="in"||e==="do";case 3:return e==="var"||e==="for"||e==="new"||e==="try";case 4:return e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum";case 5:return e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||e==="yield"||e==="class"||e==="super";case 6:return e==="return"||e==="typeof"||e==="delete"||e==="switch"||e==="export"||e==="import";case 7:return e==="default"||e==="finally"||e==="extends";case 8:return e==="function"||e==="continue"||e==="debugger";case 10:return e==="instanceof";default:return!1}}function o(e){return e==="eval"||e==="arguments"}function u(e){var t,r,i;if(e.length===0)return!1;i=e.charCodeAt(0);if(!n.isIdentifierStart(i)||i===92)return!1;for(t=1,r=e.length;t<r;++t){i=e.charCodeAt(t);if(!n.isIdentifierPart(i)||i===92)return!1}return!0}var n=e("./code");t.exports={isKeywordES5:i,isKeywordES6:s,isRestrictedWord:o,isIdentifierName:u}})()},{"./code":78}],80:[function(e,t,n){(function(){"use strict";n.code=e("./code"),n.keyword=e("./keyword")})()},{"./code":78,"./keyword":79}],81:[function(e,t,n){t.exports={name:"esmangle",description:"ECMAScript code mangler / minifier",homepage:"http://github.com/Constellation/esmangle.html",main:"lib/esmangle.js",bin:{esmangle:"./bin/esmangle.js"},version:"1.0.1",engines:{node:">=0.6.0"},directories:{lib:"./lib"},maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"}],repository:{type:"git",url:"git+ssh://git@github.com/Constellation/esmangle.git"},dependencies:{esutils:"~ 1.0.0",esshorten:"~1.1.0",estraverse:"~1.5.0",escope:"~1.0.1","source-map":"~0.1.33",escodegen:"~1.3.2",optionator:"~0.3.0",esprima:"~1.1.1"},devDependencies:{chai:"*","grunt-contrib-jshint":"~0.8.0","grunt-mocha-test":"~0.8.1","grunt-contrib-copy":"~0.5.0","grunt-contrib-clean":"~0.5.0",async:"~0.2.9",q:"~0.9.7","commonjs-everywhere":"~0.9.4","grunt-cli":"~0.1.11",grunt:"~0.4.2","grunt-update-submodules":"~0.2.1","grunt-shell":"~0.6.1",clone:"~0.1.11"},licenses:[{type:"BSD",url:"http://github.com/Constellation/esmangle/raw/master/LICENSE.BSD"}],scripts:{test:"grunt travis",lint:"grunt lint","regression-test":"grunt test:regression","unit-test":"grunt test",build:"grunt build"},bugs:{url:"https://github.com/Constellation/esmangle/issues"},_id:"esmangle@1.0.1",dist:{shasum:"d9bb37b8f8eafbf4e6d4ed6b7aa2956abbd3c4c2",tarball:"http://registry.npmjs.org/esmangle/-/esmangle-1.0.1.tgz"},_from:"esmangle@^1.0.1",_npmVersion:"1.3.11",_npmUser:{name:"constellation",email:"utatane.tea@gmail.com"},_shasum:"d9bb37b8f8eafbf4e6d4ed6b7aa2956abbd3c4c2",_resolved:"https://registry.npmjs.org/esmangle/-/esmangle-1.0.1.tgz",readme:"ERROR: No README data found!"}},{}],82:[function(e,t,n){(function(e,t){"use strict";typeof define=="function"&&define.amd?define(["exports"],t):typeof n!="undefined"?t(n):t(e.esprima={})})(this,function(e){"use strict";function A(e,t){if(!e)throw new Error("ASSERT: "+t)}function O(e){return e>=48&&e<=57}function M(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function _(e){return"01234567".indexOf(e)>=0}function D(e){var t=e!=="0",n="01234567".indexOf(e);return c<S&&_(a[c])&&(t=!0,n=n*8+"01234567".indexOf(a[c++]),"0123".indexOf(e)>=0&&c<S&&_(a[c])&&(n=n*8+"01234567".indexOf(a[c++]))),{code:n,octal:t}}function P(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function H(e){return e===10||e===13||e===8232||e===8233}function B(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function j(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function F(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}}function I(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function q(e){return e==="eval"||e==="arguments"}function R(e){switch(e.length){case 2:return e==="if"||e==="in"||e==="do";case 3:return e==="var"||e==="for"||e==="new"||e==="try"||e==="let";case 4:return e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum";case 5:return e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||e==="yield"||e==="class"||e==="super";case 6:return e==="return"||e==="typeof"||e==="delete"||e==="switch"||e==="export"||e==="import";case 7:return e==="default"||e==="finally"||e==="extends";case 8:return e==="function"||e==="continue"||e==="debugger";case 10:return e==="instanceof";default:return!1}}function U(e,t,n,r,i){var s;A(typeof n=="number","Comment must have valid position"),T.lastCommentStart=n,s={type:e,value:t},N.range&&(s.range=[n,r]),N.loc&&(s.loc=i),N.comments.push(s),N.attachComment&&(N.leadingComments.push(s),N.trailingComments.push(s))}function z(e){var t,n,r,i;t=c-e,n={start:{line:h,column:c-p-e}};while(c<S){r=a.charCodeAt(c),++c;if(H(r)){d=!0,N.comments&&(i=a.slice(t+e,c-1),n.end={line:h,column:c-p-1},U("Line",i,t,c-1,n)),r===13&&a.charCodeAt(c)===10&&++c,++h,p=c;return}}N.comments&&(i=a.slice(t+e,c),n.end={line:h,column:c-p},U("Line",i,t,c,n))}function W(){var e,t,n,r;N.comments&&(e=c-2,t={start:{line:h,column:c-p-2}});while(c<S){n=a.charCodeAt(c);if(H(n))n===13&&a.charCodeAt(c+1)===10&&++c,d=!0,++h,++c,p=c;else if(n===42){if(a.charCodeAt(c+1)===47){++c,++c,N.comments&&(r=a.slice(e+2,c-2),t.end={line:h,column:c-p},U("Block",r,e,c,t));return}++c}else++c}N.comments&&(t.end={line:h,column:c-p},r=a.slice(e+2,c),U("Block",r,e,c,t)),kt()}function X(){var e,t;d=!1,t=c===0;while(c<S){e=a.charCodeAt(c);if(P(e))++c;else if(H(e))d=!0,++c,e===13&&a.charCodeAt(c)===10&&++c,++h,p=c,t=!0;else if(e===47){e=a.charCodeAt(c+1);if(e===47)++c,++c,z(2),t=!0;else{if(e!==42)break;++c,++c,W()}}else if(t&&e===45){if(a.charCodeAt(c+1)!==45||a.charCodeAt(c+2)!==62)break;c+=3,z(3)}else{if(e!==60)break;if(a.slice(c+1,c+4)!=="!--")break;++c,++c,++c,++c,z(4)}}}function V(e){var t,n,r,i=0;n=e==="u"?4:2;for(t=0;t<n;++t){if(!(c<S&&M(a[c])))return"";r=a[c++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function $(){var e,t,n,r;e=a[c],t=0,e==="}"&&Ct();while(c<S){e=a[c++];if(!M(e))break;t=t*16+"0123456789abcdef".indexOf(e.toLowerCase())}return(t>1114111||e!=="}")&&Ct(),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function J(){var e,t;e=a.charCodeAt(c++),t=String.fromCharCode(e),e===92&&(a.charCodeAt(c)!==117&&Ct(),++c,e=V("u"),(!e||e==="\\"||!B(e.charCodeAt(0)))&&Ct(),t=e);while(c<S){e=a.charCodeAt(c);if(!j(e))break;++c,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),a.charCodeAt(c)!==117&&Ct(),++c,e=V("u"),(!e||e==="\\"||!j(e.charCodeAt(0)))&&Ct(),t+=e)}return t}function K(){var e,t;e=c++;while(c<S){t=a.charCodeAt(c);if(t===92)return c=e,J();if(!j(t))break;++c}return a.slice(e,c)}function Q(){var e,n,r;return e=c,n=a.charCodeAt(c)===92?J():K(),n.length===1?r=t.Identifier:R(n)?r=t.Keyword:n==="null"?r=t.NullLiteral:n==="true"||n==="false"?r=t.BooleanLiteral:r=t.Identifier,{type:r,value:n,lineNumber:h,lineStart:p,start:e,end:c}}function G(){var e,n;e={type:t.Punctuator,value:"",lineNumber:h,lineStart:p,start:c,end:c},n=a[c];switch(n){case"(":N.tokenize&&(N.openParenToken=N.tokens.length),++c;break;case"{":N.tokenize&&(N.openCurlyToken=N.tokens.length),T.curlyStack.push("{"),++c;break;case".":++c,a[c]==="."&&a[c+1]==="."&&(c+=2,n="...");break;case"}":++c,T.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++c;break;default:n=a.substr(c,4),n===">>>="?c+=4:(n=n.substr(0,3),n==="==="||n==="!=="||n===">>>"||n==="<<="||n===">>="?c+=3:(n=n.substr(0,2),n==="&&"||n==="||"||n==="=="||n==="!="||n==="+="||n==="-="||n==="*="||n==="/="||n==="++"||n==="--"||n==="<<"||n===">>"||n==="&="||n==="|="||n==="^="||n==="%="||n==="<="||n===">="||n==="=>"?c+=2:(n=a[c],"<>=!+-*%&|^/".indexOf(n)>=0&&++c)))}return c===e.start&&Ct(),e.end=c,e.value=n,e}function Y(e){var n="";while(c<S){if(!M(a[c]))break;n+=a[c++]}return n.length===0&&Ct(),B(a.charCodeAt(c))&&Ct(),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:p,start:e,end:c}}function Z(e){var n,r;r="";while(c<S){n=a[c];if(n!=="0"&&n!=="1")break;r+=a[c++]}return r.length===0&&Ct(),c<S&&(n=a.charCodeAt(c),(B(n)||O(n))&&Ct()),{type:t.NumericLiteral,value:parseInt(r,2),lineNumber:h,lineStart:p,start:e,end:c}}function et(e,n){var r,i;_(e)?(i=!0,r="0"+a[c++]):(i=!1,++c,r="");while(c<S){if(!_(a[c]))break;r+=a[c++]}return!i&&r.length===0&&Ct(),(B(a.charCodeAt(c))||O(a.charCodeAt(c)))&&Ct(),{type:t.NumericLiteral,value:parseInt(r,8),octal:i,lineNumber:h,lineStart:p,start:n,end:c}}function tt(){var e,t;for(e=c+1;e<S;++e){t=a[e];if(t==="8"||t==="9")return!1;if(!_(t))return!0}return!0}function nt(){var e,n,r;r=a[c],A(O(r.charCodeAt(0))||r===".","Numeric literal must start with a decimal digit or a decimal point"),n=c,e="";if(r!=="."){e=a[c++],r=a[c];if(e==="0"){if(r==="x"||r==="X")return++c,Y(n);if(r==="b"||r==="B")return++c,Z(n);if(r==="o"||r==="O")return et(r,n);if(_(r)&&tt())return et(r,n)}while(O(a.charCodeAt(c)))e+=a[c++];r=a[c]}if(r==="."){e+=a[c++];
while(O(a.charCodeAt(c)))e+=a[c++];r=a[c]}if(r==="e"||r==="E"){e+=a[c++],r=a[c];if(r==="+"||r==="-")e+=a[c++];if(O(a.charCodeAt(c)))while(O(a.charCodeAt(c)))e+=a[c++];else Ct()}return B(a.charCodeAt(c))&&Ct(),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:h,lineStart:p,start:n,end:c}}function rt(){var e="",n,r,i,s,o,u=!1;n=a[c],A(n==="'"||n==='"',"String literal must starts with a quote"),r=c,++c;while(c<S){i=a[c++];if(i===n){n="";break}if(i==="\\"){i=a[c++];if(!i||!H(i.charCodeAt(0)))switch(i){case"u":case"x":if(a[c]==="{")++c,e+=$();else{s=V(i);if(!s)throw Ct();e+=s}break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;case"8":case"9":throw Ct();default:_(i)?(o=D(i),u=o.octal||u,e+=String.fromCharCode(o.code)):e+=i}else++h,i==="\r"&&a[c]==="\n"&&++c,p=c}else{if(H(i.charCodeAt(0)))break;e+=i}}return n!==""&&Ct(),{type:t.StringLiteral,value:e,octal:u,lineNumber:b,lineStart:w,start:r,end:c}}function it(){var e="",n,r,i,s,u,f,l,d;s=!1,f=!1,r=c,u=a[c]==="`",i=2,++c;while(c<S){n=a[c++];if(n==="`"){i=1,f=!0,s=!0;break}if(n==="$"){if(a[c]==="{"){T.curlyStack.push("${"),++c,s=!0;break}e+=n}else if(n==="\\"){n=a[c++];if(!H(n.charCodeAt(0)))switch(n){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="	";break;case"u":case"x":a[c]==="{"?(++c,e+=$()):(l=c,d=V(n),d?e+=d:(c=l,e+=n));break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;default:n==="0"?(O(a.charCodeAt(c))&&xt(o.TemplateOctalLiteral),e+="\0"):_(n)?xt(o.TemplateOctalLiteral):e+=n}else++h,n==="\r"&&a[c]==="\n"&&++c,p=c}else H(n.charCodeAt(0))?(++h,n==="\r"&&a[c]==="\n"&&++c,p=c,e+="\n"):e+=n}return s||Ct(),u||T.curlyStack.pop(),{type:t.Template,value:{cooked:e,raw:a.slice(r+1,c-i)},head:u,tail:f,lineNumber:h,lineStart:p,start:r,end:c}}function st(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){if(parseInt(t,16)<=1114111)return"x";Ct(null,o.InvalidRegExp)}).replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{RegExp(n)}catch(r){Ct(null,o.InvalidRegExp)}try{return new RegExp(e,t)}catch(i){return null}}function ot(){var e,t,n,r,i;e=a[c],A(e==="/","Regular expression literal must start with a slash"),t=a[c++],n=!1,r=!1;while(c<S){e=a[c++],t+=e;if(e==="\\")e=a[c++],H(e.charCodeAt(0))&&Ct(null,o.UnterminatedRegExp),t+=e;else if(H(e.charCodeAt(0)))Ct(null,o.UnterminatedRegExp);else if(n)e==="]"&&(n=!1);else{if(e==="/"){r=!0;break}e==="["&&(n=!0)}}return r||Ct(null,o.UnterminatedRegExp),i=t.substr(1,t.length-2),{value:i,literal:t}}function ut(){var e,t,n,r;t="",n="";while(c<S){e=a[c];if(!j(e.charCodeAt(0)))break;++c;if(e==="\\"&&c<S){e=a[c];if(e==="u"){++c,r=c,e=V("u");if(e){n+=e;for(t+="\\u";r<c;++r)t+=a[r]}else c=r,n+="u",t+="\\u";kt()}else t+="\\",kt()}else n+=e,t+=e}return{value:n,literal:t}}function at(){E=!0;var e,n,r,i;return x=null,X(),e=c,n=ot(),r=ut(),i=st(n.value,r.value),E=!1,N.tokenize?{type:t.RegularExpression,value:i,regex:{pattern:n.value,flags:r.value},lineNumber:h,lineStart:p,start:e,end:c}:{literal:n.literal+r.literal,value:i,regex:{pattern:n.value,flags:r.value},start:e,end:c}}function ft(){var e,t,n,r;return X(),e=c,t={start:{line:h,column:c-p}},n=at(),t.end={line:h,column:c-p},N.tokenize||(N.tokens.length>0&&(r=N.tokens[N.tokens.length-1],r.range[0]===e&&r.type==="Punctuator"&&(r.value==="/"||r.value==="/=")&&N.tokens.pop()),N.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,c],loc:t})),n}function lt(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function ct(){var e,t;e=N.tokens[N.tokens.length-1];if(!e)return ft();if(e.type==="Punctuator"){if(e.value==="]")return G();if(e.value===")")return t=N.tokens[N.openParenToken-1],!t||t.type!=="Keyword"||t.value!=="if"&&t.value!=="while"&&t.value!=="for"&&t.value!=="with"?G():ft();if(e.value==="}"){if(N.tokens[N.openCurlyToken-3]&&N.tokens[N.openCurlyToken-3].type==="Keyword"){t=N.tokens[N.openCurlyToken-4];if(!t)return G()}else{if(!N.tokens[N.openCurlyToken-4]||N.tokens[N.openCurlyToken-4].type!=="Keyword")return G();t=N.tokens[N.openCurlyToken-5];if(!t)return ft()}return r.indexOf(t.value)>=0?G():ft()}return ft()}return e.type==="Keyword"&&e.value!=="this"?ft():G()}function ht(){var e,n;return c>=S?{type:t.EOF,lineNumber:h,lineStart:p,start:c,end:c}:(e=a.charCodeAt(c),B(e)?(n=Q(),f&&I(n.value)&&(n.type=t.Keyword),n):e===40||e===41||e===59?G():e===39||e===34?rt():e===46?O(a.charCodeAt(c+1))?nt():G():O(e)?nt():N.tokenize&&e===47?ct():e===96||e===125&&T.curlyStack[T.curlyStack.length-1]==="${"?it():G())}function pt(){var e,r,i,s;return e={start:{line:h,column:c-p}},r=ht(),e.end={line:h,column:c-p},r.type!==t.EOF&&(i=a.slice(r.start,r.end),s={type:n[r.type],value:i,range:[r.start,r.end],loc:e},r.regex&&(s.regex={pattern:r.regex.pattern,flags:r.regex.flags}),N.tokens.push(s)),r}function dt(){var e;return E=!0,v=c,m=h,g=p,X(),e=x,y=c,b=h,w=p,x=typeof N.tokens!="undefined"?pt():ht(),E=!1,e}function vt(){E=!0,X(),v=c,m=h,g=p,y=c,b=h,w=p,x=typeof N.tokens!="undefined"?pt():ht(),E=!1}function mt(){this.line=b,this.column=y-w}function gt(){this.start=new mt,this.end=null}function yt(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function bt(){N.range&&(this.range=[y,0]),N.loc&&(this.loc=new gt)}function wt(e){N.range&&(this.range=[e.start,0]),N.loc&&(this.loc=new yt(e))}function Et(e){var t,n;for(t=0;t<N.errors.length;t++){n=N.errors[t];if(n.index===e.index&&n.message===e.message)return}N.errors.push(e)}function St(e,t,n){var r=new Error("Line "+e+": "+n);return r.index=t,r.lineNumber=e,r.column=t-(E?p:g)+1,r.description=n,r}function xt(e){var t,n;throw t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,function(e,n){return A(n<t.length,"Message reference must be in range"),t[n]}),St(m,v,n)}function Tt(e){var t,n,r;t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,function(e,n){return A(n<t.length,"Message reference must be in range"),t[n]}),r=St(h,v,n);if(!N.errors)throw r;Et(r)}function Nt(e,n){var r,i=n||o.UnexpectedToken;return e?(n||(i=e.type===t.EOF?o.UnexpectedEOS:e.type===t.Identifier?o.UnexpectedIdentifier:e.type===t.NumericLiteral?o.UnexpectedNumber:e.type===t.StringLiteral?o.UnexpectedString:e.type===t.Template?o.UnexpectedTemplate:o.UnexpectedToken,e.type===t.Keyword&&(F(e.value)?i=o.UnexpectedReserved:f&&I(e.value)&&(i=o.StrictReservedWord))),r=e.type===t.Template?e.value.raw:e.value):r="ILLEGAL",i=i.replace("%0",r),e&&typeof e.lineNumber=="number"?St(e.lineNumber,e.start,i):St(E?h:m,E?c:v,i)}function Ct(e,t){throw Nt(e,t)}function kt(e,t){var n=Nt(e,t);if(!N.errors)throw n;Et(n)}function Lt(e){var n=dt();(n.type!==t.Punctuator||n.value!==e)&&Ct(n)}function At(){var e;N.errors?(e=x,e.type===t.Punctuator&&e.value===","?dt():e.type===t.Punctuator&&e.value===";"?(dt(),kt(e)):kt(e,o.UnexpectedToken)):Lt(",")}function Ot(e){var n=dt();(n.type!==t.Keyword||n.value!==e)&&Ct(n)}function Mt(e){return x.type===t.Punctuator&&x.value===e}function _t(e){return x.type===t.Keyword&&x.value===e}function Dt(e){return x.type===t.Identifier&&x.value===e}function Pt(){var e;return x.type!==t.Punctuator?!1:(e=x.value,e==="="||e==="*="||e==="/="||e==="%="||e==="+="||e==="-="||e==="<<="||e===">>="||e===">>>="||e==="&="||e==="^="||e==="|=")}function Ht(){if(a.charCodeAt(y)===59||Mt(";")){dt();return}if(d)return;v=y,m=b,g=w,x.type!==t.EOF&&!Mt("}")&&Ct(x)}function Bt(e){var t=C,n=k,r=L,i;return C=!0,k=!0,L=null,i=e(),L!==null&&Ct(L),C=t,k=n,L=r,i}function jt(e){var t=C,n=k,r=L,i;return C=!0,k=!0,L=null,i=e(),C=C&&t,k=k&&n,L=r||L,i}function Ft(){var e=new bt,t=[],n,r;Lt("[");while(!Mt("]"))if(Mt(","))dt(),t.push(null);else{if(Mt("...")){r=new bt,dt(),n=Nn(),t.push(r.finishRestElement(n));break}t.push(Ut()),Mt("]")||Lt(",")}return Lt("]"),e.finishArrayPattern(t)}function It(){var e=new bt,n,r=Mt("["),i;if(x.type===t.Identifier){n=Nn();if(Mt("="))return dt(),i=wn(),e.finishProperty("init",n,!1,(new wt(n)).finishAssignmentPattern(n,i),!1,!1);if(!Mt(":"))return e.finishProperty("init",n,!1,n,!1,!0)}else n=Vt();return Lt(":"),i=Ut(),e.finishProperty("init",n,r,i,!1,!1)}function qt(){var e=new bt,t=[];Lt("{");while(!Mt("}"))t.push(It()),Mt("}")||Lt(",");return dt(),e.finishObjectPattern(t)}function Rt(){if(x.type===t.Identifier)return Nn();if(Mt("["))return Ft();if(Mt("{"))return qt();Ct(x)}function Ut(){var e=x,t,n;return t=Rt(),Mt("=")&&(dt(),n=Bt(wn),t=(new wt(e)).finishAssignmentPattern(t,n)),t}function zt(){var e=[],t=new bt,n;Lt("[");while(!Mt("]"))Mt(",")?(dt(),e.push(null)):Mt("...")?(n=new bt,dt(),n.finishSpreadElement(jt(wn)),Mt("]")||(k=C=!1,Lt(",")),e.push(n)):(e.push(jt(wn)),Mt("]")||Lt(","));return dt(),t.finishArrayExpression(e)}function Wt(e,t){var n,r;return k=C=!1,n=f,r=Bt(Qn),f&&t.firstRestricted&&kt(t.firstRestricted,t.message),f&&t.stricted&&kt(t.stricted,t.message),f=n,e.finishFunctionExpression(null,t.params,t.defaults,r)}function Xt(){var e,t,n=new bt;return e=Zn(),t=Wt(n,e),t}function Vt(){var e,n=new bt,r;e=dt();switch(e.type){case t.StringLiteral:case t.NumericLiteral:return f&&e.octal&&kt(e,o.StrictOctalLiteral),n.finishLiteral(e);case t.Identifier:case t.BooleanLiteral:case t.NullLiteral:case t.Keyword:return n.finishIdentifier(e.value);case t.Punctuator:if(e.value==="[")return r=Bt(wn),Lt("]"),r}Ct(e)}function $t(){switch(x.type){case t.Identifier:case t.StringLiteral:case t.BooleanLiteral:case t.NullLiteral:case t.NumericLiteral:case t.Keyword:return!0;case t.Punctuator:return x.value==="["}return!1}function Jt(e,n,r,i){var s,o,u;if(e.type===t.Identifier){if(e.value==="get"&&$t())return r=Mt("["),n=Vt(),u=new bt,Lt("("),Lt(")"),s=Wt(u,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null}),i.finishProperty("get",n,r,s,!1,!1);if(e.value==="set"&&$t())return r=Mt("["),n=Vt(),u=new bt,Lt("("),o={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},Mt(")")?kt(x):(Yn(o),o.defaultCount===0&&(o.defaults=[])),Lt(")"),s=Wt(u,o),i.finishProperty("set",n,r,s,!1,!1)}return Mt("(")?(s=Xt(),i.finishProperty("init",n,r,s,!0,!1)):null}function Kt(e,t,n){t===!1&&(e.type===i.Identifier&&e.name==="__proto__"||e.type===i.Literal&&e.value==="__proto__")&&(n.value?Tt(o.DuplicateProtoProperty):n.value=!0)}function Qt(e){var n=x,r=new bt,i,s,o,u;i=Mt("["),s=Vt(),o=Jt(n,s,i,r);if(o)return Kt(o.key,o.computed,e),o;Kt(s,i,e);if(Mt(":"))return dt(),u=jt(wn),r.finishProperty("init",s,i,u,!1,!1);if(n.type===t.Identifier)return Mt("=")?(L=x,dt(),u=Bt(wn),r.finishProperty("init",s,i,(new wt(n)).finishAssignmentPattern(s,u),!1,!0)):r.finishProperty("init",s,i,s,!1,!0);Ct(x)}function Gt(){var e=[],t={value:!1},n=new bt;Lt("{");while(!Mt("}"))e.push(Qt(t)),Mt("}")||At();return Lt("}"),n.finishObjectExpression(e)}function Yt(e){var t;switch(e.type){case i.Identifier:case i.MemberExpression:case i.RestElement:case i.AssignmentPattern:break;case i.SpreadElement:e.type=i.RestElement,Yt(e.argument);break;case i.ArrayExpression:e.type=i.ArrayPattern;for(t=0;t<e.elements.length;t++)e.elements[t]!==null&&Yt(e.elements[t]);break;case i.ObjectExpression:e.type=i.ObjectPattern;for(t=0;t<e.properties.length;t++)Yt(e.properties[t].value);break;case i.AssignmentExpression:e.type=i.AssignmentPattern,Yt(e.left);break;default:}}function Zt(e){var n,r;return(x.type!==t.Template||e.head&&!x.head)&&Ct(),n=new bt,r=dt(),n.finishTemplateElement({raw:r.value.raw,cooked:r.value.cooked},r.tail)}function en(){var e,t,n,r=new bt;e=Zt({head:!0}),t=[e],n=[];while(!e.tail)n.push(En()),e=Zt({head:!1}),t.push(e);return r.finishTemplateLiteral(t,n)}function tn(){var e,t,n,r;Lt("(");if(Mt(")"))return dt(),Mt("=>")||Lt("=>"),{type:s.ArrowParameterPlaceHolder,params:[]};n=x;if(Mt("..."))return e=_n(),Lt(")"),Mt("=>")||Lt("=>"),{type:s.ArrowParameterPlaceHolder,params:[e]};C=!0,e=jt(wn);if(Mt(",")){k=!1,t=[e];while(y<S){if(!Mt(","))break;dt();if(Mt("...")){C||Ct(x),t.push(_n()),Lt(")"),Mt("=>")||Lt("=>"),C=!1;for(r=0;r<t.length;r++)Yt(t[r]);return{type:s.ArrowParameterPlaceHolder,params:t}}t.push(jt(wn))}e=(new wt(n)).finishSequenceExpression(t)}Lt(")");if(Mt("=>")){C||Ct(x);if(e.type===i.SequenceExpression)for(r=0;r<e.expressions.length;r++)Yt(e.expressions[r]);else Yt(e);e={type:s.ArrowParameterPlaceHolder,params:e.type===i.SequenceExpression?e.expressions:[e]}}return C=!1,e}function nn(){var e,n,r,i;if(Mt("("))return C=!1,jt(tn);if(Mt("["))return jt(zt);if(Mt("{"))return jt(Gt);e=x.type,i=new bt;if(e===t.Identifier)r=i.finishIdentifier(dt().value);else if(e===t.StringLiteral||e===t.NumericLiteral)k=C=!1,f&&x.octal&&kt(x,o.StrictOctalLiteral),r=i.finishLiteral(dt());else if(e===t.Keyword){k=C=!1;if(_t("function"))return tr();if(_t("this"))return dt(),i.finishThisExpression();if(_t("class"))return ir();Ct(dt())}else e===t.BooleanLiteral?(k=C=!1,n=dt(),n.value=n.value==="true",r=i.finishLiteral(n)):e===t.NullLiteral?(k=C=!1,n=dt(),n.value=null,r=i.finishLiteral(n)):Mt("/")||Mt("/=")?(k=C=!1,c=y,typeof N.tokens!="undefined"?n=ft():n=at(),dt(),r=i.finishLiteral(n)):e===t.Template?r=en():Ct(dt());return r}function rn(){var e=[];Lt("(");if(!Mt(")"))while(y<S){e.push(Bt(wn));if(Mt(")"))break;At()}return Lt(")"),e}function sn(){var e,t=new bt;return e=dt(),lt(e)||Ct(e),t.finishIdentifier(e.value)}function on(){return Lt("."),sn()}function un(){var e;return Lt("["),e=Bt(En),Lt("]"),e}function an(){var e,t,n=new bt;return Ot("new"),e=Bt(ln),t=Mt("(")?rn():[],k=C=!1,n.finishNewExpression(e,t)}function fn(){var e,n,r,i,s,o=T.allowIn;s=x,T.allowIn=!0,_t("super")&&T.inFunctionBody?(n=new bt,dt(),n=n.finishSuper(),!Mt("(")&&!Mt(".")&&!Mt("[")&&Ct(x)):n=jt(_t("new")?an:nn);for(;;)if(Mt("."))C=!1,k=!0,i=on(),n=(new wt(s)).finishMemberExpression(".",n,i);else if(Mt("("))C=!1,k=!1,r=rn(),n=(new wt(s)).finishCallExpression(n,r);else if(Mt("["))C=!1,k=!0,i=un(),n=(new wt(s)).finishMemberExpression("[",n,i);else{if(x.type!==t.Template||!x.head)break;e=en(),n=(new wt(s)).finishTaggedTemplateExpression(n,e)}return T.allowIn=o,n}function ln(){var e,n,r,i;A(T.allowIn,"callee of new expression always allow in keyword."),i=x,_t("super")&&T.inFunctionBody?(n=new bt,dt(),n=n.finishSuper(),!Mt("[")&&!Mt(".")&&Ct(x)):n=jt(_t("new")?an:nn);for(;;)if(Mt("["))C=!1,k=!0,r=un(),n=(new wt(i)).finishMemberExpression("[",n,r);else if(Mt("."))C=!1,k=!0,r=on(),n=(new wt(i)).finishMemberExpression(".",n,r);else{if(x.type!==t.Template||!x.head)break;e=en(),n=(new wt(i)).finishTaggedTemplateExpression(n,e)}return n}function cn(){var e,n,r=x;return e=jt(fn),!d&&x.type===t.Punctuator&&(Mt("++")||Mt("--"))&&(f&&e.type===i.Identifier&&q(e.name)&&Tt(o.StrictLHSPostfix),k||Tt(o.InvalidLHSInAssignment),k=C=!1,n=dt(),e=(new wt(r)).finishPostfixExpression(n.value,e)),e}function hn(){var e,n,r;return x.type!==t.Punctuator&&x.type!==t.Keyword?n=cn():Mt("++")||Mt("--")?(r=x,e=dt(),n=jt(hn),f&&n.type===i.Identifier&&q(n.name)&&Tt(o.StrictLHSPrefix),k||Tt(o.InvalidLHSInAssignment),n=(new wt(r)).finishUnaryExpression(e.value,n),k=C=!1):Mt("+")||Mt("-")||Mt("~")||Mt("!")?(r=x,e=dt(),n=jt(hn),n=(new wt(r)).finishUnaryExpression(e.value,n),k=C=!1):_t("delete")||_t("void")||_t("typeof")?(r=x,e=dt(),n=jt(hn),n=(new wt(r)).finishUnaryExpression(e.value,n),f&&n.operator==="delete"&&n.argument.type===i.Identifier&&Tt(o.StrictDelete),k=C=!1):n=cn(),n}function pn(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11;break;default:}return r}function dn(){var e,t,n,r,i,s,o,u,a,f;e=x,a=jt(hn),r=x,i=pn(r,T.allowIn);if(i===0)return a;k=C=!1,r.prec=i,dt(),t=[e,x],o=Bt(hn),s=[a,r,o];while((i=pn(x,T.allowIn))>0){while(s.length>2&&i<=s[s.length-2].prec)o=s.pop(),u=s.pop().value,a=s.pop(),t.pop(),n=(new wt(t[t.length-1])).finishBinaryExpression(u,a,o),s.push(n);r=dt(),r.prec=i,s.push(r),t.push(x),n=Bt(hn),s.push(n)}f=s.length-1,n=s[f],t.pop();while(f>1)n=(new wt(t.pop())).finishBinaryExpression(s[f-1].value,s[f-2],n),f-=2;return n}function vn(){var e,t,n,r,i;return i=x,e=jt(dn),Mt("?")&&(dt(),t=T.allowIn,T.allowIn=!0,n=Bt(wn),T.allowIn=t,Lt(":"),r=Bt(wn),e=(new wt(i)).finishConditionalExpression(e,n,r),k=C=!1),e}function mn(){return Mt("{")?Qn():Bt(wn)}function gn(e,t){var n;switch(t.type){case i.Identifier:Gn(e,t,t.name);break;case i.RestElement:gn(e,t.argument);break;case i.AssignmentPattern:gn(e,t.left);break;case i.ArrayPattern:for(n=0;n<t.elements.length;n++)t.elements[n]!==null&&gn(e,t.elements[n]);break;default:A(t.type===i.ObjectPattern,"Invalid type");for(n=0;n<t.properties.length;n++)gn(e,t.properties[n].value)}}function yn(e){var t,n,r,u,a,l,c,h;a=[],l=0,u=[e];switch(e.type){case i.Identifier:break;case s.ArrowParameterPlaceHolder:u=e.params;break;default:return null}c={paramSet:{}};for(t=0,n=u.length;t<n;t+=1){r=u[t];switch(r.type){case i.AssignmentPattern:u[t]=r.left,a.push(r.right),++l,gn(c,r.left);break;default:gn(c,r),u[t]=r,a.push(null)}}return c.message===o.StrictParamDupe&&(h=f?c.stricted:c.firstRestricted,Ct(h,c.message)),l===0&&(a=[]),{params:u,defaults:a,stricted:c.stricted,firstRestricted:c.firstRestricted,message:c.message}}function bn(e,t){var n,r;return d&&kt(x),Lt("=>"),n=f,r=mn(),f&&e.firstRestricted&&Ct(e.firstRestricted,e.message),f&&e.stricted&&kt(e.stricted,e.message),f=n,t.finishArrowFunctionExpression(e.params,e.defaults,r,r.type!==i.BlockStatement)}function wn(){var e,t,n,r,u;return u=x,e=x,t=vn(),t.type===s.ArrowParameterPlaceHolder||Mt("=>")?(k=C=!1,r=yn(t),r?(L=null,bn(r,new wt(u))):t):(Pt()&&(k||Tt(o.InvalidLHSInAssignment),f&&t.type===i.Identifier&&q(t.name)&&kt(e,o.StrictLHSAssignment),Mt("=")?Yt(t):k=C=!1,e=dt(),n=Bt(wn),t=(new wt(u)).finishAssignmentExpression(e.value,t,n),L=null),t)}function En(){var e,t=x,n;e=Bt(wn);if(Mt(",")){n=[e];while(y<S){if(!Mt(","))break;dt(),n.push(Bt(wn))}e=(new wt(t)).finishSequenceExpression(n)}return e}function Sn(){if(x.type===t.Keyword)switch(x.value){case"export":return l!=="module"&&kt(x,o.IllegalExportDeclaration),lr();case"import":return l!=="module"&&kt(x,o.IllegalImportDeclaration),vr();case"const":case"let":return Mn({inFor:!1});case"function":return er(new bt);case"class":return rr()}return Kn()}function xn(){var e=[];while(y<S){if(Mt("}"))break;e.push(Sn())}return e}function Tn(){var e,t=new bt;return Lt("{"),e=xn(),Lt("}"),t.finishBlockStatement(e)}function Nn(){var e,n=new bt;return e=dt(),e.type!==t.Identifier&&(f&&e.type===t.Keyword&&I(e.value)?kt(e,o.StrictReservedWord):Ct(e)),n.finishIdentifier(e.value)}function Cn(){var e=null,t,n=new bt;return t=Rt(),f&&q(t.name)&&Tt(o.StrictVarName),Mt("=")?(dt(),e=Bt(wn)):t.type!==i.Identifier&&Lt("="),n.finishVariableDeclarator(t,e)}function kn(){var e=[];do{e.push(Cn());if(!Mt(","))break;dt()}while(y<S);return e}function Ln(e){var t;return Ot("var"),t=kn(),Ht(),e.finishVariableDeclaration(t)}function An(e,t){var n=null,r,s=new bt;r=Rt(),f&&r.type===i.Identifier&&q(r.name)&&Tt(o.StrictVarName);if(e==="const")_t("in")||(Lt("="),n=Bt(wn));else if(!t.inFor&&r.type!==i.Identifier||Mt("="))Lt("="),n=Bt(wn);return s.finishVariableDeclarator(r,n)}function On(e,t){var n=[];do{n.push(An(e,t));if(!Mt(","))break;dt()}while(y<S);return n}function Mn(e){var t,n,r=new bt;return t=dt().value,A(t==="let"||t==="const","Lexical declaration must be either let or const"),n=On(t,e),Ht(),r.finishLexicalDeclaration(n,t)}function _n(){var e,t=new bt;return dt(),Mt("{")&&xt(o.ObjectPatternAsRestParameter),e=Nn(),Mt("=")&&xt(o.DefaultRestParameter),Mt(")")||xt(o.ParameterAfterRestParameter),t.finishRestElement(e)}function Dn(e){return Lt(";"),e.finishEmptyStatement()}function Pn(e){var t=En();return Ht(),e.finishExpressionStatement(t)}function Hn(e){var t,n,r;return Ot("if"),Lt("("),t=En(),Lt(")"),n=Kn(),_t("else")?(dt(),r=Kn()):r=null,e.finishIfStatement(t,n,r)}function Bn(e){var t,n,r;return Ot("do"),r=T.inIteration,T.inIteration=!0,t=Kn(),T.inIteration=r,Ot("while"),Lt("("),n=En(),Lt(")"),Mt(";")&&dt(),e.finishDoWhileStatement(t,n)}function jn(e){var t,n,r;return Ot("while"),Lt("("),t=En(),Lt(")"),r=T.inIteration,T.inIteration=!0,n=Kn(),T.inIteration=r,e.finishWhileStatement(t,n)}function Fn(e){var t,n,r,i,s,u,a,f,l,c,h,p=T.allowIn;t=i=s=null,Ot("for"),Lt("(");if(Mt(";"))dt();else if(_t("var"))t=new bt,dt(),T.allowIn=!1,t=t.finishVariableDeclaration(kn()),T.allowIn=p,t.declarations.length===1&&_t("in")?(dt(),u=t,a=En(),t=null):Lt(";");else if(_t("const")||_t("let"))t=new bt,f=dt().value,T.allowIn=!1,l=On(f,{inFor:!0}),T.allowIn=p,l.length===1&&l[0].init===null&&_t("in")?(t=t.finishLexicalDeclaration(l,f),dt(),u=t,a=En(),t=null):(Ht(),t=t.finishLexicalDeclaration(l,f));else{r=x,T.allowIn=!1,t=jt(wn),T.allowIn=p;if(_t("in"))k||Tt(o.InvalidLHSInForIn),dt(),Yt(t),u=t,a=En(),t=null;else{if(Mt(",")){n=[t];while(Mt(","))dt(),n.push(Bt(wn));t=(new wt(r)).finishSequenceExpression(n)}Lt(";")}}return typeof u=="undefined"&&(Mt(";")||(i=En()),Lt(";"),Mt(")")||(s=En())),Lt(")"),h=T.inIteration,T.inIteration=!0,c=Bt(Kn),T.inIteration=h,typeof u=="undefined"?e.finishForStatement(t,i,s,c):e.finishForInStatement(u,a,c)}function In(e){var n=null,r;return Ot("continue"),a.charCodeAt(y)===59?(dt(),T.inIteration||xt(o.IllegalContinue),e.finishContinueStatement(null)):d?(T.inIteration||xt(o.IllegalContinue),e.finishContinueStatement(null)):(x.type===t.Identifier&&(n=Nn(),r="$"+n.name,Object.prototype.hasOwnProperty.call(T.labelSet,r)||xt(o.UnknownLabel,n.name)),Ht(),n===null&&!T.inIteration&&xt(o.IllegalContinue),e.finishContinueStatement(n))}function qn(e){var n=null,r;return Ot("break"),a.charCodeAt(v)===59?(dt(),!T.inIteration&&!T.inSwitch&&xt(o.IllegalBreak),e.finishBreakStatement(null)):d?(!T.inIteration&&!T.inSwitch&&xt(o.IllegalBreak),e.finishBreakStatement(null)):(x.type===t.Identifier&&(n=Nn(),r="$"+n.name,Object.prototype.hasOwnProperty.call(T.labelSet,r)||xt(o.UnknownLabel,n.name)),Ht(),n===null&&!T.inIteration&&!T.inSwitch&&xt(o.IllegalBreak),e.finishBreakStatement(n))}function Rn(e){var n=null;return Ot("return"),T.inFunctionBody||Tt(o.IllegalReturn),a.charCodeAt(v)===32&&B(a.charCodeAt(v+1))?(n=En(),Ht(),e.finishReturnStatement(n)):d?e.finishReturnStatement(null):(Mt(";")||!Mt("}")&&x.type!==t.EOF&&(n=En()),Ht(),e.finishReturnStatement(n))}function Un(e){var t,n;return f&&Tt(o.StrictModeWith),Ot("with"),Lt("("),t=En(),Lt(")"),n=Kn(),e.finishWithStatement(t,n)}function zn(){var e,t=[],n,r=new bt;_t("default")?(dt(),e=null):(Ot("case"),e=En()),Lt(":");while(y<S){if(Mt("}")||_t("default")||_t("case"))break;n=Sn(),t.push(n)}return r.finishSwitchCase(e,t)}function Wn(e){var t,n,r,i,s;Ot("switch"),Lt("("),t=En(),Lt(")"),Lt("{"),n=[];if(Mt("}"))return dt(),e.finishSwitchStatement(t,n);i=T.inSwitch,T.inSwitch=!0,s=!1;while(y<S){if(Mt("}"))break;r=zn(),r.test===null&&(s&&xt(o.MultipleDefaultsInSwitch),s=!0),n.push(r)}return T.inSwitch=i,Lt("}"),e.finishSwitchStatement(t,n)}function Xn(e){var t;return Ot("throw"),d&&xt(o.NewlineAfterThrow),t=En(),Ht(),e.finishThrowStatement(t)}function Vn(){var e,t,n=new bt;return Ot("catch"),Lt("("),Mt(")")&&Ct(x),e=Rt(),f&&q(e.name)&&Tt(o.StrictCatchVariable),Lt(")"),t=Tn(),n.finishCatchClause(e,t)}function $n(e){var t,n=null,r=null;return Ot("try"),t=Tn(),_t("catch")&&(n=Vn()),_t("finally")&&(dt(),r=Tn()),!n&&!r&&xt(o.NoCatchOrFinally),e.finishTryStatement(t,n,r)}function Jn(e){return Ot("debugger"),Ht(),e.finishDebuggerStatement()}function Kn(){var e=x.type,n,r,s,u;e===t.EOF&&Ct(x);if(e===t.Punctuator&&x.value==="{")return Tn();k=C=!0,u=new bt;if(e===t.Punctuator)switch(x.value){case";":return Dn(u);case"(":return Pn(u);default:}else if(e===t.Keyword)switch(x.value){case"break":return qn(u);case"continue":return In(u);case"debugger":return Jn(u);case"do":return Bn(u);case"for":return Fn(u);case"function":return er(u);case"if":return Hn(u);case"return":return Rn(u);case"switch":return Wn(u);case"throw":return Xn(u);case"try":return $n(u);case"var":return Ln(u);case"while":return jn(u);case"with":return Un(u);default:}return n=En(),n.type===i.Identifier&&Mt(":")?(dt(),s="$"+n.name,Object.prototype.hasOwnProperty.call(T.labelSet,s)&&xt(o.Redeclaration,"Label",n.name),T.labelSet[s]=!0,r=Kn(),delete T.labelSet[s],u.finishLabeledStatement(n,r)):(Ht(),u.finishExpressionStatement(n))}function Qn(){var e,n=[],r,s,u,l,c,h,p,d,v=new bt;Lt("{");while(y<S){if(x.type!==t.StringLiteral)break;r=x,e=Sn(),n.push(e);if(e.expression.type!==i.Literal)break;s=a.slice(r.start+1,r.end-1),s==="use strict"?(f=!0,u&&kt(u,o.StrictOctalLiteral)):!u&&r.octal&&(u=r)}l=T.labelSet,c=T.inIteration,h=T.inSwitch,p=T.inFunctionBody,d=T.parenthesizedCount,T.labelSet={},T.inIteration=!1,T.inSwitch=!1,T.inFunctionBody=!0,T.parenthesizedCount=0;while(y<S){if(Mt("}"))break;n.push(Sn())}return Lt("}"),T.labelSet=l,T.inIteration=c,T.inSwitch=h,T.inFunctionBody=p,T.parenthesizedCount=d,v.finishBlockStatement(n)}function Gn(e,t,n){var r="$"+n;f?(q(n)&&(e.stricted=t,e.message=o.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.StrictParamDupe)):e.firstRestricted||(q(n)?(e.firstRestricted=t,e.message=o.StrictParamName):I(n)?(e.firstRestricted=t,e.message=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.firstRestricted=t,e.message=o.StrictParamDupe)),e.paramSet[r]=!0}function Yn(e){var t,n,r;return t=x,t.value==="..."?(n=_n(),Gn(e,n.argument,n.argument.name),e.params.push(n),e.defaults.push(null),!1):(n=Ut(),Gn(e,t,t.value),n.type===i.AssignmentPattern&&(r=n.right,n=n.left,++e.defaultCount),e.params.push(n),e.defaults.push(r),!Mt(")"))}function Zn(e){var t;t={params:[],defaultCount:0,defaults:[],firstRestricted:e},Lt("(");if(!Mt(")")){t.paramSet={};while(y<S){if(!Yn(t))break;Lt(",")}}return Lt(")"),t.defaultCount===0&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function er(e,t){var n=null,r=[],i=[],s,u,a,l,c,h,p;Ot("function");if(!t||!Mt("("))u=x,n=Nn(),f?q(u.value)&&kt(u,o.StrictFunctionName):q(u.value)?(c=u,h=o.StrictFunctionName):I(u.value)&&(c=u,h=o.StrictReservedWord);return l=Zn(c),r=l.params,i=l.defaults,a=l.stricted,c=l.firstRestricted,l.message&&(h=l.message),p=f,s=Qn(),f&&c&&Ct(c,h),f&&a&&kt(a,h),f=p,e.finishFunctionDeclaration(n,r,i,s)}function tr(){var e,t=null,n,r,i,s,u=[],a=[],l,c,h=new bt;return Ot("function"),Mt("(")||(e=x,t=Nn(),f?q(e.value)&&kt(e,o.StrictFunctionName):q(e.value)?(r=e,i=o.StrictFunctionName):I(e.value)&&(r=e,i=o.StrictReservedWord)),s=Zn(r),u=s.params,a=s.defaults,n=s.stricted,r=s.firstRestricted,s.message&&(i=s.message),c=f,l=Qn(),f&&r&&Ct(r,i),f&&n&&kt(n,i),f=c,h.finishFunctionExpression(t,u,a,l)}function nr(){var e,t,n,r=!1,s,u,a,f;e=new bt,Lt("{"),s=[];while(!Mt("}"))Mt(";")?dt():(u=new bt,t=x,n=!1,a=Mt("["),f=Vt(),f.name==="static"&&$t()&&(t=x,n=!0,a=Mt("["),f=Vt()),u=Jt(t,f,a,u),u?(u["static"]=n,u.kind==="init"&&(u.kind="method"),n?!u.computed&&(u.key.name||u.key.value.toString())==="prototype"&&Ct(t,o.StaticPrototype):!u.computed&&(u.key.name||u.key.value.toString())==="constructor"&&((u.kind!=="method"||!u.method||u.value.generator)&&Ct(t,o.ConstructorSpecialMethod),r?Ct(t,o.DuplicateConstructor):r=!0,u.kind="constructor"),u.type=i.MethodDefinition,delete u.method,delete u.shorthand,s.push(u)):Ct(x));return dt(),e.finishClassBody(s)}function rr(e){var n=null,r=null,i=new bt,s,o=f;f=!0,Ot("class");if(!e||x.type===t.Identifier)n=Nn();return _t("extends")&&(dt(),r=Bt(fn)),s=nr(),f=o,i.finishClassDeclaration(n,r,s)}function ir(){var e=null,n=null,r=new bt,i,s=f;return f=!0,Ot("class"),x.type===t.Identifier&&(e=Nn()),_t("extends")&&(dt(),n=Bt(fn)),i=nr(),f=s,r.finishClassExpression(e,n,i)}function sr(){var e=new bt;return x.type!==t.StringLiteral&&xt(o.InvalidModuleSpecifier),e.finishLiteral(dt())}function or(){var e,t,n=new bt,r;return _t("default")?(r=new bt,dt(),t=r.finishIdentifier("default")):t=Nn(),Dt("as")&&(dt(),e=sn()),n.finishExportSpecifier(t,e)}function ur(e){var n=null,r,i=null,s=[];if(x.type===t.Keyword)switch(x.value){case"let":case"const":case"var":case"class":case"function":return n=Sn(),e.finishExportNamedDeclaration(n,s,null)}Lt("{");if(!Mt("}"))do r=r||_t("default"),s.push(or());while(Mt(",")&&dt());return Lt("}"),Dt("from")?(dt(),i=sr(),Ht()):r?xt(x.value?o.UnexpectedToken:o.MissingFromClause,x.value):Ht(),e.finishExportNamedDeclaration(n,s,i)}function ar(e){var t=null,n=null;return Ot("default"),_t("function")?(t=er(new bt,!0),e.finishExportDefaultDeclaration(t)):_t("class")?(t=rr(!0),e.finishExportDefaultDeclaration(t)):(Dt("from")&&xt(o.UnexpectedToken,x.value),Mt("{")?n=Gt():Mt("[")?n=zt():n=wn(),Ht(),e.finishExportDefaultDeclaration(n))}function fr(e){var t;return Lt("*"),Dt("from")||xt(x.value?o.UnexpectedToken:o.MissingFromClause,x.value),dt(),t=sr(),Ht(),e.finishExportAllDeclaration(t)}function lr(){var e=new bt;return T.inFunctionBody&&xt(o.IllegalExportDeclaration),Ot("export"),_t("default")?ar(e):Mt("*")?fr(e):ur(e)}function cr(){var e,t,n=new bt;return t=sn(),Dt("as")&&(dt(),e=Nn()),n.finishImportSpecifier(e,t)}function hr(){var e=[];Lt("{");if(!Mt("}"))do e.push(cr());while(Mt(",")&&dt());return Lt("}"),e}function pr(){var e,t=new bt;return e=sn(),t.finishImportDefaultSpecifier(e)}function dr(){var e,t=new bt;return Lt("*"),Dt("as")||xt(o.NoAsAfterImportNamespace),dt(),e=sn(),t.finishImportNamespaceSpecifier(e)}function vr(){var e,n,r=new bt;return T.inFunctionBody&&xt(o.IllegalImportDeclaration),Ot("import"),e=[],x.type===t.StringLiteral?(n=sr(),Ht(),r.finishImportDeclaration(e,n)):(!_t("default")&&lt(x)&&(e.push(pr()),Mt(",")&&dt()),Mt("*")?e.push(dr()):Mt("{")&&(e=e.concat(hr())),Dt("from")||xt(x.value?o.UnexpectedToken:o.MissingFromClause,x.value),dt(),n=sr(),Ht(),r.finishImportDeclaration(e,n))}function mr(){var e,n=[],r,s,u;while(y<S){r=x;if(r.type!==t.StringLiteral)break;e=Sn(),n.push(e);if(e.expression.type!==i.Literal)break;s=a.slice(r.start+1,r.end-1),s==="use strict"?(f=!0,u&&kt(u,o.StrictOctalLiteral)):!u&&r.octal&&(u=r)}while(y<S){e=Sn();if(typeof e=="undefined")break;n.push(e)}return n}function gr(){var e,t;return vt(),t=new bt,e=mr(),t.finishProgram(e)}function yr(){var e,t,n,r=[];for(e=0;e<N.tokens.length;++e)t=N.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),N.range&&(n.range=t.range),N.loc&&(n.loc=t.loc),r.push(n);N.tokens=r}function br(e,n){var r,i;r=String,typeof e!="string"&&!(e instanceof String)&&(e=r(e)),a=e,c=0,h=a.length>0?1:0,p=0,y=c,b=h,w=p,S=a.length,x=null,T={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},N={},n=n||{},n.tokens=!0,N.tokens=[],N.tokenize=!0,N.openParenToken=-1,N.openCurlyToken=-1,N.range=typeof n.range=="boolean"&&n.range,N.loc=typeof n.loc=="boolean"&&n.loc,typeof n.comment=="boolean"&&n.comment&&(N.comments=[]),typeof n.tolerant=="boolean"&&n.tolerant&&(N.errors=[]);try{vt();if(x.type===t.EOF)return N.tokens;dt();while(x.type!==t.EOF)try{dt()}catch(s){if(N.errors){Et(s);break}throw s}yr(),i=N.tokens,typeof N.comments!="undefined"&&(i.comments=N.comments),typeof N.errors!="undefined"&&(i.errors=N.errors)}catch(o){throw o}finally{N={}}return i}function wr(e,t){var n,r;r=String,typeof e!="string"&&!(e instanceof String)&&(e=r(e)),a=e,c=0,h=a.length>0?1:0,p=0,y=c,b=h,w=p,S=a.length,x=null,T={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},l="script",f=!1,N={},typeof t!="undefined"&&(N.range=typeof t.range=="boolean"&&t.range,N.loc=typeof t.loc=="boolean"&&t.loc,N.attachComment=typeof t.attachComment=="boolean"&&t.attachComment,N.loc&&t.source!==null&&t.source!==undefined&&(N.source=r(t.source)),typeof t.tokens=="boolean"&&t.tokens&&(N.tokens=[]),typeof t.comment=="boolean"&&t.comment&&(N.comments=[]),typeof t.tolerant=="boolean"&&t.tolerant&&(N.errors=[]),N.attachComment&&(N.range=!0,N.comments=[],N.bottomRightStack=[],N.trailingComments=[],N.leadingComments=[]),t.sourceType==="module"&&(l=t.sourceType,f=!0));try{n=gr(),typeof N.comments!="undefined"&&(n.comments=N.comments),typeof N.tokens!="undefined"&&(yr(),n.tokens=N.tokens),typeof N.errors!="undefined"&&(n.errors=N.errors)}catch(i){throw i}finally{N={}}return n}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10},n={},n[t.BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier"
,n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",n[t.Template]="Template",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},s={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token"},u={NonAsciiIdentifierStart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},wt.prototype=bt.prototype={processComment:function(){var e,t,n,r=N.bottomRightStack,s,o,u=r[r.length-1];if(this.type===i.Program&&this.body.length>0)return;if(N.trailingComments.length>0){n=[];for(s=N.trailingComments.length-1;s>=0;--s)o=N.trailingComments[s],o.range[0]>=this.range[1]&&(n.unshift(o),N.trailingComments.splice(s,1));N.trailingComments=[]}else u&&u.trailingComments&&u.trailingComments[0].range[0]>=this.range[1]&&(n=u.trailingComments,delete u.trailingComments);if(u)while(u&&u.range[0]>=this.range[0])e=u,u=r.pop();if(e)e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=e.leadingComments,e.leadingComments=undefined);else if(N.leadingComments.length>0){t=[];for(s=N.leadingComments.length-1;s>=0;--s)o=N.leadingComments[s],o.range[1]<=this.range[0]&&(t.unshift(o),N.leadingComments.splice(s,1))}t&&t.length>0&&(this.leadingComments=t),n&&n.length>0&&(this.trailingComments=n),r.push(this)},finish:function(){N.range&&(this.range[1]=v),N.loc&&(this.loc.end={line:m,column:v-g},N.source&&(this.loc.source=N.source)),N.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=i.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern:function(e){return this.type=i.ArrayPattern,this.elements=e,this.finish(),this},finishArrowFunctionExpression:function(e,t,n,r){return this.type=i.ArrowFunctionExpression,this.id=null,this.params=e,this.defaults=t,this.body=n,this.generator=!1,this.expression=r,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=i.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishAssignmentPattern:function(e,t){return this.type=i.AssignmentPattern,this.left=e,this.right=t,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type=e==="||"||e==="&&"?i.LogicalExpression:i.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(e){return this.type=i.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=i.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=i.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishCatchClause:function(e,t){return this.type=i.CatchClause,this.param=e,this.body=t,this.finish(),this},finishClassBody:function(e){return this.type=i.ClassBody,this.body=e,this.finish(),this},finishClassDeclaration:function(e,t,n){return this.type=i.ClassDeclaration,this.id=e,this.superClass=t,this.body=n,this.finish(),this},finishClassExpression:function(e,t,n){return this.type=i.ClassExpression,this.id=e,this.superClass=t,this.body=n,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=i.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement:function(e){return this.type=i.ContinueStatement,this.label=e,this.finish(),this},finishDebuggerStatement:function(){return this.type=i.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(e,t){return this.type=i.DoWhileStatement,this.body=e,this.test=t,this.finish(),this},finishEmptyStatement:function(){return this.type=i.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=i.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,n,r){return this.type=i.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r,this.finish(),this},finishForInStatement:function(e,t,n){return this.type=i.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,n,r){return this.type=i.FunctionDeclaration,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,n,r){return this.type=i.FunctionExpression,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=i.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=i.IfStatement,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishLabeledStatement:function(e,t){return this.type=i.LabeledStatement,this.label=e,this.body=t,this.finish(),this},finishLiteral:function(e){return this.type=i.Literal,this.value=e.value,this.raw=a.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=i.MemberExpression,this.computed=e==="[",this.object=t,this.property=n,this.finish(),this},finishNewExpression:function(e,t){return this.type=i.NewExpression,this.callee=e,this.arguments=t,this.finish(),this},finishObjectExpression:function(e){return this.type=i.ObjectExpression,this.properties=e,this.finish(),this},finishObjectPattern:function(e){return this.type=i.ObjectPattern,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=i.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e){return this.type=i.Program,this.body=e,l==="module"&&(this.sourceType=l),this.finish(),this},finishProperty:function(e,t,n,r,s,o){return this.type=i.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=s,this.shorthand=o,this.finish(),this},finishRestElement:function(e){return this.type=i.RestElement,this.argument=e,this.finish(),this},finishReturnStatement:function(e){return this.type=i.ReturnStatement,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this.type=i.SequenceExpression,this.expressions=e,this.finish(),this},finishSpreadElement:function(e){return this.type=i.SpreadElement,this.argument=e,this.finish(),this},finishSwitchCase:function(e,t){return this.type=i.SwitchCase,this.test=e,this.consequent=t,this.finish(),this},finishSuper:function(){return this.type=i.Super,this.finish(),this},finishSwitchStatement:function(e,t){return this.type=i.SwitchStatement,this.discriminant=e,this.cases=t,this.finish(),this},finishTaggedTemplateExpression:function(e,t){return this.type=i.TaggedTemplateExpression,this.tag=e,this.quasi=t,this.finish(),this},finishTemplateElement:function(e,t){return this.type=i.TemplateElement,this.value=e,this.tail=t,this.finish(),this},finishTemplateLiteral:function(e,t){return this.type=i.TemplateLiteral,this.quasis=e,this.expressions=t,this.finish(),this},finishThisExpression:function(){return this.type=i.ThisExpression,this.finish(),this},finishThrowStatement:function(e){return this.type=i.ThrowStatement,this.argument=e,this.finish(),this},finishTryStatement:function(e,t,n){return this.type=i.TryStatement,this.block=e,this.guardedHandlers=[],this.handlers=t?[t]:[],this.handler=t,this.finalizer=n,this.finish(),this},finishUnaryExpression:function(e,t){return this.type=e==="++"||e==="--"?i.UpdateExpression:i.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e){return this.type=i.VariableDeclaration,this.declarations=e,this.kind="var",this.finish(),this},finishLexicalDeclaration:function(e,t){return this.type=i.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=i.VariableDeclarator,this.id=e,this.init=t,this.finish(),this},finishWhileStatement:function(e,t){return this.type=i.WhileStatement,this.test=e,this.body=t,this.finish(),this},finishWithStatement:function(e,t){return this.type=i.WithStatement,this.object=e,this.body=t,this.finish(),this},finishExportSpecifier:function(e,t){return this.type=i.ExportSpecifier,this.exported=t||e,this.local=e,this.finish(),this},finishImportDefaultSpecifier:function(e){return this.type=i.ImportDefaultSpecifier,this.local=e,this.finish(),this},finishImportNamespaceSpecifier:function(e){return this.type=i.ImportNamespaceSpecifier,this.local=e,this.finish(),this},finishExportNamedDeclaration:function(e,t,n){return this.type=i.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n,this.finish(),this},finishExportDefaultDeclaration:function(e){return this.type=i.ExportDefaultDeclaration,this.declaration=e,this.finish(),this},finishExportAllDeclaration:function(e){return this.type=i.ExportAllDeclaration,this.source=e,this.finish(),this},finishImportSpecifier:function(e,t){return this.type=i.ImportSpecifier,this.local=e||t,this.imported=t,this.finish(),this},finishImportDeclaration:function(e,t){return this.type=i.ImportDeclaration,this.specifiers=e,this.source=t,this.finish(),this}},e.version="2.2.0",e.tokenize=br,e.parse=wr,e.Syntax=function(){var e,t={};typeof Object.create=="function"&&(t=Object.create(null));for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return typeof Object.freeze=="function"&&Object.freeze(t),t}()})},{}],83:[function(e,t,n){(function r(t){"use strict";function h(){}function p(e){var t={},n,r;for(n in e)e.hasOwnProperty(n)&&(r=e[n],typeof r=="object"&&r!==null?t[n]=p(r):t[n]=r);return t}function d(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?r=n:(i=s+1,r-=n+1);return i}function m(e,t){var n,r,i,s;r=e.length,i=0;while(r)n=r>>>1,s=i+n,t(e[s])?(i=s+1,r-=n+1):r=n;return i}function g(e,t){var n=a(t),r,i,s;for(i=0,s=n.length;i<s;i+=1)r=n[i],e[r]=t[r];return e}function y(e,t){this.parent=e,this.key=t}function b(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function w(){}function E(e){return e==null?!1:typeof e=="object"&&typeof e.type=="string"}function S(e,t){return(e===n.ObjectExpression||e===n.ObjectPattern)&&"properties"===t}function x(e,t){var n=new w;return n.traverse(e,t)}function T(e,t){var n=new w;return n.replace(e,t)}function N(e,t){var n;return n=v(t,function(n){return n.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function C(e,t,n){var r=[],i,o,u,a;if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(u=0,o=t.length;u<o;u+=1)i=p(t[u]),i.extendedRange=[0,e.range[0]],r.push(i);e.leadingComments=r}return e}for(u=0,o=t.length;u<o;u+=1)r.push(N(p(t[u]),n));return a=0,x(e,{enter:function(e){var t;while(a<r.length){t=r[a];if(t.extendedRange[1]>e.range[0])break;t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length)return s.Break;if(r[a].extendedRange[0]>e.range[1])return s.Skip}}),a=0,x(e,{leave:function(e){var t;while(a<r.length){t=r[a];if(e.range[1]<t.extendedRange[0])break;e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),r.splice(a,1)):a+=1}if(a===r.length)return s.Break;if(r[a].extendedRange[0]>e.range[1])return s.Skip}}),e}var n,i,s,o,u,a,f,l,c;return i=Array.isArray,i||(i=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),h(d),h(m),u=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),a=Object.keys||function(e){var t=[],n;for(n in e)t.push(n);return t},n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},f={},l={},c={},s={Break:f,Skip:l,Remove:c},y.prototype.replace=function(t){this.parent[this.key]=t},y.prototype.remove=function(){return i(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},w.prototype.path=function(){function a(e,t){if(i(t))for(r=0,s=t.length;r<s;++r)e.push(t[r]);else e.push(t)}var t,n,r,s,o,u;if(!this.__current.path)return null;o=[];for(t=2,n=this.__leavelist.length;t<n;++t)u=this.__leavelist[t],a(o,u.path);return a(o,this.__current.path),o},w.prototype.type=function(){var e=this.current();return e.type||this.__current.wrap},w.prototype.parents=function(){var t,n,r;r=[];for(t=1,n=this.__leavelist.length;t<n;++t)r.push(this.__leavelist[t].node);return r},w.prototype.current=function(){return this.__current.node},w.prototype.__execute=function(t,n){var r,i;return i=undefined,r=this.__current,this.__current=n,this.__state=null,t&&(i=t.call(this,n.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,i},w.prototype.notify=function(t){this.__state=t},w.prototype.skip=function(){this.notify(l)},w.prototype["break"]=function(){this.notify(f)},w.prototype.remove=function(){this.notify(c)},w.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=t.fallback==="iteration",this.__keys=o,t.keys&&(this.__keys=g(u(this.__keys),t.keys))},w.prototype.traverse=function(t,n){var r,s,o,u,c,h,p,d,v,m,g,y;this.__initialize(t,n),y={},r=this.__worklist,s=this.__leavelist,r.push(new b(t,null,null,null)),s.push(new b(null,null,null,null));while(r.length){o=r.pop();if(o===y){o=s.pop(),h=this.__execute(n.leave,o);if(this.__state===f||h===f)return;continue}if(o.node){h=this.__execute(n.enter,o);if(this.__state===f||h===f)return;r.push(y),s.push(o);if(this.__state===l||h===l)continue;u=o.node,c=o.wrap||u.type,m=this.__keys[c];if(!m){if(!this.__fallback)throw new Error("Unknown node type "+c+".");m=a(u)}d=m.length;while((d-=1)>=0){p=m[d],g=u[p];if(!g)continue;if(i(g)){v=g.length;while((v-=1)>=0){if(!g[v])continue;if(S(c,m[d]))o=new b(g[v],[p,v],"Property",null);else{if(!E(g[v]))continue;o=new b(g[v],[p,v],null,null)}r.push(o)}}else E(g)&&r.push(new b(g,p,null,null))}}}},w.prototype.replace=function(t,n){function r(e){var t,n,r,i;if(e.ref.remove()){n=e.ref.key,i=e.ref.parent,t=s.length;while(t--){r=s[t];if(r.ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}}}var s,o,u,h,p,d,v,m,g,w,x,T,N;this.__initialize(t,n),x={},s=this.__worklist,o=this.__leavelist,T={root:t},d=new b(t,null,null,new y(T,"root")),s.push(d),o.push(d);while(s.length){d=s.pop();if(d===x){d=o.pop(),p=this.__execute(n.leave,d),p!==undefined&&p!==f&&p!==l&&p!==c&&d.ref.replace(p),(this.__state===c||p===c)&&r(d);if(this.__state===f||p===f)return T.root;continue}p=this.__execute(n.enter,d),p!==undefined&&p!==f&&p!==l&&p!==c&&(d.ref.replace(p),d.node=p);if(this.__state===c||p===c)r(d),d.node=null;if(this.__state===f||p===f)return T.root;u=d.node;if(!u)continue;s.push(x),o.push(d);if(this.__state===l||p===l)continue;h=d.wrap||u.type,g=this.__keys[h];if(!g){if(!this.__fallback)throw new Error("Unknown node type "+h+".");g=a(u)}v=g.length;while((v-=1)>=0){N=g[v],w=u[N];if(!w)continue;if(i(w)){m=w.length;while((m-=1)>=0){if(!w[m])continue;if(S(h,g[v]))d=new b(w[m],[N,m],"Property",new y(w,m));else{if(!E(w[m]))continue;d=new b(w[m],[N,m],null,new y(w,m))}s.push(d)}}else E(w)&&s.push(new b(w,N,null,new y(u,N)))}}return T.root},t.version=e("./package.json").version,t.Syntax=n,t.traverse=x,t.replace=T,t.attachComments=C,t.VisitorKeys=o,t.VisitorOption=s,t.Controller=w,t.cloneEnvironment=function(){return r({})},t})(n)},{"./package.json":84}],84:[function(e,t,n){t.exports={name:"estraverse",description:"ECMAScript JS AST traversal functions",homepage:"https://github.com/estools/estraverse",main:"estraverse.js",version:"4.1.0",engines:{node:">=0.10.0"},maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"},{name:"michaelficarra",email:"npm@michael.ficarra.me"}],repository:{type:"git",url:"git+ssh://git@github.com/estools/estraverse.git"},devDependencies:{chai:"^2.1.1","coffee-script":"^1.8.0",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},licenses:[{type:"BSD",url:"http://github.com/estools/estraverse/raw/master/LICENSE.BSD"}],scripts:{test:"npm run-script lint && npm run-script unit-test",lint:"jshint estraverse.js","unit-test":"mocha --compilers coffee:coffee-script/register"},gitHead:"347d52996336719b5910c7ffb5ff3ea8ecb87cf3",bugs:{url:"https://github.com/estools/estraverse/issues"},_id:"estraverse@4.1.0",_shasum:"40f23a76092041be6467d7f235c933b670766e05",_from:"estraverse@^4.1.0",_npmVersion:"2.8.3",_nodeVersion:"1.8.1",_npmUser:{name:"constellation",email:"utatane.tea@gmail.com"},dist:{shasum:"40f23a76092041be6467d7f235c933b670766e05",tarball:"http://registry.npmjs.org/estraverse/-/estraverse-4.1.0.tgz"},directories:{},_resolved:"https://registry.npmjs.org/estraverse/-/estraverse-4.1.0.tgz",readme:"ERROR: No README data found!"}},{}],85:[function(e,t,n){(function(e,r){typeof n=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&define.amd?define(r):e.Immutable=r()})(this,function(){"use strict";function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function f(e){return e.value=!1,e}function l(e){e&&(e.value=!0)}function c(){}function h(e,t){t=t||0;var n=Math.max(0,e.length-t),r=new Array(n);for(var i=0;i<n;i++)r[i]=e[i+t];return r}function p(e){return e.size===undefined&&(e.size=e.__iterate(v)),e.size}function d(e,t){return t>=0?+t:p(e)+ +t}function v(){return!0}function m(e,t,n){return(e===0||n!==undefined&&e<=-n)&&(t===undefined||n!==undefined&&t>=n)}function g(e,t){return b(e,t,0)}function y(e,t){return b(e,t,t)}function b(e,t,n){return e===undefined?n:e<0?Math.max(0,t+e):t===undefined?e:Math.min(t,e)}function w(e){return T(e)?e:$(e)}function E(e){return N(e)?e:J(e)}function S(e){return C(e)?e:K(e)}function x(e){return T(e)&&!k(e)?e:Q(e)}function T(e){return!!e&&!!e[A]}function N(e){return!!e&&!!e[O]}function C(e){return!!e&&!!e[M]}function k(e){return N(e)||C(e)}function L(e){return!!e&&!!e[_]}function I(e){this.next=e}function q(e,t,n,r){var i=e===0?t:e===1?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function R(){return{value:undefined,done:!0}}function U(e){return!!X(e)}function z(e){return e&&typeof e.next=="function"}function W(e){var t=X(e);return t&&t.call(e)}function X(e){var t=e&&(B&&e[B]||e[j]);if(typeof t=="function")return t}function V(e){return e&&typeof e.length=="number"}function $(e){return e===null||e===undefined?it():T(e)?e.toSeq():ut(e)}function J(e){return e===null||e===undefined?it().toKeyedSeq():T(e)?N(e)?e.toSeq():e.fromEntrySeq():st(e)}function K(e){return e===null||e===undefined?it():T(e)?N(e)?e.entrySeq():e.toIndexedSeq():ot(e)}function Q(e){return(e===null||e===undefined?it():T(e)?N(e)?e.entrySeq():e:ot(e)).toSetSeq()}function Y(e){this._array=e,this.size=e.length}function Z(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function et(e){this._iterable=e,this.size=e.length||e.size}function tt(e){this._iterator=e,this._iteratorCache=[]}function nt(e){return!!e&&!!e[G]}function it(){return rt||(rt=new Y([]))}function st(e){var t=Array.isArray(e)?(new Y(e)).fromEntrySeq():z(e)?(new tt(e)).fromEntrySeq():U(e)?(new et(e)).fromEntrySeq():typeof e=="object"?new Z(e):undefined;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ot(e){var t=at(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ut(e){var t=at(e)||typeof e=="object"&&new Z(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function at(e){return V(e)?new Y(e):z(e)?new tt(e):U(e)?new et(e):undefined}function ft(e,t,n,r){var i=e._cache;if(i){var s=i.length-1;for(var o=0;o<=s;o++){var u=i[n?s-o:o];if(t(u[1],r?u[0]:o,e)===!1)return o+1}return o}return e.__iterateUncached(t,n)}function lt(e,t,n,r){var i=e._cache;if(i){var s=i.length-1,o=0;return new I(function(){var e=i[n?s-o:o];return o++>s?R():q(t,r?e[0]:o-1,e[1])})}return e.__iteratorUncached(t,n)}function ct(){throw TypeError("Abstract")}function ht(){}function pt(){}function dt(){}function vt(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){e=e.valueOf(),t=t.valueOf();if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return typeof e.equals=="function"&&typeof t.equals=="function"&&e.equals(t)?!0:!1}function mt(e,t){return t?gt(t,e,"",{"":e}):yt(e)}function gt(e,t,n,r){return Array.isArray(t)?e.call(r,n,K(t).map(function(n,r){return gt(e,n,r,t)})):bt(t)?e.call(r,n,J(t).map(function(n,r){return gt(e,n,r,t)})):t}function yt(e){return Array.isArray(e)?K(e).map(yt).toList():bt(e)?J(e).map(yt).toMap():e}function bt(e){return e&&(e.constructor===Object||e.constructor===undefined)}function Et(e){return e>>>1&1073741824|e&3221225471}function St(e){if(e===!1||e===null||e===undefined)return 0
;if(typeof e.valueOf=="function"){e=e.valueOf();if(e===!1||e===null||e===undefined)return 0}if(e===!0)return 1;var t=typeof e;if(t==="number"){var n=e|0;n!==e&&(n^=e*4294967295);while(e>4294967295)e/=4294967295,n^=e;return Et(n)}return t==="string"?e.length>Dt?xt(e):Tt(e):typeof e.hashCode=="function"?e.hashCode():Nt(e)}function xt(e){var t=Bt[e];return t===undefined&&(t=Tt(e),Ht===Pt&&(Ht=0,Bt={}),Ht++,Bt[e]=t),t}function Tt(e){var t=0;for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Et(t)}function Nt(e){var t;if(At){t=Ot.get(e);if(t!==undefined)return t}t=e[_t];if(t!==undefined)return t;if(!kt){t=e.propertyIsEnumerable&&e.propertyIsEnumerable[_t];if(t!==undefined)return t;t=Lt(e);if(t!==undefined)return t}t=++Mt,Mt&1073741824&&(Mt=0);if(At)Ot.set(e,t);else{if(Ct!==undefined&&Ct(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(kt)Object.defineProperty(e,_t,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==undefined&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[_t]=t;else{if(e.nodeType===undefined)throw new Error("Unable to set a non-enumerable property on object.");e[_t]=t}}return t}function Lt(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function jt(e,t){if(!e)throw new Error(t)}function Ft(e){jt(e!==Infinity,"Cannot perform this action with an infinite size.")}function It(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function qt(e){this._iter=e,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function Ut(e){this._iter=e,this.size=e.size}function zt(e){var t=cn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=hn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===H){var r=e.__iterator(t,n);return new I(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===P?D:P,n)},t}function Wt(e,t,n){var r=cn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var s=e.get(r,o);return s===o?i:t.call(n,s,r,e)},r.__iterateUncached=function(r,i){var s=this;return e.__iterate(function(e,i,o){return r(t.call(n,e,i,o),i,s)!==!1},i)},r.__iteratorUncached=function(r,i){var s=e.__iterator(H,i);return new I(function(){var i=s.next();if(i.done)return i;var o=i.value,u=o[0];return q(r,u,t.call(n,o[1],u,e),i)})},r}function Xt(e,t){var n=cn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=zt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=hn,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Vt(e,t,n,r){var i=cn(e);return r&&(i.has=function(r){var i=e.get(r,o);return i!==o&&!!t.call(n,i,r,e)},i.get=function(r,i){var s=e.get(r,o);return s!==o&&t.call(n,s,r,e)?s:i}),i.__iterateUncached=function(i,s){var o=this,u=0;return e.__iterate(function(e,s,a){if(t.call(n,e,s,a))return u++,i(e,r?s:u-1,o)},s),u},i.__iteratorUncached=function(i,s){var o=e.__iterator(H,s),u=0;return new I(function(){for(;;){var s=o.next();if(s.done)return s;var a=s.value,f=a[0],l=a[1];if(t.call(n,l,f,e))return q(i,r?f:u++,l,s)}})},i}function $t(e,t,n){var r=vn().asMutable();return e.__iterate(function(i,s){r.update(t.call(n,i,s,e),0,function(e){return e+1})}),r.asImmutable()}function Jt(e,t,n){var r=N(e),i=(L(e)?cr():vn()).asMutable();e.__iterate(function(s,o){i.update(t.call(n,s,o,e),function(e){return e=e||[],e.push(r?[o,s]:s),e})});var s=ln(e);return i.map(function(t){return un(e,s(t))})}function Kt(e,t,n,r){var i=e.size;if(m(t,n,i))return e;var s=g(t,i),o=y(n,i);if(s!==s||o!==o)return Kt(e.toSeq().cacheResult(),t,n,r);var u=o-s,a;u===u&&(a=u<0?0:u);var f=cn(e);return f.size=a,!r&&nt(e)&&a>=0&&(f.get=function(t,n){return t=d(this,t),t>=0&&t<a?e.get(t+s,n):n}),f.__iterateUncached=function(t,n){var i=this;if(a===0)return 0;if(n)return this.cacheResult().__iterate(t,n);var o=0,u=!0,f=0;return e.__iterate(function(e,n){if(!u||!(u=o++<s))return f++,t(e,r?n:f-1,i)!==!1&&f!==a}),f},f.__iteratorUncached=function(t,n){if(a!==0&&n)return this.cacheResult().__iterator(t,n);var i=a!==0&&e.__iterator(t,n),o=0,u=0;return new I(function(){while(o++<s)i.next();if(++u>a)return R();var e=i.next();return r||t===P?e:t===D?q(t,u-1,undefined,e):q(t,u-1,e.value[1],e)})},f}function Qt(e,t,n){var r=cn(e);return r.__iterateUncached=function(r,i){var s=this;if(i)return this.cacheResult().__iterate(r,i);var o=0;return e.__iterate(function(e,i,u){return t.call(n,e,i,u)&&++o&&r(e,i,s)}),o},r.__iteratorUncached=function(r,i){var s=this;if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(H,i),u=!0;return new I(function(){if(!u)return R();var e=o.next();if(e.done)return e;var i=e.value,a=i[0],f=i[1];return t.call(n,f,a,s)?r===H?e:q(r,a,f,e):(u=!1,R())})},r}function Gt(e,t,n,r){var i=cn(e);return i.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var u=!0,a=0;return e.__iterate(function(e,s,f){if(!u||!(u=t.call(n,e,s,f)))return a++,i(e,r?s:a-1,o)}),a},i.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var u=e.__iterator(H,s),a=!0,f=0;return new I(function(){var e,s,l;do{e=u.next();if(e.done)return r||i===P?e:i===D?q(i,f++,undefined,e):q(i,f++,e.value[1],e);var c=e.value;s=c[0],l=c[1],a&&(a=t.call(n,l,s,o))}while(a);return i===H?e:q(i,s,l,e)})},i}function Yt(e,t){var n=N(e),r=[e].concat(t).map(function(e){return T(e)?n&&(e=E(e)):e=n?st(e):ot(Array.isArray(e)?e:[e]),e}).filter(function(e){return e.size!==0});if(r.length===0)return e;if(r.length===1){var i=r[0];if(i===e||n&&N(i)||C(e)&&C(i))return i}var s=new Y(r);return n?s=s.toKeyedSeq():C(e)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=r.reduce(function(e,t){if(e!==undefined){var n=t.size;if(n!==undefined)return e+n}},0),s}function Zt(e,t,n){var r=cn(e);return r.__iterateUncached=function(r,i){function u(e,a){var f=this;e.__iterate(function(e,i){return(!t||a<t)&&T(e)?u(e,a+1):r(e,n?i:s++,f)===!1&&(o=!0),!o},i)}var s=0,o=!1;return u(e,0),s},r.__iteratorUncached=function(r,i){var s=e.__iterator(r,i),o=[],u=0;return new I(function(){while(s){var e=s.next();if(e.done!==!1){s=o.pop();continue}var a=e.value;r===H&&(a=a[1]);if(!(!t||o.length<t)||!T(a))return n?e:q(r,u++,a,e);o.push(s),s=a.__iterator(r,i)}return R()})},r}function en(e,t,n){var r=ln(e);return e.toSeq().map(function(i,s){return r(t.call(n,i,s,e))}).flatten(!0)}function tn(e,t){var n=cn(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(n,r){var i=this,s=0;return e.__iterate(function(e,r){return(!s||n(t,s++,i)!==!1)&&n(e,s++,i)!==!1},r),s},n.__iteratorUncached=function(n,r){var i=e.__iterator(P,r),s=0,o;return new I(function(){if(!o||s%2){o=i.next();if(o.done)return o}return s%2?q(n,s++,t):q(n,s++,o.value,o)})},n}function nn(e,t,n){t||(t=pn);var r=N(e),i=0,s=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return s.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){s[t].length=2}:function(e,t){s[t]=e[1]}),r?J(s):C(e)?K(s):Q(s)}function rn(e,t,n){t||(t=pn);if(n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return sn(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return sn(t,e,n)?n:e})}function sn(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n===undefined||n===null||n!==n)||r>0}function on(e,t,n){var r=cn(e);return r.size=(new Y(n)).map(function(e){return e.size}).min(),r.__iterate=function(e,t){var n=this.__iterator(P,t),r,i=0;while(!(r=n.next()).done)if(e(r.value,i++,this)===!1)break;return i},r.__iteratorUncached=function(e,r){var i=n.map(function(e){return e=w(e),W(r?e.reverse():e)}),s=0,o=!1;return new I(function(){var n;return o||(n=i.map(function(e){return e.next()}),o=n.some(function(e){return e.done})),o?R():q(e,s++,t.apply(null,n.map(function(e){return e.value})))})},r}function un(e,t){return nt(e)?t:e.constructor(t)}function an(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function fn(e){return Ft(e.size),p(e)}function ln(e){return N(e)?E:C(e)?S:x}function cn(e){return Object.create((N(e)?J:C(e)?K:Q).prototype)}function hn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):$.prototype.cacheResult.call(this)}function pn(e,t){return e>t?1:e<t?-1:0}function dn(e){var t=W(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=W(w(e))}return t}function vn(e){return e===null||e===undefined?An():mn(e)?e:An().withMutations(function(t){var n=E(e);Ft(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function mn(e){return!!e&&!!e[gn]}function bn(e,t){this.ownerID=e,this.entries=t}function wn(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function En(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Sn(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function xn(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Tn(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Cn(e._root)}function Nn(e,t){return q(e,t[0],t[1])}function Cn(e,t){return{node:e,index:0,__prev:t}}function kn(e,t,n,r){var i=Object.create(yn);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function An(){return Ln||(Ln=kn(0))}function On(e,t,n){var r,i;if(!e._root){if(n===o)return e;i=1,r=new bn(e.__ownerID,[[t,n]])}else{var s=f(u),l=f(a);r=Mn(e._root,e.__ownerID,0,undefined,t,n,s,l);if(!l.value)return e;i=e.size+(s.value?n===o?-1:1:0)}return e.__ownerID?(e.size=i,e._root=r,e.__hash=undefined,e.__altered=!0,e):r?kn(i,r):An()}function Mn(e,t,n,r,i,s,u,a){return e?e.update(t,n,r,i,s,u,a):s===o?e:(l(a),l(u),new xn(t,r,[i,s]))}function _n(e){return e.constructor===xn||e.constructor===Sn}function Dn(e,t,n,i,o){if(e.keyHash===i)return new Sn(t,i,[e.entry,o]);var u=(n===0?e.keyHash:e.keyHash>>>n)&s,a=(n===0?i:i>>>n)&s,f,l=u===a?[Dn(e,t,n+r,i,o)]:(f=new xn(t,i,o),u<a?[e,f]:[f,e]);return new wn(t,1<<u|1<<a,l)}function Pn(e,t,n,r){e||(e=new c);var i=new xn(e,St(n),[n,r]);for(var s=0;s<t.length;s++){var o=t[s];i=i.update(e,0,undefined,o[0],o[1])}return i}function Hn(e,t,n,r){var i=0,s=0,o=new Array(n);for(var u=0,a=1,f=t.length;u<f;u++,a<<=1){var l=t[u];l!==undefined&&u!==r&&(i|=a,o[s++]=l)}return new wn(e,i,o)}function Bn(e,t,n,r,s){var o=0,u=new Array(i);for(var a=0;n!==0;a++,n>>>=1)u[a]=n&1?t[o++]:undefined;return u[r]=s,new En(e,o+1,u)}function jn(e,t,n){var r=[];for(var i=0;i<n.length;i++){var s=n[i],o=E(s);T(s)||(o=o.map(function(e){return mt(e)})),r.push(o)}return In(e,t,r)}function Fn(e){return function(t,n,r){return t&&t.mergeDeepWith&&T(n)?t.mergeDeepWith(e,n):e?e(t,n,r):n}}function In(e,t,n){return n=n.filter(function(e){return e.size!==0}),n.length===0?e:e.size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(e){var r=t?function(n,r){e.update(r,o,function(e){return e===o?n:t(e,n,r)})}:function(t,n){e.set(n,t)};for(var i=0;i<n.length;i++)n[i].forEach(r)})}function qn(e,t,n,r){var i=e===o,s=t.next();if(s.done){var u=i?n:e,a=r(u);return a===u?e:a}jt(i||e&&e.set,"invalid keyPath");var f=s.value,l=i?o:e.get(f,o),c=qn(l,t,n,r);return c===l?e:c===o?e.remove(f):(i?An():e).set(f,c)}function Rn(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Un(e,t,n,r){var i=r?e:h(e);return i[t]=n,i}function zn(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;var s=new Array(i),o=0;for(var u=0;u<i;u++)u===t?(s[u]=n,o=-1):s[u]=e[u+o];return s}function Wn(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;var i=new Array(r),s=0;for(var o=0;o<r;o++)o===t&&(s=1),i[o]=e[o+s];return i}function Jn(e){var t=rr();if(e===null||e===undefined)return t;if(Kn(e))return e;var n=S(e),s=n.size;return s===0?t:(Ft(s),s>0&&s<i?tr(0,s,r,null,new Yn(n.toArray())):t.withMutations(function(e){e.setSize(s),n.forEach(function(t,n){return e.set(n,t)})}))}function Kn(e){return!!e&&!!e[Qn]}function Yn(e,t){this.array=e,this.ownerID=t}function er(e,t){function a(e,t,n){return t===0?f(e,n):l(e,t,n)}function f(e,r){var a=r===o?u&&u.array:e&&e.array,f=r>n?0:n-r,l=s-r;return l>i&&(l=i),function(){if(f===l)return Zn;var e=t?--l:f++;return a&&a[e]}}function l(e,o,u){var f,l=e&&e.array,c=u>n?0:n-u>>o,h=(s-u>>o)+1;return h>i&&(h=i),function(){do{if(f){var e=f();if(e!==Zn)return e;f=null}if(c===h)return Zn;var n=t?--h:c++;f=a(l&&l[n],o-r,u+(n<<o))}while(!0)}}var n=e._origin,s=e._capacity,o=lr(s),u=e._tail;return a(e._root,e._level,0)}function tr(e,t,n,r,i,s,o){var u=Object.create(Gn);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}function rr(){return nr||(nr=tr(0,0,r))}function ir(e,t,n){t=d(e,t);if(t>=e.size||t<0)return e.withMutations(function(e){t<0?ar(e,t).set(0,n):ar(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,s=f(a);return t>=lr(e._capacity)?r=sr(r,e.__ownerID,0,t,n,s):i=sr(i,e.__ownerID,e._level,t,n,s),s.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=undefined,e.__altered=!0,e):tr(e._origin,e._capacity,e._level,i,r):e}function sr(e,t,n,i,o,u){var a=i>>>n&s,f=e&&a<e.array.length;if(!f&&o===undefined)return e;var c;if(n>0){var h=e&&e.array[a],p=sr(h,t,n-r,i,o,u);return p===h?e:(c=or(e,t),c.array[a]=p,c)}return f&&e.array[a]===o?e:(l(u),c=or(e,t),o===undefined&&a===c.array.length-1?c.array.pop():c.array[a]=o,c)}function or(e,t){return t&&e&&t===e.ownerID?e:new Yn(e?e.array.slice():[],t)}function ur(e,t){if(t>=lr(e._capacity))return e._tail;if(t<1<<e._level+r){var n=e._root,i=e._level;while(n&&i>0)n=n.array[t>>>i&s],i-=r;return n}}function ar(e,t,n){var i=e.__ownerID||new c,o=e._origin,u=e._capacity,a=o+t,f=n===undefined?u:n<0?u+n:o+n;if(a===o&&f===u)return e;if(a>=f)return e.clear();var l=e._level,h=e._root,p=0;while(a+p<0)h=new Yn(h&&h.array.length?[undefined,h]:[],i),l+=r,p+=1<<l;p&&(a+=p,o+=p,f+=p,u+=p);var d=lr(u),v=lr(f);while(v>=1<<l+r)h=new Yn(h&&h.array.length?[h]:[],i),l+=r;var m=e._tail,g=v<d?ur(e,f-1):v>d?new Yn([],i):m;if(m&&v>d&&a<u&&m.array.length){h=or(h,i);var y=h;for(var b=l;b>r;b-=r){var w=d>>>b&s;y=y.array[w]=or(y.array[w],i)}y.array[d>>>r&s]=m}f<u&&(g=g&&g.removeAfter(i,0,f));if(a>=v)a-=v,f-=v,l=r,h=null,g=g&&g.removeBefore(i,0,a);else if(a>o||v<d){p=0;while(h){var E=a>>>l&s;if(E!==v>>>l&s)break;E&&(p+=(1<<l)*E),l-=r,h=h.array[E]}h&&a>o&&(h=h.removeBefore(i,l,a-p)),h&&v<d&&(h=h.removeAfter(i,l,v-p)),p&&(a-=p,f-=p)}return e.__ownerID?(e.size=f-a,e._origin=a,e._capacity=f,e._level=l,e._root=h,e._tail=g,e.__hash=undefined,e.__altered=!0,e):tr(a,f,l,h,g)}function fr(e,t,n){var r=[],i=0;for(var s=0;s<n.length;s++){var o=n[s],u=S(o);u.size>i&&(i=u.size),T(o)||(u=u.map(function(e){return mt(e)})),r.push(u)}return i>e.size&&(e=e.setSize(i)),In(e,t,r)}function lr(e){return e<i?0:e-1>>>r<<r}function cr(e){return e===null||e===undefined?vr():hr(e)?e:vr().withMutations(function(t){var n=E(e);Ft(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function hr(e){return mn(e)&&L(e)}function pr(e,t,n,r){var i=Object.create(cr.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function vr(){return dr||(dr=pr(An(),rr()))}function mr(e,t,n){var r=e._map,s=e._list,u=r.get(t),a=u!==undefined,f,l;if(n===o){if(!a)return e;s.size>=i&&s.size>=r.size*2?(l=s.filter(function(e,t){return e!==undefined&&u!==t}),f=l.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(f.__ownerID=l.__ownerID=e.__ownerID)):(f=r.remove(t),l=u===s.size-1?s.pop():s.set(u,undefined))}else if(a){if(n===s.get(u)[1])return e;f=r,l=s.set(u,[t,n])}else f=r.set(t,s.size),l=s.set(s.size,[t,n]);return e.__ownerID?(e.size=f.size,e._map=f,e._list=l,e.__hash=undefined,e):pr(f,l)}function gr(e){return e===null||e===undefined?xr():yr(e)?e:xr().unshiftAll(e)}function yr(e){return!!e&&!!e[br]}function Er(e,t,n,r){var i=Object.create(wr);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function xr(){return Sr||(Sr=Er(0))}function Tr(e){return e===null||e===undefined?Mr():Nr(e)?e:Mr().withMutations(function(t){var n=x(e);Ft(n.size),n.forEach(function(e){return t.add(e)})})}function Nr(e){return!!e&&!!e[Cr]}function Lr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Ar(e,t){var n=Object.create(kr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Mr(){return Or||(Or=Ar(An()))}function _r(e){return e===null||e===undefined?jr():Dr(e)?e:jr().withMutations(function(t){var n=x(e);Ft(n.size),n.forEach(function(e){return t.add(e)})})}function Dr(e){return Nr(e)&&L(e)}function Hr(e,t){var n=Object.create(Pr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function jr(){return Br||(Br=Hr(vr()))}function Fr(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(e);Ur(i,u),i.size=u.length,i._name=t,i._keys=u,i._defaultValues=e}this._map=vn(o)},i=r.prototype=Object.create(Ir);return i.constructor=r,r}function qr(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Rr(e){return e._name||e.constructor.name||"Record"}function Ur(e,t){try{t.forEach(zr.bind(undefined,e))}catch(n){}}function zr(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){jt(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Wr(e,t){if(e===t)return!0;if(!T(t)||e.size!==undefined&&t.size!==undefined&&e.size!==t.size||e.__hash!==undefined&&t.__hash!==undefined&&e.__hash!==t.__hash||N(e)!==N(t)||C(e)!==C(t)||L(e)!==L(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!k(e);if(L(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&vt(i[1],e)&&(n||vt(i[0],t))})&&r.next().done}var i=!1;if(e.size===undefined)if(t.size===undefined)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var u=!0,a=t.__iterate(function(t,r){if(n?!e.has(t):i?!vt(t,e.get(r,o)):!vt(e.get(r,o),t))return u=!1,!1});return u&&e.size===a}function Xr(e,t,n){if(!(this instanceof Xr))return new Xr(e,t,n);jt(n!==0,"Cannot step a Range by 0"),e=e||0,t===undefined&&(t=Infinity),n=n===undefined?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1);if(this.size===0){if(Vr)return Vr;Vr=this}}function $r(e,t){if(!(this instanceof $r))return new $r(e,t);this._value=e,this.size=t===undefined?Infinity:Math.max(0,t);if(this.size===0){if(Jr)return Jr;Jr=this}}function Kr(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Yr(e,t){return t}function Zr(e,t){return[t,e]}function ei(e){return function(){return!e.apply(this,arguments)}}function ti(e){return function(){return-e.apply(this,arguments)}}function ni(e){return typeof e=="string"?JSON.stringify(e):e}function ri(){return h(arguments)}function ii(e,t){return e<t?1:e>t?-1:0}function si(e){if(e.size===Infinity)return 0;var t=L(e),n=N(e),r=t?1:0,i=e.__iterate(n?t?function(e,t){r=31*r+ui(St(e),St(t))|0}:function(e,t){r=r+ui(St(e),St(t))|0}:t?function(e){r=31*r+St(e)|0}:function(e){r=r+St(e)|0});return oi(i,r)}function oi(e,t){return t=wt(t,3432918353),t=wt(t<<15|t>>>-15,461845907),t=wt(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=wt(t^t>>>16,2246822507),t=wt(t^t>>>13,3266489909),t=Et(t^t>>>16),t}function ui(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var e=Array.prototype.slice,n="delete",r=5,i=1<<r,s=i-1,o={},u={value:!1},a={value:!1};t(E,w),t(S,w),t(x,w),w.isIterable=T,w.isKeyed=N,w.isIndexed=C,w.isAssociative=k,w.isOrdered=L,w.Keyed=E,w.Indexed=S,w.Set=x;var A="@@__IMMUTABLE_ITERABLE__@@",O="@@__IMMUTABLE_KEYED__@@",M="@@__IMMUTABLE_INDEXED__@@",_="@@__IMMUTABLE_ORDERED__@@",D=0,P=1,H=2,B=typeof Symbol=="function"&&Symbol.iterator,j="@@iterator",F=B||j;I.prototype.toString=function(){return"[Iterator]"},I.KEYS=D,I.VALUES=P,I.ENTRIES=H,I.prototype.inspect=I.prototype.toSource=function(){return this.toString()},I.prototype[F]=function(){return this},t($,w),$.of=function(){return $(arguments)},$.prototype.toSeq=function(){return this},$.prototype.toString=function(){return this.__toString("Seq {","}")},$.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},$.prototype.__iterate=function(e,t){return ft(this,e,t,!0)},$.prototype.__iterator=function(e,t){return lt(this,e,t,!0)},t(J,$),J.prototype.toKeyedSeq=function(){return this},t(K,$),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return ft(this,e,t,!1)},K.prototype.__iterator=function(e,t){return lt(this,e,t,!1)},t(Q,$),Q.of=function(){return Q(arguments)},Q.prototype.toSetSeq=function(){return this},$.isSeq=nt,$.Keyed=J,$.Set=Q,$.Indexed=K;var G="@@__IMMUTABLE_SEQ__@@";$.prototype[G]=!0,t(Y,K),Y.prototype.get=function(e,t){return this.has(e)?this._array[d(this,e)]:t},Y.prototype.__iterate=function(e,t){var n=this._array,r=n.length-1;for(var i=0;i<=r;i++)if(e(n[t?r-i:i],i,this)===!1)return i+1;return i},Y.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new I(function(){return i>r?R():q(e,i,n[t?r-i++:i++])})},t(Z,J),Z.prototype.get=function(e,t){return t!==undefined&&!this.has(e)?t:this._object[e]},Z.prototype.has=function(e){return this._object.hasOwnProperty(e)},Z.prototype.__iterate=function(e,t){var n=this._object,r=this._keys,i=r.length-1;for(var s=0;s<=i;s++){var o=r[t?i-s:s];if(e(n[o],o,this)===!1)return s+1}return s},Z.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,s=0;return new I(function(){var o=r[t?i-s:s];return s++>i?R():q(e,o,n[o])})},Z.prototype[_]=!0,t(et,K),et.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=W(n),i=0;if(z(r)){var s;while(!(s=r.next()).done)if(e(s.value,i++,this)===!1)break}return i},et.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=W(n);if(!z(r))return new I(R);var i=0;return new I(function(){var t=r.next();return t.done?t:q(e,i++,t.value)})},t(tt,K),tt.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterator,r=this._iteratorCache,i=0;while(i<r.length)if(e(r[i],i++,this)===!1)return i;var s;while(!(s=n.next()).done){var o=s.value;r[i]=o;if(e(o,i++,this)===!1)break}return i},tt.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new I(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return q(e,i,r[i++])})};var rt;t(ct,w),t(ht,ct),t(pt,ct),t(dt,ct),ct.Keyed=ht,ct.Indexed=pt,ct.Set=dt;var wt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,i=n&65535;return r*i+((t>>>16)*i+r*(n>>>16)<<16>>>0)|0},Ct=Object.isExtensible,kt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),At=typeof WeakMap=="function",Ot;At&&(Ot=new WeakMap);var Mt=0,_t="__immutablehash__";typeof Symbol=="function"&&(_t=Symbol(_t));var Dt=16,Pt=255,Ht=0,Bt={};t(It,J),It.prototype.get=function(e,t){return this._iter.get(e,t)},It.prototype.has=function(e){return this._iter.has(e)},It.prototype.valueSeq=function(){return this._iter.valueSeq()},It.prototype.reverse=function(){var e=this,t=Xt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},It.prototype.map=function(e,t){var n=this,r=Wt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},It.prototype.__iterate=function(e,t){var n=this,r;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?fn(this):0,function(i){return e(i,t?--r:r++,n)}),t)},It.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(P,t),r=t?fn(this):0;return new I(function(){var i=n.next();return i.done?i:q(e,t?--r:r++,i.value,i)})},It.prototype[_]=!0,t(qt,K),qt.prototype.includes=function(e){return this._iter.includes(e)},qt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},qt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t),r=0;return new I(function(){var t=n.next();return t.done?t:q(e,r++,t.value,t)})},t(Rt,Q),Rt.prototype.has=function(e){return this._iter.includes(e)},Rt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t);return new I(function(){var t=n.next();return t.done?t:q(e,t.value,t.value,t)})},t(Ut,J),Ut.prototype.entrySeq=function(){return this._iter.toSeq()},Ut.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){an(t);var r=T(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Ut.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t);return new I(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){an(r);var i=T(r);return q(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},qt.prototype.cacheResult=It.prototype.cacheResult=Rt.prototype.cacheResult=Ut.prototype.cacheResult=hn,t(vn,ht),vn.prototype.toString=function(){return this.__toString("Map {","}")},vn.prototype.get=function(e,t){return this._root?this._root.get(0,undefined,e,t):t},vn.prototype.set=function(e,t){return On(this,e,t)},vn.prototype.setIn=function(e,t){return this.updateIn(e,o,function(){return t})},vn.prototype.remove=function(e){return On(this,e,o)},vn.prototype.deleteIn=function(e){return this.updateIn(e,function(){return o})},vn.prototype.update=function(e,t,n){return arguments.length===1?e(this):this.updateIn([e],t,n)},vn.prototype.updateIn=function(e,t,n){n||(n=t,t=undefined);var r=qn(this,dn(e),t,n);return r===o?undefined:r},vn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=undefined,this.__altered=!0,this):An()},vn.prototype.merge=function(){return jn(this,undefined,arguments)},vn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return jn(this,t,n)},vn.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,An(),function(e){return typeof e.merge=="function"?e.merge.apply(e,n):n[n.length-1]})},vn.prototype.mergeDeep=function(){return jn(this,Fn(undefined),arguments)},vn.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return jn(this,Fn(t),n)},vn.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,An(),function(e){return typeof e.mergeDeep=="function"?e.mergeDeep.apply(e,n):n[n.length-1]})},vn.prototype.sort=function(e){return cr(nn(this,e))},vn.prototype.sortBy=function(e,t){return cr(nn(this,t,e))},vn.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},vn.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new c)},vn.prototype.asImmutable=function(){return this.__ensureOwner()},vn.prototype.wasAltered=function(){return this.__altered},vn.prototype.__iterator=function(e,t){return new Tn(this,e,t)},vn.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},vn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kn(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},vn.isMap=mn;var gn="@@__IMMUTABLE_MAP__@@",yn=vn.prototype;yn[gn]=!0,yn[n]=yn.remove,yn.removeIn=yn.deleteIn,bn.prototype.get=function(e,t,n,r){var i=this.entries;for(var s=0,o=i.length;s<o;s++)if(vt(n,i[s][0]))return i[s][1];return r},bn.prototype.update=function(e,t,n,r,i,s,u){var a=i===o,f=this.entries,c=0;for(var p=f.length;c<p;c++)if(vt(r,f[c][0]))break;var d=c<p;if(d?f[c][1]===i:a)return this;l(u),(a||!d)&&l(s);if(a&&f.length===1)return;if(!d&&!a&&f.length>=Xn)return Pn(e,f,r,i);var v=e&&e===this.ownerID,m=v?f:h(f);return d?a?c===p-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),v?(this.entries=m,this):new bn(e,m)},wn.prototype.get=function(e,t,n,i){t===undefined&&(t=St(n));var o=1<<((e===0?t:t>>>e)&s),u=this.bitmap;return(u&o)===0?i:this.nodes[Rn(u&o-1)].get(e+r,t,n,i)},wn.prototype.update=function(e,t,n,i,u,a,f){n===undefined&&(n=St(i));var l=(t===0?n:n>>>t)&s,c=1<<l,h=this.bitmap,p=(h&c)!==0;if(!p&&u===o)return this;var d=Rn(h&c-1),v=this.nodes,m=p?v[d]:undefined,g=Mn(m,e,t+r,n,i,u,a,f);if(g===m)return this;if(!p&&g&&v.length>=Vn)return Bn(e,v,h,l,g);if(p&&!g&&v.length===2&&_n(v[d^1]))return v[d^1];if(p&&g&&v.length===1&&_n(g))return g;var y=e&&e===this.ownerID,b=p?g?h:h^c:h|c,w=p?g?Un(v,d,g,y):Wn(v,d,y):zn(v,d,g,y);return y?(this.bitmap=b,this.nodes=w,this):new wn(e,b,w)},En.prototype.get=function(e,t,n,i){t===undefined&&(t=St(n));var o=(e===0?t:t>>>e)&s,u=this.nodes[o];return u?u.get(e+r,t,n,i):i},En.prototype.update=function(e,t,n,i,u,a,f){n===undefined&&(n=St(i));var l=(t===0?n:n>>>t)&s,c=u===o,h=this.nodes,p=h[l];if(c&&!p)return this;var d=Mn(p,e,t+r,n,i,u,a,f);if(d===p)return this;var v=this.count;if(!p)v++;else if(!d){v--;if(v<$n)return Hn(e,h,v,l)}var m=e&&e===this.ownerID,g=Un(h,l,d,m);return m?(this.count=v,this.nodes=g,this):new En(e,v,g)},Sn.prototype.get=function(e,t,n,r){var i=this.entries;for(var s=0,o=i.length;s<o;s++)if(vt(n,i[s][0]))return i[s][1];return r},Sn.prototype.update=function(e,t,n,r,i,s,u){n===undefined&&(n=St(r));var a=i===o;if(n!==this.keyHash)return a?this:(l(u),l(s),Dn(this,e,t,n,[r,i]));var f=this.entries,c=0;for(var p=f.length;c<p;c++)if(vt(r,f[c][0]))break;var d=c<p;if(d?f[c][1]===i:a)return this;l(u),(a||!d)&&l(s);if(a&&p===2)return new xn(e,this.keyHash,f[c^1]);var v=e&&e===this.ownerID,m=v?f:h(f);return d?a?c===p-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),v?(this.entries=m,this):new Sn(e,this.keyHash,m)},xn.prototype.get=function(e,t,n,r){return vt(n,this.entry[0])?this.entry[1]:r},xn.prototype.update=function(e,t,n,r,i,s,u){var a=i===o,f=vt(r,this.entry[0]);if(f?i===this.entry[1]:a)return this;l(u);if(a){l(s);return}return f?e&&e===this.ownerID?(this.entry[1]=i,this):new xn(e,this.keyHash,[r,i]):(l(s),Dn(this,e,t,St(r),[r,i]))},bn.prototype.iterate=Sn.prototype.iterate=function(e,t){var n=this.entries;for(var r=0,i=n.length-1;r<=i;r++)if(e(n[t?i-r:r])===!1)return!1},wn.prototype.iterate=En.prototype.iterate=function(e,t){var n=this.nodes;for(var r=0,i=n.length-1;r<=i;r++){var s=n[t?i-r:r];if(s&&s.iterate(e,t)===!1)return!1}},xn.prototype.iterate=function(e,t){return e(this.entry)},t(Tn,I),Tn.prototype.next=function(){var e=this._type,t=this._stack;while(t){var n=t.node,r=t.index++,i;if(n.entry){if(r===0)return Nn(e,n.entry)}else if(n.entries){i=n.entries.length-1;if(r<=i)return Nn(e,n.entries[this._reverse?i-r:r])}else{i=n.nodes.length-1;if(r<=i){var s=n.nodes[this._reverse?i-r:r];if(s){if(s.entry)return Nn(e,s.entry);t=this._stack=Cn(s,t)}continue}}t=this._stack=this._stack.__prev}return R()};var Ln,Xn=i/4,Vn=i/2,$n=i/4;t(Jn,pt),Jn.of=function(){return this(arguments)},Jn.prototype.toString=function(){return this.__toString("List [","]")},Jn.prototype.get=function(e,t){e=d(this,e);if(e<0||e>=this.size)return t;e+=this._origin;var n=ur(this,e);return n&&n.array[e&s]},Jn.prototype.set=function(e,t){return ir(this,e,t)},Jn.prototype.remove=function(e){return this.has(e)?e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Jn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=undefined,this.__altered=!0,this):rr()},Jn.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){ar(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},Jn.prototype.pop=function(){return ar(this,0,-1)},Jn.prototype.unshift=function(
){var e=arguments;return this.withMutations(function(t){ar(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Jn.prototype.shift=function(){return ar(this,1)},Jn.prototype.merge=function(){return fr(this,undefined,arguments)},Jn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return fr(this,t,n)},Jn.prototype.mergeDeep=function(){return fr(this,Fn(undefined),arguments)},Jn.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return fr(this,Fn(t),n)},Jn.prototype.setSize=function(e){return ar(this,0,e)},Jn.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:ar(this,g(e,n),y(t,n))},Jn.prototype.__iterator=function(e,t){var n=0,r=er(this,t);return new I(function(){var t=r();return t===Zn?R():q(e,n++,t)})},Jn.prototype.__iterate=function(e,t){var n=0,r=er(this,t),i;while((i=r())!==Zn)if(e(i,n++,this)===!1)break;return n},Jn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?tr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Jn.isList=Kn;var Qn="@@__IMMUTABLE_LIST__@@",Gn=Jn.prototype;Gn[Qn]=!0,Gn[n]=Gn.remove,Gn.setIn=yn.setIn,Gn.deleteIn=Gn.removeIn=yn.removeIn,Gn.update=yn.update,Gn.updateIn=yn.updateIn,Gn.mergeIn=yn.mergeIn,Gn.mergeDeepIn=yn.mergeDeepIn,Gn.withMutations=yn.withMutations,Gn.asMutable=yn.asMutable,Gn.asImmutable=yn.asImmutable,Gn.wasAltered=yn.wasAltered,Yn.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var i=n>>>t&s;if(i>=this.array.length)return new Yn([],e);var o=i===0,u;if(t>0){var a=this.array[i];u=a&&a.removeBefore(e,t-r,n);if(u===a&&o)return this}if(o&&!u)return this;var f=or(this,e);if(!o)for(var l=0;l<i;l++)f.array[l]=undefined;return u&&(f.array[i]=u),f},Yn.prototype.removeAfter=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var i=n-1>>>t&s;if(i>=this.array.length)return this;var o=i===this.array.length-1,u;if(t>0){var a=this.array[i];u=a&&a.removeAfter(e,t-r,n);if(u===a&&o)return this}if(o&&!u)return this;var f=or(this,e);return o||f.array.pop(),u&&(f.array[i]=u),f};var Zn={},nr;t(cr,vn),cr.of=function(){return this(arguments)},cr.prototype.toString=function(){return this.__toString("OrderedMap {","}")},cr.prototype.get=function(e,t){var n=this._map.get(e);return n!==undefined?this._list.get(n)[1]:t},cr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):vr()},cr.prototype.set=function(e,t){return mr(this,e,t)},cr.prototype.remove=function(e){return mr(this,e,o)},cr.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},cr.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},cr.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},cr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?pr(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},cr.isOrderedMap=hr,cr.prototype[_]=!0,cr.prototype[n]=cr.prototype.remove;var dr;t(gr,pt),gr.of=function(){return this(arguments)},gr.prototype.toString=function(){return this.__toString("Stack [","]")},gr.prototype.get=function(e,t){var n=this._head;e=d(this,e);while(n&&e--)n=n.next;return n?n.value:t},gr.prototype.peek=function(){return this._head&&this._head.value},gr.prototype.push=function(){if(arguments.length===0)return this;var e=this.size+arguments.length,t=this._head;for(var n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=undefined,this.__altered=!0,this):Er(e,t)},gr.prototype.pushAll=function(e){e=S(e);if(e.size===0)return this;Ft(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=undefined,this.__altered=!0,this):Er(t,n)},gr.prototype.pop=function(){return this.slice(1)},gr.prototype.unshift=function(){return this.push.apply(this,arguments)},gr.prototype.unshiftAll=function(e){return this.pushAll(e)},gr.prototype.shift=function(){return this.pop.apply(this,arguments)},gr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=undefined,this.__hash=undefined,this.__altered=!0,this):xr()},gr.prototype.slice=function(e,t){if(m(e,t,this.size))return this;var n=g(e,this.size),r=y(t,this.size);if(r!==this.size)return pt.prototype.slice.call(this,e,t);var i=this.size-n,s=this._head;while(n--)s=s.next;return this.__ownerID?(this.size=i,this._head=s,this.__hash=undefined,this.__altered=!0,this):Er(i,s)},gr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Er(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},gr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);var n=0,r=this._head;while(r){if(e(r.value,n++,this)===!1)break;r=r.next}return n},gr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new I(function(){if(r){var t=r.value;return r=r.next,q(e,n++,t)}return R()})},gr.isStack=yr;var br="@@__IMMUTABLE_STACK__@@",wr=gr.prototype;wr[br]=!0,wr.withMutations=yn.withMutations,wr.asMutable=yn.asMutable,wr.asImmutable=yn.asImmutable,wr.wasAltered=yn.wasAltered;var Sr;t(Tr,dt),Tr.of=function(){return this(arguments)},Tr.fromKeys=function(e){return this(E(e).keySeq())},Tr.prototype.toString=function(){return this.__toString("Set {","}")},Tr.prototype.has=function(e){return this._map.has(e)},Tr.prototype.add=function(e){return Lr(this,this._map.set(e,!0))},Tr.prototype.remove=function(e){return Lr(this,this._map.remove(e))},Tr.prototype.clear=function(){return Lr(this,this._map.clear())},Tr.prototype.union=function(){var t=e.call(arguments,0);return t=t.filter(function(e){return e.size!==0}),t.length===0?this:this.size===0&&!this.__ownerID&&t.length===1?this.constructor(t[0]):this.withMutations(function(e){for(var n=0;n<t.length;n++)x(t[n]).forEach(function(t){return e.add(t)})})},Tr.prototype.intersect=function(){var t=e.call(arguments,0);if(t.length===0)return this;t=t.map(function(e){return x(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},Tr.prototype.subtract=function(){var t=e.call(arguments,0);if(t.length===0)return this;t=t.map(function(e){return x(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},Tr.prototype.merge=function(){return this.union.apply(this,arguments)},Tr.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Tr.prototype.sort=function(e){return _r(nn(this,e))},Tr.prototype.sortBy=function(e,t){return _r(nn(this,t,e))},Tr.prototype.wasAltered=function(){return this._map.wasAltered()},Tr.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Tr.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Tr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Tr.isSet=Nr;var Cr="@@__IMMUTABLE_SET__@@",kr=Tr.prototype;kr[Cr]=!0,kr[n]=kr.remove,kr.mergeDeep=kr.merge,kr.mergeDeepWith=kr.mergeWith,kr.withMutations=yn.withMutations,kr.asMutable=yn.asMutable,kr.asImmutable=yn.asImmutable,kr.__empty=Mr,kr.__make=Ar;var Or;t(_r,Tr),_r.of=function(){return this(arguments)},_r.fromKeys=function(e){return this(E(e).keySeq())},_r.prototype.toString=function(){return this.__toString("OrderedSet {","}")},_r.isOrderedSet=Dr;var Pr=_r.prototype;Pr[_]=!0,Pr.__empty=jr,Pr.__make=Hr;var Br;t(Fr,ht),Fr.prototype.toString=function(){return this.__toString(Rr(this)+" {","}")},Fr.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Fr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Fr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=qr(this,An()))},Fr.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Rr(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:qr(this,n)},Fr.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:qr(this,t)},Fr.prototype.wasAltered=function(){return this._map.wasAltered()},Fr.prototype.__iterator=function(e,t){var n=this;return E(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},Fr.prototype.__iterate=function(e,t){var n=this;return E(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},Fr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?qr(this,t,e):(this.__ownerID=e,this._map=t,this)};var Ir=Fr.prototype;Ir[n]=Ir.remove,Ir.deleteIn=Ir.removeIn=yn.removeIn,Ir.merge=yn.merge,Ir.mergeWith=yn.mergeWith,Ir.mergeIn=yn.mergeIn,Ir.mergeDeep=yn.mergeDeep,Ir.mergeDeepWith=yn.mergeDeepWith,Ir.mergeDeepIn=yn.mergeDeepIn,Ir.setIn=yn.setIn,Ir.update=yn.update,Ir.updateIn=yn.updateIn,Ir.withMutations=yn.withMutations,Ir.asMutable=yn.asMutable,Ir.asImmutable=yn.asImmutable,t(Xr,K),Xr.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Xr.prototype.get=function(e,t){return this.has(e)?this._start+d(this,e)*this._step:t},Xr.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Xr.prototype.slice=function(e,t){return m(e,t,this.size)?this:(e=g(e,this.size),t=y(t,this.size),t<=e?new Xr(0,0):new Xr(this.get(e,this._end),this.get(t,this._end),this._step))},Xr.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Xr.prototype.lastIndexOf=function(e){return this.indexOf(e)},Xr.prototype.__iterate=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start;for(var s=0;s<=n;s++){if(e(i,s,this)===!1)return s+1;i+=t?-r:r}return s},Xr.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,s=0;return new I(function(){var o=i;return i+=t?-r:r,s>n?R():q(e,s++,o)})},Xr.prototype.equals=function(e){return e instanceof Xr?this._start===e._start&&this._end===e._end&&this._step===e._step:Wr(this,e)};var Vr;t($r,K),$r.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},$r.prototype.get=function(e,t){return this.has(e)?this._value:t},$r.prototype.includes=function(e){return vt(this._value,e)},$r.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:new $r(this._value,y(t,n)-g(e,n))},$r.prototype.reverse=function(){return this},$r.prototype.indexOf=function(e){return vt(this._value,e)?0:-1},$r.prototype.lastIndexOf=function(e){return vt(this._value,e)?this.size:-1},$r.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},$r.prototype.__iterator=function(e,t){var n=this,r=0;return new I(function(){return r<n.size?q(e,r++,n._value):R()})},$r.prototype.equals=function(e){return e instanceof $r?vt(this._value,e._value):Wr(e)};var Jr;w.Iterator=I,Kr(w,{toArray:function(){Ft(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new qt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&typeof e.toJS=="function"?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&typeof e.toJSON=="function"?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return vn(this.toKeyedSeq())},toObject:function(){Ft(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return cr(this.toKeyedSeq())},toOrderedSet:function(){return _r(N(this)?this.valueSeq():this)},toSet:function(){return Tr(N(this)?this.valueSeq():this)},toSetSeq:function(){return new Rt(this)},toSeq:function(){return C(this)?this.toIndexedSeq():N(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return gr(N(this)?this.valueSeq():this)},toList:function(){return Jn(N(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return this.size===0?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return un(this,Yt(this,t))},contains:function(e){return this.includes(e)},includes:function(e){return this.some(function(t){return vt(t,e)})},entries:function(){return this.__iterator(H)},every:function(e,t){Ft(this.size);var n=!0;return this.__iterate(function(r,i,s){if(!e.call(t,r,i,s))return n=!1,!1}),n},filter:function(e,t){return un(this,Vt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,i,s){if(e.call(t,r,i,s))return n=[i,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ft(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ft(this.size),e=e!==undefined?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=r!==null&&r!==undefined?r.toString():""}),t},keys:function(){return this.__iterator(D)},map:function(e,t){return un(this,Wt(this,e,t))},reduce:function(e,t,n){Ft(this.size);var r,i;return arguments.length<2?i=!0:r=t,this.__iterate(function(t,s,o){i?(i=!1,r=t):r=e.call(n,r,t,s,o)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return un(this,Xt(this,!0))},slice:function(e,t){return un(this,Kt(this,e,t,!0))},some:function(e,t){return!this.every(ei(e),t)},sort:function(e){return un(this,nn(this,e))},values:function(){return this.__iterator(P)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return!0})},count:function(e,t){return p(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return $t(this,e,t)},equals:function(e){return Wr(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Y(e._cache);var t=e.toSeq().map(Zr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(ei(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(v)},flatMap:function(e,t){return un(this,en(this,e,t))},flatten:function(e){return un(this,Zt(this,e,!0))},fromEntrySeq:function(){return new Ut(this)},get:function(e,t){return this.find(function(t,n){return vt(n,e)},undefined,t)},getIn:function(e,t){var n=this,r=dn(e),i;while(!(i=r.next()).done){var s=i.value;n=n&&n.get?n.get(s,o):o;if(n===o)return t}return n},groupBy:function(e,t){return Jt(this,e,t)},has:function(e){return this.get(e,o)!==o},hasIn:function(e){return this.getIn(e,o)!==o},isSubset:function(e){return e=typeof e.includes=="function"?e:w(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e.isSubset(this)},keySeq:function(){return this.toSeq().map(Yr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return rn(this,e)},maxBy:function(e,t){return rn(this,t,e)},min:function(e){return rn(this,e?ti(e):ii)},minBy:function(e,t){return rn(this,t?ti(t):ii,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return un(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return un(this,Gt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(ei(e),t)},sortBy:function(e,t){return un(this,nn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return un(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return un(this,Qt(this,e,t))},takeUntil:function(e,t){return this.takeWhile(ei(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=si(this))}});var Qr=w.prototype;Qr[A]=!0,Qr[F]=Qr.values,Qr.__toJS=Qr.toArray,Qr.__toStringMapper=ni,Qr.inspect=Qr.toSource=function(){return this.toString()},Qr.chain=Qr.flatMap,function(){try{Object.defineProperty(Qr,"length",{get:function(){if(!w.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Kr(E,{flip:function(){return un(this,zt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return vt(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return vt(t,e)})},mapEntries:function(e,t){var n=this,r=0;return un(this,this.toSeq().map(function(i,s){return e.call(t,[s,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return un(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var Gr=E.prototype;Gr[O]=!0,Gr[F]=Qr.entries,Gr.__toJS=Qr.toObject,Gr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+ni(e)},Kr(S,{toKeyedSeq:function(){return new It(this,!1)},filter:function(e,t){return un(this,Vt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return t===undefined?-1:t},lastIndexOf:function(e){return this.toSeq().reverse().indexOf(e)},reverse:function(){return un(this,Xt(this,!1))},slice:function(e,t){return un(this,Kt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;t=Math.max(t|0,0);if(n===0||n===2&&!t)return this;e=g(e,this.size);var r=this.slice(0,e);return un(this,n===1?r:r.concat(h(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return n===undefined?-1:n},first:function(){return this.get(0)},flatten:function(e){return un(this,Zt(this,e,!1))},get:function(e,t){return e=d(this,e),e<0||this.size===Infinity||this.size!==undefined&&e>this.size?t:this.find(function(t,n){return n===e},undefined,t)},has:function(e){return e=d(this,e),e>=0&&(this.size!==undefined?this.size===Infinity||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return un(this,tn(this,e))},interleave:function(){var e=[this].concat(h(arguments)),t=on(this.toSeq(),K.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),un(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return un(this,Gt(this,e,t,!1))},zip:function(){var e=[this].concat(h(arguments));return un(this,on(this,ri,e))},zipWith:function(e){var t=h(arguments);return t[0]=this,un(this,on(this,e,t))}}),S.prototype[M]=!0,S.prototype[_]=!0,Kr(x,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),x.prototype.has=Qr.includes,Kr(J,E.prototype),Kr(K,S.prototype),Kr(Q,x.prototype),Kr(ht,E.prototype),Kr(pt,S.prototype),Kr(dt,x.prototype);var ai={Iterable:w,Seq:$,Collection:ct,Map:vn,OrderedMap:cr,List:Jn,Stack:gr,Set:Tr,OrderedSet:_r,Record:Fr,Range:Xr,Repeat:$r,is:vt,fromJS:mt};return ai})},{}],86:[function(require,module,exports){(function(global){"use strict";var numeric=typeof exports=="undefined"?function(){}:exports;typeof global!="undefined"&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,n){var r,i,s,o;typeof n=="undefined"&&(n=15),s=.5,r=new Date;for(;;){s*=2;for(o=s;o>3;o-=4)t(),t(),t(),t();while(o>0)t(),o--;i=new Date;if(i-r>n)break}for(o=s;o>3;o-=4)t(),t(),t(),t();while(o>0)t(),o--;return i=new Date,1e3*(3*s-1)/(i-r)},numeric._myIndexOf=function(t){var n=this.length,r;for(r=0;r<n;++r)if(this[r]===t)return r;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function n(e){if(e===0)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+n(-e);if(isFinite(e)){var t=Math.floor(Math.log(e)/Math.log(10)),r=e/Math.pow(10,t),i=r.toPrecision(numeric.precision);return parseFloat(i)===10&&(t++,r=1,i=r.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+t.toString()}return"Infinity"}function i(e){var t;if(typeof e=="undefined")return r.push(Array(numeric.precision+8).join(" ")),!1;if(typeof e=="string")return r.push('"'+e+'"'),!1;if(typeof e=="boolean")return r.push(e.toString()),!1;if(typeof e=="number"){var s=n(e),o=e.toPrecision(numeric.precision),u=parseFloat(e.toString()).toString(),a=[s,o,u,parseFloat(o).toString(),parseFloat(u).toString()];for(t=1;t<a.length;t++)a[t].length<s.length&&(s=a[t]);return r.push(Array(numeric.precision+8-s.length).join(" ")+s),!1}if(e===null)return r.push("null"),!1;if(typeof e=="function"){r.push(e.toString());var f=!1;for(t in e)e.hasOwnProperty(t)&&(f?r.push(",\n"):r.push("\n{"),f=!0,r.push(t),r.push(": \n"),i(e[t]));return f&&r.push("}\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return r.push("...Large Array..."),!0;var f=!1;r.push("[");for(t=0;t<e.length;t++)t>0&&(r.push(","),f&&r.push("\n ")),f=i(e[t]);return r.push("]"),!0}r.push("{");var f=!1;for(t in e)e.hasOwnProperty(t)&&(f&&r.push(",\n"),f=!0,r.push(t),r.push(": \n"),i(e[t]));return r.push("}"),!0}var r=[];return i(t),r.join("")},numeric.parseDate=function(t){function n(e){if(typeof e=="string")return Date.parse(e.replace(/-/g,"/"));if(e instanceof Array){var t=[],r;for(r=0;r<e.length;r++)t[r]=n(e[r]);return t}throw new Error("parseDate: parameter must be arrays of strings")}return n(t)},numeric.parseFloat=function(t){function n(e){if(typeof e=="string")return parseFloat(e);if(e instanceof Array){var t=[],r;for(r=0;r<e.length;r++)t[r]=n(e[r]);return t}throw new Error("parseFloat: parameter must be arrays of strings")}return n(t)},numeric.parseCSV=function(t){var n=t.split("\n"),r,i,s=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(e){return e.substr(0,e.length-1)},f=0;for(i=0;i<n.length;i++){var l=(n[i]+",").match(o),c;if(l.length>0){s[f]=[];for(r=0;r<l.length;r++)c=a(l[r]),u.test(c)?s[f][r]=parseFloat(c):s[f][r]=c;f++}}return s},numeric.toCSV=function(t){var n=numeric.dim(t),r,i,s,o,u,a;s=n[0],o=n[1],a=[];for(r=0;r<s;r++){u=[];for(i=0;i<s;i++)u[i]=t[r][i].toString();a[r]=u.join(", ")}return a.join("\n")+"\n"},numeric.getURL=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n},numeric.imageURL=function(t){function n(e){var t=e.length,n,r,i,s,o,u,a,f,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";for(n=0;n<t;n+=3)r=e[n],i=e[n+1],s=e[n+2],o=r>>2,u=((r&3)<<4)+(i>>4),a=((i&15)<<2)+(s>>6),f=s&63,n+1>=t?a=f=64:n+2>=t&&(f=64),c+=l.charAt(o)+l.charAt(u)+l.charAt(a)+l.charAt(f);return c}function r(e,t,n){typeof t=="undefined"&&(t=0),typeof n=="undefined"&&(n=e.length);var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=-1,s=0,o=e.length,u;for(u=t;u<n;u++)s=(i^e[u])&255,i=i>>>8^r[s];return i^-1}var i=t[0].length,s=t[0][0].length,o,u,a,f,l,c,h,p,d,v,m,g=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,s>>24&255,s>>16&255,s>>8&255,s&255,i>>24&255,i>>16&255,i>>8&255,i&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];m=r(g,12,29),g[29]=m>>24&255,g[30]=m>>16&255,g[31]=m>>8&255,g[32]=m&255,o=1,u=0;for(p=0;p<i;p++){p<i-1?g.push(0):g.push(1),c=3*s+1+(p===0)&255,h=3*s+1+(p===0)>>8&255,g.push(c),g.push(h),g.push(~c&255),g.push(~h&255),p===0&&g.push(0);for(d=0;d<s;d++)for(f=0;f<3;f++)c=t[f][p][d],c>255?c=255:c<0?c=0:c=Math.round(c),o=(o+c)%65521,u=(u+o)%65521,g.push(c);g.push(0)}return v=(u<<16)+o,g.push(v>>24&255),g.push(v>>16&255),g.push(v>>8&255),g.push(v&255),l=g.length-41,g[33]=l>>24&255,g[34]=l>>16&255,g[35]=l>>8&255,g[36]=l&255,m=r(g,37),g.push(m>>24&255),g.push(m>>16&255),g.push(m>>8&255),g.push(m&255),g.push(0),g.push(0),g.push(0),g.push(0),g.push(73),g.push(69),g.push(78),g.push(68),g.push(174),g.push(66),g.push(96),g.push(130),"data:image/png;base64,"+n(g)},numeric._dim=function(t){var n=[];while(typeof t=="object")n.push(t.length),t=t[0];return n},numeric.dim=function(t){var n,r;if(typeof t=="object")return n=t[0],typeof n=="object"?(r=n[0],typeof r=="object"?numeric._dim(t):[t.length,n.length]):[t.length];return[]},numeric.mapreduce=function(t,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+";\n"+'if(typeof x === "number") { var xi = x; '+t+"; return accum; }\n"+'if(typeof _s === "undefined") _s = numeric.dim(x);\n'+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i,xi;\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) {\n"+"        accum = arguments.callee(x[i],accum,_s,_k+1);\n"+"    }"+"    return accum;\n"+"}\n"+"for(i=_n-1;i>=1;i-=2) { \n"+"    xi = x[i];\n"+"    "+t+";\n"+"    xi = x[i-1];\n"+"    "+t+";\n"+"}\n"+"if(i === 0) {\n"+"    xi = x[i];\n"+"    "+t+"\n"+"}\n"+"return accum;")},numeric.mapreduce2=function(t,n){return Function("x","var n = x.length;\nvar i,xi;\n"+n+";\n"+"for(i=n-1;i!==-1;--i) { \n"+"    xi = x[i];\n"+"    "+t+";\n"+"}\n"+"return accum;")},numeric.same=function same(e,t){var n,r;if(e instanceof Array&&t instanceof Array){r=e.length;if(r!==t.length)return!1;for(n=0;n<r;n++){if(e[n]===t[n])continue;if(typeof e[n]!="object")return!1;if(!same(e[n],t[n]))return!1}return!0}return!1},numeric.rep=function(t,n,r){typeof r=="undefined"&&(r=0);var i=t[r],s=Array(i),o;if(r===t.length-1){for(o=i-2;o>=0;o-=2)s[o+1]=n,s[o]=n;return o===-1&&(s[0]=n),s}for(o=i-1;o>=0;o--)s[o]=numeric.rep(t,n,r+1);return s},numeric.dotMMsmall=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m;o=t.length,u=n.length,a=n[0].length,f=Array(o);for(r=o-1;r>=0;r--){l=Array(a),c=t[r];for(s=a-1;s>=0;s--){h=c[u-1]*n[u-1][s];for(i=u-2;i>=1;i-=2)p=i-1,h+=c[i]*n[i][s]+c[p]*n[p][s];i===0&&(h+=c[0]*n[0][s]),l[s]=h}f[r]=l}return f},numeric._getCol=function(t,n,r){var i=t.length,s;for(s=i-1;s>0;--s)r[s]=t[s][n],--s,r[s]=t[s][n];s===0&&(r[0]=t[0][n])},numeric.dotMMbig=function(t,n){var r=numeric._getCol,i=n.length,s=Array(i),o=t.length,u=n[0].length,a=new Array(o),f,l=numeric.dotVV,c,h,p,d;--i,--o;for(c=o;c!==-1;--c)a[c]=Array(u);--u;for(c=u;c!==-1;--c){r(n,c,s);for(h=o;h!==-1;--h)d=0,f=t[h],a[h][c]=l(f,s)}return a},numeric.dotMV=function(t,n){var r=t.length,i=n.length,s,o=Array(r),u=numeric.dotVV;for(s=r-1;s>=0;s--)o[s]=u(t[s],n);return o},numeric.dotVM=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;o=t.length,u=n[0].length,f=Array(u);for(s=u-1;s>=0;s--){h=t[o-1]*n[o-1][s];for(i=o-2;i>=1;i-=2)p=i-1,h+=t[i]*n[i][s]+t[p]*n[p][s];i===0&&(h+=t[0]*n[0][s]),f[s]=h}return f},numeric.dotVV=function(t,n){var r,i=t.length,s,o=t[i-1]*n[i-1];for(r=i-2;r>=1;r-=2)s=r-1,o+=t[r]*n[r]+t[s]*n[s];return r===0&&(o+=t[0]*n[0]),o},numeric.dot=function(t,n){var r=numeric.dim;switch(r(t).length*1e3+r(n).length){case 2002:return n.length<10?numeric.dotMMsmall(t,n):numeric.dotMMbig(t,n);case 2001:return numeric.dotMV(t,n);case 1002:return numeric.dotVM(t,n);case 1001:return numeric.dotVV(t,n);case 1e3:return numeric.mulVS(t,n);case 1:return numeric.mulSV(t,n);case 0:return t*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var n,r,i,s=t.length,o=Array(s),u;for(n=s-1;n>=0;n--){u=Array(s),r=n+2;for(i=s-1;i>=r;i-=2)u[i]=0,u[i-1]=0;i>n&&(u[i]=0),u[n]=t[n];for(i=n-1;i>=1;i-=2)u[i]=0,u[i-1]=0;i===0&&(u[0]=0),o[n]=u}return o},numeric.getDiag=function(e){var t=Math.min(e.length,e[0].length),n,r=Array(t);for(n=t-1;n>=1;--n)r[n]=e[n][n],--n,r[n]=e[n][n];return n===0&&(r[0]=e[0][0]),r},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,n,r){typeof r=="undefined"&&(r="");var i=[],s,o=/\[i\]$/,u,a="",f=!1;for(s=0;s<t.length;s++)o.test(t[s])?(u=t[s].substring(0,t[s].length-3),a=u):u=t[s],u==="ret"&&(f=!0),i.push(u);return i[t.length]="_s",i[t.length+1]="_k",i[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+");\n"+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i"+(f?"":", ret = Array(_n)")+";\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n"+"    return ret;\n"+"}\n"+r+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+"    "+n+"\n"+"}\n"+"return ret;",Function.apply(null,i)},numeric.pointwise2=function(t,n,r){typeof r=="undefined"&&(r="");var i=[],s,o=/\[i\]$/,u,a="",f=!1;for(s=0;s<t.length;s++)o.test(t[s])?(u=t[s].substring(0,t[s].length-3),a=u):u=t[s],u==="ret"&&(f=!0),i.push(u);return i[t.length]="var _n = "+a+".length;\n"+"var i"+(f?"":", ret = Array(_n)")+";\n"+r+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+n+"\n"+"}\n"+"return ret;",Function.apply(null,i)},numeric._biforeach=function _biforeach(e,t,n,r,i){if(r===n.length-1){i(e,t);return}var s,o=n[r];for(s=o-1;s>=0;s--)_biforeach(typeof e=="object"?e[s]:e,typeof t=="object"?t[s]:t,n,r+1,i)},numeric._biforeach2=function _biforeach2(e,t,n,r,i){if(r===n.length-1)return i(e,t);var s,o=n[r],u=Array(o);for(s=o-1;s>=0;--s)u[s]=_biforeach2(typeof e=="object"?e[s]:e,typeof t=="object"?t[s]:t,n,r+1,i);return u},numeric._foreach=function _foreach(e,t,n,r){if(n===t.length-1){r(e);return}var i,s=t[n];for(i=s-1;i>=0;i--)_foreach(e[i],t,n+1,r)},numeric._foreach2=function _foreach2(e,t,n,r){if(n===t.length-1)return r(e);var i,s=t[n],o=Array(s);for(i=s-1;i>=0;i--)o[i]=_foreach2(e[i],t,n+1,r);return o},numeric.ops2=
{add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],numeric.ops2[t]=t;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var n,r,i="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(i="var "+t+" = Math."+t+";\n",n=function(e,n,r){return e+" = "+t+"("+n+","+r+")"},r=function(e,n){return e+" = "+t+"("+e+","+n+")"}):(n=function(e,n,r){return e+" = "+n+" "+t+" "+r},numeric.opseq.hasOwnProperty(e+"eq")?r=function(e,n){return e+" "+t+"= "+n}:r=function(e,n){return e+" = "+e+" "+t+" "+n}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+"SV;\n"+"var dim = numeric.dim;\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof x === "object") {\n'+'      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n'+"      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n"+'  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n'+"  else "+r("x","y")+"\n"+"}\nreturn x;\n"),numeric[t]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+"eqS\n"+"var s = numeric.dim(x);\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n'+"  else numeric._biforeach(x,y,s,0,S);\n"+"}\nreturn x;\n")}for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],delete numeric.ops2[t];for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],numeric.ops1[t]=t;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",t=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(t)&&(i="var "+t+" = Math."+t+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+t+"x\n"+"var i;\n"+"var V = numeric."+e+"eqV;\n"+"var s = numeric.dim(x);\n"+"numeric._foreach(x,s,0,V);\n"+"return x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+t+"(x)\n"+"var i;\n"+"var V = numeric."+e+"V;\n"+"var s = numeric.dim(x);\n"+"return numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],delete numeric.ops1[t];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(t=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[e]=Function("x","s","k",t[1]+'if(typeof x !== "object") {'+"    xi = x;\n"+t[0]+";\n"+"    return accum;\n"+"}"+'if(typeof s === "undefined") s = numeric.dim(x);\n'+'if(typeof k === "undefined") k = 0;\n'+"if(k === s.length-1) return numeric."+e+"V(x);\n"+"var xi;\n"+"var n = x.length, i;\n"+"for(i=n-1;i!==-1;--i) {\n"+"   xi = arguments.callee(x[i]);\n"+t[0]+";\n"+"}\n"+"return accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,n){return typeof t=="object"?typeof n=="object"?numeric.truncVV(t,n):numeric.truncVS(t,n):typeof n=="object"?numeric.truncSV(t,n):Math.round(t/n)*n},numeric.inv=function(t){var n=numeric.dim(t),r=Math.abs,i=n[0],s=n[1],o=numeric.clone(t),u,a,f=numeric.identity(i),l,c,h,p,d,t;for(p=0;p<s;++p){var v=-1,m=-1;for(h=p;h!==i;++h)d=r(o[h][p]),d>m&&(v=h,m=d);a=o[v],o[v]=o[p],o[p]=a,c=f[v],f[v]=f[p],f[p]=c,t=a[p];for(d=p;d!==s;++d)a[d]/=t;for(d=s-1;d!==-1;--d)c[d]/=t;for(h=i-1;h!==-1;--h)if(h!==p){u=o[h],l=f[h],t=u[p];for(d=p+1;d!==s;++d)u[d]-=a[d]*t;for(d=s-1;d>0;--d)l[d]-=c[d]*t,--d,l[d]-=c[d]*t;d===0&&(l[0]-=c[0]*t)}}return f},numeric.det=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var r=n[0],i=1,s,o,u,a=numeric.clone(t),f,l,c,h,p,d,v;for(o=0;o<r-1;o++){u=o;for(s=o+1;s<r;s++)Math.abs(a[s][o])>Math.abs(a[u][o])&&(u=s);u!==o&&(h=a[u],a[u]=a[o],a[o]=h,i*=-1),f=a[o];for(s=o+1;s<r;s++){l=a[s],c=l[o]/f[o];for(u=o+1;u<r-1;u+=2)p=u+1,l[u]-=f[u]*c,l[p]-=f[p]*c;u!==r&&(l[u]-=f[u]*c)}if(f[o]===0)return 0;i*=f[o]}return i*a[o][o]},numeric.transpose=function(t){var n,r,i=t.length,s=t[0].length,o=Array(s),u,a,f;for(r=0;r<s;r++)o[r]=Array(i);for(n=i-1;n>=1;n-=2){a=t[n],u=t[n-1];for(r=s-1;r>=1;--r)f=o[r],f[n]=a[r],f[n-1]=u[r],--r,f=o[r],f[n]=a[r],f[n-1]=u[r];r===0&&(f=o[0],f[n]=a[0],f[n-1]=u[0])}if(n===0){u=t[0];for(r=s-1;r>=1;--r)o[r][0]=u[r],--r,o[r][0]=u[r];r===0&&(o[0][0]=u[0])}return o},numeric.negtranspose=function(t){var n,r,i=t.length,s=t[0].length,o=Array(s),u,a,f;for(r=0;r<s;r++)o[r]=Array(i);for(n=i-1;n>=1;n-=2){a=t[n],u=t[n-1];for(r=s-1;r>=1;--r)f=o[r],f[n]=-a[r],f[n-1]=-u[r],--r,f=o[r],f[n]=-a[r],f[n-1]=-u[r];r===0&&(f=o[0],f[n]=-a[0],f[n-1]=-u[0])}if(n===0){u=t[0];for(r=s-1;r>=1;--r)o[r][0]=-u[r],--r,o[r][0]=-u[r];r===0&&(o[0][0]=-u[0])}return o},numeric._random=function _random(e,t){var n,r=e[t],i=Array(r),s;if(t===e.length-1){s=Math.random;for(n=r-1;n>=1;n-=2)i[n]=s(),i[n-1]=s();return n===0&&(i[0]=s()),i}for(n=r-1;n>=0;n--)i[n]=_random(e,t+1);return i},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,n,r){typeof r=="undefined"&&(r=Math.max(Math.round(n-t)+1,1));if(r<2)return r===1?[t]:[];var i,s=Array(r);r--;for(i=r;i>=0;i--)s[i]=(i*n+(r-i)*t)/r;return s},numeric.getBlock=function(t,n,r){function s(e,t){var o,u=n[t],a=r[t]-u,f=Array(a);if(t===i.length-1){for(o=a;o>=0;o--)f[o]=e[o+u];return f}for(o=a;o>=0;o--)f[o]=s(e[o+u],t+1);return f}var i=numeric.dim(t);return s(t,0)},numeric.setBlock=function(t,n,r,i){function o(e,t,i){var u,a=n[i],f=r[i]-a;if(i===s.length-1)for(u=f;u>=0;u--)e[u+a]=t[u];for(u=f;u>=0;u--)o(e[u+a],t[u],i+1)}var s=numeric.dim(t);return o(t,i,0),t},numeric.getRange=function(t,n,r){var i=n.length,s=r.length,o,u,a=Array(i),f,l;for(o=i-1;o!==-1;--o){a[o]=Array(s),f=a[o],l=t[n[o]];for(u=s-1;u!==-1;--u)f[u]=l[r[u]]}return a},numeric.blockMatrix=function(t){var n=numeric.dim(t);if(n.length<4)return numeric.blockMatrix([t]);var r=n[0],i=n[1],s,o,u,a,f;s=0,o=0;for(u=0;u<r;++u)s+=t[u][0].length;for(a=0;a<i;++a)o+=t[0][a][0].length;var l=Array(s);for(u=0;u<s;++u)l[u]=Array(o);var c=0,h,p,d,v,m;for(u=0;u<r;++u){h=o;for(a=i-1;a!==-1;--a){f=t[u][a],h-=f[0].length;for(d=f.length-1;d!==-1;--d){m=f[d],p=l[c+d];for(v=m.length-1;v!==-1;--v)p[h+v]=m[v]}}c+=t[u][0].length}return l},numeric.tensor=function(t,n){if(typeof t=="number"||typeof n=="number")return numeric.mul(t,n);var r=numeric.dim(t),i=numeric.dim(n);if(r.length!==1||i.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var s=r[0],o=i[0],u=Array(s),a,f,l,c;for(f=s-1;f>=0;f--){a=Array(o),c=t[f];for(l=o-1;l>=3;--l)a[l]=c*n[l],--l,a[l]=c*n[l],--l,a[l]=c*n[l],--l,a[l]=c*n[l];while(l>=0)a[l]=c*n[l],--l;u[f]=a}return u},numeric.T=function(t,n){this.x=t,this.y=n},numeric.t=function(t,n){return new numeric.T(t,n)},numeric.Tbinop=function(t,n,r,i,s){var o=numeric.indexOf;if(typeof s!="string"){var u;s="";for(u in numeric)numeric.hasOwnProperty(u)&&(t.indexOf(u)>=0||n.indexOf(u)>=0||r.indexOf(u)>=0||i.indexOf(u)>=0)&&u.length>1&&(s+="var "+u+" = numeric."+u+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+s+"\n"+"if(x.y) {"+"  if(y.y) {"+"    return new numeric.T("+i+");\n"+"  }\n"+"  return new numeric.T("+r+");\n"+"}\n"+"if(y.y) {\n"+"  return new numeric.T("+n+");\n"+"}\n"+"return new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,n=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(n(this.x,r),n(numeric.neg(this.y),r))}return new T(n(1,this.x))},numeric.T.prototype.div=function div(e){e instanceof numeric.T||(e=new numeric.T(e));if(e.y)return this.mul(e.reciprocal());var div=numeric.div;return this.y?new numeric.T(div(this.x,e.x),div(this.y,e.x)):new numeric.T(div(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(t(n),t(r)):new numeric.T(t(n))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(t(n),numeric.negtranspose(r)):new numeric.T(t(n))},numeric.Tunop=function(t,n,r){return typeof r!="string"&&(r=""),Function("var x = this;\n"+r+"\n"+"if(x.y) {"+"  "+n+";\n"+"}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(typeof t.y=="undefined")return new numeric.T(numeric.inv(t.x));var n=t.x.length,r,i,s,o=numeric.identity(n),u=numeric.rep([n,n],0),a=numeric.clone(t.x),f=numeric.clone(t.y),l,c,h,p,d,v,m,g,r,i,s,y,b,w,E,S,x,T;for(r=0;r<n;r++){w=a[r][r],E=f[r][r],y=w*w+E*E,s=r;for(i=r+1;i<n;i++)w=a[i][r],E=f[i][r],b=w*w+E*E,b>y&&(s=i,y=b);s!==r&&(T=a[r],a[r]=a[s],a[s]=T,T=f[r],f[r]=f[s],f[s]=T,T=o[r],o[r]=o[s],o[s]=T,T=u[r],u[r]=u[s],u[s]=T),l=a[r],c=f[r],d=o[r],v=u[r],w=l[r],E=c[r];for(i=r+1;i<n;i++)S=l[i],x=c[i],l[i]=(S*w+x*E)/y,c[i]=(x*w-S*E)/y;for(i=0;i<n;i++)S=d[i],x=v[i],d[i]=(S*w+x*E)/y,v[i]=(x*w-S*E)/y;for(i=r+1;i<n;i++){h=a[i],p=f[i],m=o[i],g=u[i],w=h[r],E=p[r];for(s=r+1;s<n;s++)S=l[s],x=c[s],h[s]-=S*w-x*E,p[s]-=x*w+S*E;for(s=0;s<n;s++)S=d[s],x=v[s],m[s]-=S*w-x*E,g[s]-=x*w+S*E}}for(r=n-1;r>0;r--){d=o[r],v=u[r];for(i=r-1;i>=0;i--){m=o[i],g=u[i],w=a[i][r],E=f[i][r];for(s=n-1;s>=0;s--)S=d[s],x=v[s],m[s]-=w*S-E*x,g[s]-=w*x+E*S}}return new numeric.T(o,u)},numeric.T.prototype.get=function(t){var n=this.x,r=this.y,i=0,s,o=t.length;if(r){while(i<o)s=t[i],n=n[s],r=r[s],i++;return new numeric.T(n,r)}while(i<o)s=t[i],n=n[s],i++;return new numeric.T(n)},numeric.T.prototype.set=function(t,n){var r=this.x,i=this.y,s=0,o,u=t.length,a=n.x,f=n.y;if(u===0)return f?this.y=f:i&&(this.y=undefined),this.x=r,this;if(f){i||(i=numeric.rep(numeric.dim(r),0),this.y=i);while(s<u-1)o=t[s],r=r[o],i=i[o],s++;return o=t[s],r[o]=a,i[o]=f,this}if(i){while(s<u-1)o=t[s],r=r[o],i=i[o],s++;return o=t[s],r[o]=a,a instanceof Array?i[o]=numeric.rep(numeric.dim(a),0):i[o]=0,this}while(s<u-1)o=t[s],r=r[o],s++;return o=t[s],r[o]=a,this},numeric.T.prototype.getRows=function(t,n){var r=n-t+1,i,s=Array(r),o,u=this.x,a=this.y;for(i=t;i<=n;i++)s[i-t]=u[i];if(a){o=Array(r);for(i=t;i<=n;i++)o[i-t]=a[i];return new numeric.T(s,o)}return new numeric.T(s)},numeric.T.prototype.setRows=function(t,n,r){var i,s=this.x,o=this.y,u=r.x,a=r.y;for(i=t;i<=n;i++)s[i]=u[i-t];if(a){o||(o=numeric.rep(numeric.dim(s),0),this.y=o);for(i=t;i<=n;i++)o[i]=a[i-t]}else if(o)for(i=t;i<=n;i++)o[i]=numeric.rep([u[i-t].length],0);return this},numeric.T.prototype.getRow=function(t){var n=this.x,r=this.y;return r?new numeric.T(n[t],r[t]):new numeric.T(n[t])},numeric.T.prototype.setRow=function(t,n){var r=this.x,i=this.y,s=n.x,o=n.y;return r[t]=s,o?(i||(i=numeric.rep(numeric.dim(r),0),this.y=i),i[t]=o):i&&(i=numeric.rep([s.length],0)),this},numeric.T.prototype.getBlock=function(t,n){var r=this.x,i=this.y,s=numeric.getBlock;return i?new numeric.T(s(r,t,n),s(i,t,n)):new numeric.T(s(r,t,n))},numeric.T.prototype.setBlock=function(t,n,r){r instanceof numeric.T||(r=new numeric.T(r));var i=this.x,s=this.y,o=numeric.setBlock,u=r.x,a=r.y;if(a)return s||(this.y=numeric.rep(numeric.dim(this),0),s=this.y),o(i,t,n,u),o(s,t,n,a),this;o(i,t,n,u),s&&o(s,t,n,numeric.rep(numeric.dim(u),0))},numeric.T.rep=function(t,n){var r=numeric.T;n instanceof r||(n=new r(n));var i=n.x,s=n.y,o=numeric.rep;return s?new r(o(t,i),o(t,s)):new r(o(t,i))},numeric.T.diag=function diag(e){e instanceof numeric.T||(e=new numeric.T(e));var t=e.x,n=e.y,diag=numeric.diag;return n?new numeric.T(diag(t),diag(n)):new numeric.T(diag(t))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,n=this.x,r=this.y;return r?new t.T(t.getDiag(n),t.getDiag(r)):new t.T(t.getDiag(n))},numeric.house=function(t){var n=numeric.clone(t),r=t[0]>=0?1:-1,i=r*numeric.norm2(t);n[0]+=i;var s=numeric.norm2(n);if(s===0)throw new Error("eig: internal error");return numeric.div(n,s)},numeric.toUpperHessenberg=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r=n[0],i,s,o,u,a,f=numeric.clone(t),l,c,h,p,d=numeric.identity(r),v;for(s=0;s<r-2;s++){u=Array(r-s-1);for(i=s+1;i<r;i++)u[i-s-1]=f[i][s];if(numeric.norm2(u)>0){a=numeric.house(u),l=numeric.getBlock(f,[s+1,s],[r-1,r-1]),c=numeric.tensor(a,numeric.dot(a,l));for(i=s+1;i<r;i++){h=f[i],p=c[i-s-1];for(o=s;o<r;o++)h[o]-=2*p[o-s]}l=numeric.getBlock(f,[0,s+1],[r-1,r-1]),c=numeric.tensor(numeric.dot(l,a),a);for(i=0;i<r;i++){h=f[i],p=c[i];for(o=s+1;o<r;o++)h[o]-=2*p[o-s-1]}l=Array(r-s-1);for(i=s+1;i<r;i++)l[i-s-1]=d[i];c=numeric.tensor(a,numeric.dot(a,l));for(i=s+1;i<r;i++){v=d[i],p=c[i-s-1];for(o=0;o<r;o++)v[o]-=2*p[o]}}}return{H:f,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,t){typeof t=="undefined"&&(t=1e4),e=numeric.clone(e);var n=numeric.clone(e),r=numeric.dim(e),i=r[0],s,o,u,a,f,l,c,h,p,d=numeric.identity(i),v,m,g,y,b,w,E,S,x;if(i<3)return{Q:d,B:[[0,i-1]]};var T=numeric.epsilon;for(x=0;x<t;x++){for(E=0;E<i-1;E++)if(Math.abs(e[E+1][E])<T*(Math.abs(e[E][E])+Math.abs(e[E+1][E+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[E,E]),t),C=numeric.QRFrancis(numeric.getBlock(e,[E+1,E+1],[i-1,i-1]),t);g=Array(E+1);for(w=0;w<=E;w++)g[w]=d[w];y=numeric.dot(N.Q,g);for(w=0;w<=E;w++)d[w]=y[w];g=Array(i-E-1);for(w=E+1;w<i;w++)g[w-E-1]=d[w];y=numeric.dot(C.Q,g);for(w=E+1;w<i;w++)d[w]=y[w-E-1];return{Q:d,B:N.B.concat(numeric.add(C.B,E+1))}}u=e[i-2][i-2],a=e[i-2][i-1],f=e[i-1][i-2],l=e[i-1][i-1],h=u+l,c=u*l-a*f,p=numeric.getBlock(e,[0,0],[2,2]);if(h*h>=4*c){var k,L;k=.5*(h+Math.sqrt(h*h-4*c)),L=.5*(h-Math.sqrt(h*h-4*c)),p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,k+L)),numeric.diag(numeric.rep([3],k*L)))}else p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,h)),numeric.diag(numeric.rep([3],c)));s=[p[0][0],p[1][0],p[2][0]],o=numeric.house(s),g=[e[0],e[1],e[2]],y=numeric.tensor(o,numeric.dot(o,g));for(w=0;w<3;w++){m=e[w],b=y[w];for(S=0;S<i;S++)m[S]-=2*b[S]}g=numeric.getBlock(e,[0,0],[i-1,2]),y=numeric.tensor(numeric.dot(g,o),o);for(w=0;w<i;w++){m=e[w],b=y[w];for(S=0;S<3;S++)m[S]-=2*b[S]}g=[d[0],d[1],d[2]],y=numeric.tensor(o,numeric.dot(o,g));for(w=0;w<3;w++){v=d[w],b=y[w];for(S=0;S<i;S++)v[S]-=2*b[S]}var A;for(E=0;E<i-2;E++){for(S=E;S<=E+1;S++)if(Math.abs(e[S+1][S])<T*(Math.abs(e[S][S])+Math.abs(e[S+1][S+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[S,S]),t),C=numeric.QRFrancis(numeric.getBlock(e,[S+1,S+1],[i-1,i-1]),t);g=Array(S+1);for(w=0;w<=S;w++)g[w]=d[w];y=numeric.dot(N.Q,g);for(w=0;w<=S;w++)d[w]=y[w];g=Array(i-S-1);for(w=S+1;w<i;w++)g[w-S-1]=d[w];y=numeric.dot(C.Q,g);for(w=S+1;w<i;w++)d[w]=y[w-S-1];return{Q:d,B:N.B.concat(numeric.add(C.B,S+1))}}A=Math.min(i-1,E+3),s=Array(A-E);for(w=E+1;w<=A;w++)s[w-E-1]=e[w][E];o=numeric.house(s),g=numeric.getBlock(e,[E+1,E],[A,i-1]),y=numeric.tensor(o,numeric.dot(o,g));for(w=E+1;w<=A;w++){m=e[w],b=y[w-E-1];for(S=E;S<i;S++)m[S]-=2*b[S-E]}g=numeric.getBlock(e,[0,E+1],[i-1,A]),y=numeric.tensor(numeric.dot(g,o),o);for(w=0;w<i;w++){m=e[w],b=y[w];for(S=E+1;S<=A;S++)m[S]-=2*b[S-E-1]}g=Array(A-E);for(w=E+1;w<=A;w++)g[w-E-1]=d[w];y=numeric.tensor(o,numeric.dot(o,g));for(w=E+1;w<=A;w++){v=d[w],b=y[w-E-1];for(S=0;S<i;S++)v[S]-=2*b[S]}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,n){var r=numeric.toUpperHessenberg(t),i=numeric.QRFrancis(r.H,n),s=numeric.T,o=t.length,u,a,f=!1,l=i.B,c=numeric.dot(i.Q,numeric.dot(r.H,numeric.transpose(i.Q))),h=new s(numeric.dot(i.Q,r.Q)),p,d=l.length,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A=Math.sqrt;for(a=0;a<d;a++){u=l[a][0];if(u!==l[a][1]){v=u+1,m=c[u][u],g=c[u][v],y=c[v][u],b=c[v][v];if(g===0&&y===0)continue;w=-m-b,E=m*b-g*y,S=w*w-4*E,S>=0?(w<0?x=-0.5*(w-A(S)):x=-0.5*(w+A(S)),k=(m-x)*(m-x)+g*g,L=y*y+(b-x)*(b-x),k>L?(k=A(k),N=(m-x)/k,C=g/k):(L=A(L),N=y/L,C=(b-x)/L),p=new s([[C,-N],[N,C]]),h.setRows(u,v,p.dot(h.getRows(u,v)))):(x=-0.5*w,T=.5*A(-S),k=(m-x)*(m-x)+g*g,L=y*y+(b-x)*(b-x),k>L?(k=A(k+T*T),N=(m-x)/k,C=g/k,x=0,T/=k):(L=A(L+T*T),N=y/L,C=(b-x)/L,x=T/L,T=0),p=new s([[C,-N],[N,C]],[[x,T],[T,-x]]),h.setRows(u,v,p.dot(h.getRows(u,v))))}}var O=h.dot(t).dot(h.transjugate()),o=t.length,M=numeric.T.identity(o);for(v=0;v<o;v++)if(v>0)for(a=v-1;a>=0;a--){var _=O.get([a,a]),D=O.get([v,v]);if(!numeric.neq(_.x,D.x)&&!numeric.neq(_.y,D.y)){M.setRow(v,M.getRow(a));continue}x=O.getRow(a).getBlock([a],[v-1]),T=M.getRow(v).getBlock([a],[v-1]),M.set([v,a],O.get([a,v]).neg().sub(x.dot(T)).div(_.sub(D)))}for(v=0;v<o;v++)x=M.getRow(v),M.setRow(v,x.div(x.norm2()));return M=M.transpose(),M=h.transjugate().dot(M),{lambda:O.getDiag(),E:M}},numeric.ccsSparse=function(t){var n=t.length,r,i,s,o,u=[];for(s=n-1;s!==-1;--s){i=t[s];for(o in i){o=parseInt(o);while(o>=u.length)u[u.length]=0;i[o]!==0&&u[o]++}}var r=u.length,a=Array(r+1);a[0]=0;for(s=0;s<r;++s)a[s+1]=a[s]+u[s];var f=Array(a[r]),l=Array(a[r]);for(s=n-1;s!==-1;--s){i=t[s];for(o in i)i[o]!==0&&(u[o]--,f[a[o]+u[o]]=s,l[a[o]+u[o]]=i[o])}return[a,f,l]},numeric.ccsFull=function(t){var n=t[0],r=t[1],i=t[2],s=numeric.ccsDim(t),o=s[0],u=s[1],a,f,l,c,h,p=numeric.rep([o,u],0);for(a=0;a<u;a++){l=n[a],c=n[a+1];for(f=l;f<c;++f)p[r[f]][a]=i[f]}return p},numeric.ccsTSolve=function(t,n,r,i,s){function h(e){var t;if(r[e]!==0)return;r[e]=1;for(t=o[e];t<o[e+1];++t)h(u[t]);s[c]=e,++c}var o=t[0],u=t[1],a=t[2],f=o.length-1,l=Math.max,c=0;typeof i=="undefined"&&(r=numeric.rep([f],0)),typeof i=="undefined"&&(i=numeric.linspace(0,r.length-1)),typeof s=="undefined"&&(s=[]);var p,d,v,m,g,y,b,w,E;for(p=i.length-1;p!==-1;--p)h(i[p]);s.length=c;for(p=s.length-1;p!==-1;--p)r[s[p]]=0;for(p=i.length-1;p!==-1;--p)d=i[p],r[d]=n[d];for(p=s.length-1;p!==-1;--p){d=s[p],v=o[d],m=l(o[d+1],v);for(g=v;g!==m;++g)if(u[g]===d){r[d]/=a[g];break}E=r[d];for(g=v;g!==m;++g)y=u[g],y!==d&&(r[y]-=E*a[g])}return r},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,n,r,i,s,o){var u=0,a,f=s.length,l=this.k,c=this.k1,h=this.j,p,d;if(i[t]!==0)return;i[t]=1,h[0]=t,l[0]=p=n[t],c[0]=d=n[t+1];for(;;)if(p>=d){s[f]=h[u];if(u===0)return;++f,--u,p=l[u],d=c[u]}else a=o[r[p]],i[a]===0?(i[a]=1,l[u]=p,++u,h[u]=a,p=n[a],c[u]=d=n[a+1]):++p},numeric.ccsLPSolve=function(t,n,r,i,s,o,u){var a=t[0],f=t[1],l=t[2],c=a.length-1,h=0,p=n[0],d=n[1],v=n[2],m,g,y,b,w,E,S,x,T,N,C,k;g=p[s],y=p[s+1],i.length=0;for(m=g;m<y;++m)u.dfs(o[d[m]],a,f,r,i,o);for(m=i.length-1;m!==-1;--m)r[i[m]]=0;for(m=g;m!==y;++m)b=o[d[m]],r[b]=v[m];for(m=i.length-1;m!==-1;--m){b=i[m],E=a[b],S=a[b+1];for(x=E;x<S;++x)if(o[f[x]]===b){r[b]/=l[x];break}k=r[b];for(x=E;x<S;++x)T=o[f[x]],T!==b&&(r[T]-=k*l[x])}return r},numeric.ccsLUP1=function(t,n){var r=t[0].length-1,i=[numeric.rep([r+1],0),[],[]],s=[numeric.rep([r+1],0),[],[]],o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2],h=numeric.rep([r],0),p=numeric.rep([r],0),d,v,m,g,y,b,w,E,S,x,T=numeric.ccsLPSolve,N=Math.max,C=Math.abs,k=numeric.linspace(0,r-1),L=numeric.linspace(0,r-1),A=new numeric.ccsDFS(r);typeof n=="undefined"&&(n=1);for(d=0;d<r;++d){T(i,t,h,p,d,L,A),b=-1,w=-1;for(v=p.length-1;v!==-1;--v){m=p[v];if(m<=d)continue;E=C(h[m]),E>b&&(w=m,b=E)}C(h[d])<n*b&&(v=k[d],b=k[w],k[d]=b,L[b]=d,k[w]=v,L[v]=w,b=h[d],h[d]=h[w],h[w]=b),b=o[d],w=f[d],S=h[d],u[b]=k[d],a[b]=1,++b;for(v=p.length-1;v!==-1;--v)m=p[v],E=h[m],p[v]=0,h[m]=0,m<=d?(l[w]=m,c[w]=E,++w):(u[b]=k[m],a[b]=E/S,++b);o[d+1]=b,f[d+1]=w}for(v=u.length-1;v!==-1;--v)u[v]=L[u[v]];return{L:i,U:s,P:k,Pinv:L}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,n,r,i,s,o,u){var a=0,f,l=s.length,c=this.k,h=this.k1,p=this.j,d,v;if(i[t]!==0)return;i[t]=1,p[0]=t,c[0]=d=n[o[t]],h[0]=v=n[o[t]+1];for(;;){if(isNaN(d))throw new Error("Ow!");if(d>=v){s[l]=o[p[a]];if(a===0)return;++l,--a,d=c[a],v=h[a]}else f=r[d],i[f]===0?(i[f]=1,c[a]=d,++a,p[a]=f,f=o[f],d=n[f],h[a]=v=n[f+1]):++d}},numeric.ccsLPSolve0=function(t,n,r,i,s,o,u,a){var f=t[0],l=t[1],c=t[2],h=f.length-1,p=0,d=n[0],v=n[1],m=n[2],g,y,b,w,E,S,x,T,N,C,k,L;y=d[s],b=d[s+1],i.length=0;for(g=y;g<b;++g)a.dfs(v[g],f,l,r,i,o,u);for(g=i.length-1;g!==-1;--g)w=i[g],r[u[w]]=0;for(g=y;g!==b;++g)w=v[g],r[w]=m[g];for(g=i.length-1;g!==-1;--g){w=i[g],N=u[w],S=f[w],x=f[w+1];for(T=S;T<x;++T)if(l[T]===N){r[N]/=c[T];break}L=r[N];for(T=S;T<x;++T)r[l[T]]-=L*c[T];r[N]=L}},numeric.ccsLUP0=function(t,n){var r=t[0].length-1,i=[numeric.rep([r+1],0),[],[]],s=[numeric.rep([r+1],0),[],[]],o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2],h=numeric.rep([r],0),p=numeric.rep([r],0),d,v,m,g,y,b,w,E,S,x,T=numeric.ccsLPSolve0,N=Math.max,C=Math.abs,k=numeric.linspace(0,r-1),L=numeric.linspace(0,r-1),A=new numeric.ccsDFS0(r);typeof n=="undefined"&&(n=1);for(d=0;d<r;++d){T(i,t,h,p,d,L,k,A),b=-1,w=-1;for(v=p.length-1;v!==-1;--v){m=p[v];if(m<=d)continue;E=C(h[k[m]]),E>b&&(w=m,b=E)}C(h[k[d]])<n*b&&(v=k[d],b=k[w],k[d]=b,L[b]=d,k[w]=v,L[v]=w),b=o[d],w=f[d],S=h[k[d]],u[b]=k[d],a[b]=1,++b;for(v=p.length-1;v!==-1;--v)m=p[v],E=h[k[m]],p[v]=0,h[k[m]]=0,m<=d?(l[w]=m,c[w]=E,++w):(u[b]=k[m],a[b]=E/S,++b);o[d+1]=b,f[d+1]=w}for(v=u.length-1;v!==-1;--v)u[v]=L[u[v]];return{L:i,U:s,P:k,Pinv:L}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,n,r){var i=numeric.ccsDim(t),s=i[0],o=i[1];typeof n=="undefined"?n=numeric.linspace(0,s-1):typeof n=="number"&&(n=[n]),typeof r=="undefined"?r=numeric.linspace(0,o-1):typeof r=="number"&&(r=[r]);var u,a,f,l=n.length,c,h=r.length,p,d,v,m=numeric.rep([o],0),g=[],y=[],b=[m,g,y],w=t[0],E=t[1],S=t[2],x=numeric.rep([s],0),T=0,N=numeric.rep([s],0);for(c=0;c<h;++c){d=r[c];var C=w[d],k=w[d+1];for(u=C;u<k;++u)p=E[u],N[p]=1,x[p]=S[u];for(u=0;u<l;++u)v=n[u],N[v]&&(g[T]=u,y[T]=x[n[u]],++T);for(u=C;u<k;++u)p=E[u],N[p]=0;m[c+1]=T}return b},numeric.ccsDot=function(t,n){var r=t[0],i=t[1],s=t[2],o=n[0],u=n[1],a=n[2],f=numeric.ccsDim(t),l=numeric.ccsDim(n),c=f[0],h=f[1],p=l[1],d=numeric.rep([c],0),v=numeric.rep([c],0),m=Array(c),g=numeric.rep([p],0),y=[],b=[],w=[g,y,b],E,S,x,T,N,C,k,L,A,O,M;for(x=0;x!==p;++x){T=o[x],N=o[x+1],A=0;for(S=T;S<N;++S){O=u[S],M=a[S],C=r[O],k=r[O+1];for(E=C;E<k;++E)L=i[E],v[L]===0&&(m[A]=L,v[L]=1,A+=1),d[L]=d[L]+s[E]*M}T=g[x],N=T+A,g[x+1]=N;for(S=A-1;S!==-1;--S)M=T+S,E=m[S],y[M]=E,b[M]=d[E],v[E]=0,d[E]=0;g[x+1]=g[x]+A}return w},numeric.ccsLUPSolve=function(t,n){var r=t.L,i=t.U,s=t.P,o=n[0],u=!1;typeof o!="object"&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],o=n[0],u=!0);var a=n[1],f=n[2],l=r[0].length-1,c=o.length-1,h=numeric.rep([l],0),p=Array(l),d=numeric.rep([l],0),v=Array(l),m=numeric.rep([c+1],0),g=[],y=[],b=numeric.ccsTSolve,w,E,S,x,T,N,C=0;for(w=0;w<c;++w){T=0,S=o[w],x=o[w+1];for(E=S;E<x;++E)N=t.Pinv[a[E]],v[T]=N,d[N]=f[E],++T;v.length=T,b(r,d,h,v,p);for(E=v.length-1;E!==-1;--E)d[v[E]]=0;b(i,h,d,p,v);if(u)return d;for(E=p.length-1;E!==-1;--E)h[p[E]]=0;for(E=v.length-1;E!==-1;--E)N=v[E],g[C]=N,y[C]=d[N],d[N]=0,++C;m[w+1]=C}return[m,g,y]},numeric.ccsbinop=function(t,n){return typeof n=="undefined"&&(n=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+n+"for(i=0;i<n;++i) {\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Xj[j];\n"+"    x[k] = 1;\n"+"    Zj[p] = k;\n"+"    ++p;\n"+"  }\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Yj[j];\n"+"    y[k] = Yv[j];\n"+"    if(x[k] === 0) {\n"+"      Zj[p] = k;\n"+"      ++p;\n"+"    }\n"+"  }\n"+"  Zi[i+1] = p;\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n"+"  j0 = Zi[i]; j1 = Zi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Zj[j];\n"+"    xk = x[k];\n"+"    yk = y[k];\n"+t+"\n"+"    Zv[j] = zk;\n"+"  }\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n"+"}\n"+"return [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+";\n"+'if(typeof Y === "number") return '+B+";\n"+"return "+C+";\n")}(),numeric.ccsScatter=function(t){var n=t[0],r=t[1],i=t[2],s=numeric.sup(r)+1,o=n.length,u=numeric.rep([s],0),a=Array(o),f=Array(o),l=numeric.rep([s],0),c;for(c=0;c<o;++c)l[r[c]]++;for(c=0;c<s;++c)u[c+1]=u[c]+l[c];var h=u.slice(0),p,d;for(c=0;c<o;++c)d=r[c],p=h[d],a[p]=n[c],f[p]=i[c],h[d]=h[d]+1;return[u,a,f]},numeric.ccsGather=function(t){var n=t[0],r=t[1],i=t[2],s=n.length-1,o=r.length,u=Array(o),a=Array(o),f=Array(o),l,c,h,p,d;d=0;for(l=0;l<s;++l){h=n[l],p=n[l+1];for(c=h;c!==p;++c)a[d]=l,u[d]=r[c],f[d]=i[c],++d}return[u,a,f]},numeric.sdim=function dim(e,t,n){typeof t=="undefined"&&(t=[]);if(typeof e!="object")return t;typeof n=="undefined"&&(n=0),n in t||(t[n]=0),e.length>t[n]&&(t[n]=e.length);var r;for(r in e)e.hasOwnProperty(r)&&dim(e[r],t,n+1);return t},numeric.sclone=function clone(e,t,n){typeof t=="undefined"&&(t=0),typeof n=="undefined"&&(n=numeric.sdim(e).length);var r,i=Array(e.length);if(t===n-1){for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}for(r in e)e.hasOwnProperty(r)&&(i[r]=clone(e[r],t+1,n));return i},numeric.sdiag=function(t){var n=t.length,r,i=Array(n),s,o,u;for(r=n-1;r>=1;r-=2)s=r-1,i[r]=[],i[r][r]=t[r],i[s]=[],i[s][s]=t[s];return r===0&&(i[0]=[],i[0][0]=t[r]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var n=[],r=t.length,i,s,o;for(i in t){if(!t.hasOwnProperty(i))continue;o=t[i];for(s in o){if(!o.hasOwnProperty(s))continue;typeof n[s]!="object"&&(n[s]=[]),n[s][i]=o[s]}}return n},numeric.sLUP=function(t,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,n){var r=t.length,i=n.length,s=numeric.stranspose(n),o=s.length,u,a,f,l,c,h,p=Array(r),d;for(f=r-1;f>=0;f--){d=[],u=t[f];for(c=o-1;c>=0;c--){h=0,a=s[c];for(l in u){if(!u.hasOwnProperty(l))continue;l in a&&(h+=u[l]*a[l])}h&&(d[c]=h)}p[f]=d}return p},numeric.sdotMV=function(t,n){var r=t.length,i,s,o,u=Array(r),a;for(s=r-1;s>=0;s--){i=t[s],a=0;for(o in i){if(!i.hasOwnProperty(o))continue;n[o]&&(a+=i[o]*n[o])}a&&(u[s]=a)}return u},numeric.sdotVM=function(t,n){var r,i,s,o,u=[],a;for(r in t){if(!t.hasOwnProperty(r))continue;s=n[r],o=t[r];for(i in s){if(!s.hasOwnProperty(i))continue;u[i]||(u[i]=0),u[i]+=o*s[i]}}return u},numeric.sdotVV=function(t,n){var r,i=0;for(r in t)t[r]&&n[r]&&(i+=t[r]*n[r]);return i},numeric.sdot=function(t,n){var r=numeric.sdim(t).length,i=numeric.sdim(n).length,s=r*1e3+i;switch(s){case 0:return t*n;case 1001:return numeric.sdotVV(t,n);case 2001:return numeric.sdotMV(t,n);case 1002:return numeric.sdotVM(t,n);case 2002:return numeric.sdotMM(t,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+i)}},numeric.sscatter=function(t){var n=t[0].length,r,i,s,o=t.length,u=[],a;for(i=n-1;i>=0;--i){if(!t[o-1][i])continue;a=u;for(s=0;s<o-2;s++)r=t[s][i],a[r]||(a[r]=[]),a=a[r];a[t[s][i]]=t[s+1][i]}return u},numeric.sgather=function gather(e,t,n){typeof t=="undefined"&&(t=[]),typeof n=="undefined"&&(n=[]);var r,i,s;r=n.length;for(i in e)if(e.hasOwnProperty(i)){n[r]=parseInt(i),s=e[i];if(typeof s=="number"){if(s){if(t.length===0)for(i=r+1;i>=0;--i)t[i]=[];for(i=r;i>=0;--i)t[i].push(n[i]);t[r+1].push(s)}}else gather(s,t,n)}return n.length>r&&n.pop(),t},numeric.cLU=function(t){var n=t[0],r=t[1],i=t[2],s=n.length,o=0,u,a,f,l,c,h;for(u=0;u<s;u++)n[u]>o&&(o=n[u]);o++;var p=Array(o),d=Array(o),v=numeric.rep([o],Infinity),m=numeric.rep([o],-Infinity),g,y,b;for(f=0;f<s;f++)u=n[f],a=r[f],a<v[u]&&(v[u]=a),a>m[u]&&(m[u]=a);for(u=0;u<o-1;u++)m[u]>m[u+1]&&(m[u+1]=m[u]);for(u=o-1;u>=1;u--)v[u]<v[u-1]&&(v[u-1]=v[u]);var w=0,E=0;for(u=0;u<o;u++)d[u]=numeric.rep([m[u]-v[u]+1],0),p[u]=numeric.rep([u-v[u]],0),w+=u-v[u]+1,E+=m[u]-u+1;for(f=0;f<s;f++)u=n[f],d[u][r[f]-v[u]]=i[f];for(u=0;u<o-1;u++){l=u-v[u],g=d[u];for(a=u+1;v[a]<=u&&a<o;a++){c=u-v[a],h=m[u]-u,y=d[a],b=y[c]/g[l];if(b){for(f=1;f<=h;f++)y[f+c]-=b*g[f+l];p[a][u-v[a]]=b}}}var g=[],y=[],S=[],x=[],T=[],N=[],s,C,k;s=0,C=0;for(u=0;u<o;u++){l=v[u],c=m[u],k=d[u];for(a=u;a<=c;a++)k[a-l]&&(g[s]=u,y[s]=a,S[s]=k[a-l],s++);k=p[u];for(a=l;a<u;a++)k[a-l]&&(x[C]=u,T[C]=a,N[C]=k[a-l],C++);x[C]=u,T[C]=u,N[C]=1,C++}return{U:[g,y,S],L:[x,T,N]}},numeric.cLUsolve=function(t,n){var r=t.L,i=t.U,s=numeric.clone(n),o=r[0],u=r[1],a=r[2],f=i[0],l=i[1],c=i[2],h=f.length,p=o.length,d=s.length
,v,m,g;g=0;for(v=0;v<d;v++){while(u[g]<v)s[v]-=a[g]*s[u[g]],g++;g++}g=h-1;for(v=d-1;v>=0;v--){while(l[g]>v)s[v]-=c[g]*s[l[g]],g--;s[v]/=c[g],g--}return s},numeric.cgrid=function(t,n){typeof t=="number"&&(t=[t,t]);var r=numeric.rep(t,-1),i,s,o;if(typeof n!="function")switch(n){case"L":n=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:n=function(e,t){return!0}}o=0;for(i=1;i<t[0]-1;i++)for(s=1;s<t[1]-1;s++)n(i,s)&&(r[i][s]=o,o++);return r},numeric.cdelsq=function(t){var n=[[-1,0],[0,-1],[0,1],[1,0]],r=numeric.dim(t),i=r[0],s=r[1],o,u,a,f,l,c=[],h=[],p=[];for(o=1;o<i-1;o++)for(u=1;u<s-1;u++){if(t[o][u]<0)continue;for(a=0;a<4;a++){f=o+n[a][0],l=u+n[a][1];if(t[f][l]<0)continue;c.push(t[o][u]),h.push(t[f][l]),p.push(-1)}c.push(t[o][u]),h.push(t[o][u]),p.push(4)}return[c,h,p]},numeric.cdotMV=function(t,n){var r,i=t[0],s=t[1],o=t[2],u,a=i.length,f;f=0;for(u=0;u<a;u++)i[u]>f&&(f=i[u]);f++,r=numeric.rep([f],0);for(u=0;u<a;u++)r[i[u]]+=o[u]*n[s[u]];return r},numeric.Spline=function(t,n,r,i,s){this.x=t,this.yl=n,this.yr=r,this.kl=i,this.kr=s},numeric.Spline.prototype._at=function(t,n){var r=this.x,i=this.yl,s=this.yr,o=this.kl,u=this.kr,t,a,f,l,c=numeric.add,h=numeric.sub,p=numeric.mul;a=h(p(o[n],r[n+1]-r[n]),h(s[n+1],i[n])),f=c(p(u[n+1],r[n]-r[n+1]),h(s[n+1],i[n])),l=(t-r[n])/(r[n+1]-r[n]);var d=l*(1-l);return c(c(c(p(1-l,i[n]),p(l,s[n+1])),p(a,d*(1-l))),p(f,d*l))},numeric.Spline.prototype.at=function(t){if(typeof t=="number"){var n=this.x,r=n.length,i,s,o,u=Math.floor,a,f,l;i=0,s=r-1;while(s-i>1)o=u((i+s)/2),n[o]<=t?i=o:s=o;return this._at(t,i)}var r=t.length,c,h=Array(r);for(c=r-1;c!==-1;--c)h[c]=this.at(t[c]);return h},numeric.Spline.prototype.diff=function(){var t=this.x,n=this.yl,r=this.yr,i=this.kl,s=this.kr,o=n.length,u,a,f,l=i,c=s,h=Array(o),p=Array(o),d=numeric.add,v=numeric.mul,m=numeric.div,g=numeric.sub;for(u=o-1;u!==-1;--u)a=t[u+1]-t[u],f=g(r[u+1],n[u]),h[u]=m(d(v(f,6),v(i[u],-4*a),v(s[u+1],-2*a)),a*a),p[u+1]=m(d(v(f,-6),v(i[u],2*a),v(s[u+1],4*a)),a*a);return new numeric.Spline(t,l,c,h,p)},numeric.Spline.prototype.roots=function(){function t(e){return e*e}function n(e,t,n,r,i){var s=n*2-(t-e),o=-r*2+(t-e),u=(i+1)*.5,a=u*(1-u);return(1-u)*e+u*t+s*a*(1-u)+o*a*u}var r=[],i=this.x,s=this.yl,o=this.yr,u=this.kl,a=this.kr;typeof s[0]=="number"&&(s=[s],o=[o],u=[u],a=[a]);var f=s.length,l=i.length-1,c,h,p,d,v,m,g,y,b,w,r=Array(f),E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F=Math.sqrt;for(c=0;c!==f;++c){g=s[c],y=o[c],b=u[c],w=a[c],E=[];for(h=0;h!==l;h++){h>0&&y[h]*g[h]<0&&E.push(i[h]),A=i[h+1]-i[h],O=i[h],T=g[h],N=y[h+1],S=b[h]/A,x=w[h+1]/A,L=t(S-x+3*(T-N))+12*x*T,C=x+3*T+2*S-3*N,k=3*(x+S+2*(T-N)),L<=0?(_=C/k,_>i[h]&&_<i[h+1]?M=[i[h],_,i[h+1]]:M=[i[h],i[h+1]]):(_=(C-F(L))/k,D=(C+F(L))/k,M=[i[h]],_>i[h]&&_<i[h+1]&&M.push(_),D>i[h]&&D<i[h+1]&&M.push(D),M.push(i[h+1])),H=M[0],_=this._at(H,h);for(p=0;p<M.length-1;p++){B=M[p+1],D=this._at(B,h);if(_===0){E.push(H),H=B,_=D;continue}if(D===0||_*D>0){H=B,_=D;continue}var I=0;for(;;){j=(_*B-D*H)/(_-D);if(j<=H||j>=B)break;P=this._at(j,h);if(P*D>0)B=j,D=P,I===-1&&(_*=.5),I=-1;else{if(!(P*_>0))break;H=j,_=P,I===1&&(D*=.5),I=1}}E.push(j),H=M[p+1],_=this._at(H,h)}D===0&&E.push(B)}r[c]=E}return typeof this.yl[0]=="number"?r[0]:r},numeric.spline=function(t,n,r,i){var s=t.length,o=[],u=[],a=[],f,l=numeric.sub,c=numeric.mul,h=numeric.add;for(f=s-2;f>=0;f--)u[f]=t[f+1]-t[f],a[f]=l(n[f+1],n[f]);if(typeof r=="string"||typeof i=="string")r=i="periodic";var p=[[],[],[]];switch(typeof r){case"undefined":o[0]=c(3/(u[0]*u[0]),a[0]),p[0].push(0,0),p[1].push(0,1),p[2].push(2/u[0],1/u[0]);break;case"string":o[0]=h(c(3/(u[s-2]*u[s-2]),a[s-2]),c(3/(u[0]*u[0]),a[0])),p[0].push(0,0,0),p[1].push(s-2,0,1),p[2].push(1/u[s-2],2/u[s-2]+2/u[0],1/u[0]);break;default:o[0]=r,p[0].push(0),p[1].push(0),p[2].push(1)}for(f=1;f<s-1;f++)o[f]=h(c(3/(u[f-1]*u[f-1]),a[f-1]),c(3/(u[f]*u[f]),a[f])),p[0].push(f,f,f),p[1].push(f-1,f,f+1),p[2].push(1/u[f-1],2/u[f-1]+2/u[f],1/u[f]);switch(typeof i){case"undefined":o[s-1]=c(3/(u[s-2]*u[s-2]),a[s-2]),p[0].push(s-1,s-1),p[1].push(s-2,s-1),p[2].push(1/u[s-2],2/u[s-2]);break;case"string":p[1][p[1].length-1]=0;break;default:o[s-1]=i,p[0].push(s-1),p[1].push(s-1),p[2].push(1)}typeof o[0]!="number"?o=numeric.transpose(o):o=[o];var d=Array(o.length);if(typeof r=="string")for(f=d.length-1;f!==-1;--f)d[f]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(p)),o[f]),d[f][s-1]=d[f][0];else for(f=d.length-1;f!==-1;--f)d[f]=numeric.cLUsolve(numeric.cLU(p),o[f]);return typeof n[0]=="number"?d=d[0]:d=numeric.transpose(d),new numeric.Spline(t,n,n,d,d)},numeric.fftpow2=function fftpow2(e,t){var n=e.length;if(n===1)return;var r=Math.cos,i=Math.sin,s,o,u=Array(n/2),a=Array(n/2),f=Array(n/2),l=Array(n/2);o=n/2;for(s=n-1;s!==-1;--s)--o,f[o]=e[s],l[o]=t[s],--s,u[o]=e[s],a[o]=t[s];fftpow2(u,a),fftpow2(f,l),o=n/2;var c,h=-6.283185307179586/n,p,d;for(s=n-1;s!==-1;--s)--o,o===-1&&(o=n/2-1),c=h*s,p=r(c),d=i(c),e[s]=u[o]+p*f[o]-d*l[o],t[s]=a[o]+p*l[o]+d*f[o]},numeric._ifftpow2=function _ifftpow2(e,t){var n=e.length;if(n===1)return;var r=Math.cos,i=Math.sin,s,o,u=Array(n/2),a=Array(n/2),f=Array(n/2),l=Array(n/2);o=n/2;for(s=n-1;s!==-1;--s)--o,f[o]=e[s],l[o]=t[s],--s,u[o]=e[s],a[o]=t[s];_ifftpow2(u,a),_ifftpow2(f,l),o=n/2;var c,h=6.283185307179586/n,p,d;for(s=n-1;s!==-1;--s)--o,o===-1&&(o=n/2-1),c=h*s,p=r(c),d=i(c),e[s]=u[o]+p*f[o]-d*l[o],t[s]=a[o]+p*l[o]+d*f[o]},numeric.ifftpow2=function(t,n){numeric._ifftpow2(t,n),numeric.diveq(t,t.length),numeric.diveq(n,n.length)},numeric.convpow2=function(t,n,r,i){numeric.fftpow2(t,n),numeric.fftpow2(r,i);var s,o=t.length,u,a,f,l;for(s=o-1;s!==-1;--s)u=t[s],f=n[s],a=r[s],l=i[s],t[s]=u*a-f*l,n[s]=u*l+f*a;numeric.ifftpow2(t,n)},numeric.T.prototype.fft=function(){var t=this.x,n=this.y,r=t.length,i=Math.log,s=i(2),o=Math.ceil(i(2*r-1)/s),u=Math.pow(2,o),a=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,c=Math.sin,h,p=-3.141592653589793/r,d,v=numeric.rep([u],0),m=numeric.rep([u],0),g=Math.floor(r/2);for(h=0;h<r;h++)v[h]=t[h];if(typeof n!="undefined")for(h=0;h<r;h++)m[h]=n[h];a[0]=1;for(h=1;h<=u/2;h++)d=p*h*h,a[h]=l(d),f[h]=c(d),a[u-h]=l(d),f[u-h]=c(d);var y=new numeric.T(v,m),b=new numeric.T(a,f);return y=y.mul(b),numeric.convpow2(y.x,y.y,numeric.clone(b.x),numeric.neg(b.y)),y=y.mul(b),y.x.length=r,y.y.length=r,y},numeric.T.prototype.ifft=function(){var t=this.x,n=this.y,r=t.length,i=Math.log,s=i(2),o=Math.ceil(i(2*r-1)/s),u=Math.pow(2,o),a=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,c=Math.sin,h,p=3.141592653589793/r,d,v=numeric.rep([u],0),m=numeric.rep([u],0),g=Math.floor(r/2);for(h=0;h<r;h++)v[h]=t[h];if(typeof n!="undefined")for(h=0;h<r;h++)m[h]=n[h];a[0]=1;for(h=1;h<=u/2;h++)d=p*h*h,a[h]=l(d),f[h]=c(d),a[u-h]=l(d),f[u-h]=c(d);var y=new numeric.T(v,m),b=new numeric.T(a,f);return y=y.mul(b),numeric.convpow2(y.x,y.y,numeric.clone(b.x),numeric.neg(b.y)),y=y.mul(b),y.x.length=r,y.y.length=r,y.div(r)},numeric.gradient=function(t,n){var r=n.length,i=t(n);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var s=Math.max,o,u=numeric.clone(n),a,f,l=Array(r),c=numeric.div,h=numeric.sub,p,d,s=Math.max,v=.001,m=Math.abs,g=Math.min,y,b,w,E=0,S,x,T;for(o=0;o<r;o++){var N=s(1e-6*i,1e-8);for(;;){++E;if(E>20)throw new Error("Numerical gradient fails");u[o]=n[o]+N,a=t(u),u[o]=n[o]-N,f=t(u),u[o]=n[o];if(isNaN(a)||isNaN(f)){N/=16;continue}l[o]=(a-f)/(2*N),y=n[o]-N,b=n[o],w=n[o]+N,S=(a-i)/N,x=(i-f)/N,T=s(m(l[o]),m(i),m(a),m(f),m(y),m(b),m(w),1e-8),p=g(s(m(S-l[o]),m(x-l[o]),m(S-x))/T,N/T);if(!(p>v))break;N/=16}}return l},numeric.uncmin=function(t,n,r,i,s,o,u){var a=numeric.gradient;typeof u=="undefined"&&(u={}),typeof r=="undefined"&&(r=1e-8),typeof i=="undefined"&&(i=function(e){return a(t,e)}),typeof s=="undefined"&&(s=1e3),n=numeric.clone(n);var f=n.length,l=t(n),c,h;if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var p=Math.max,d=numeric.norm2;r=p(r,numeric.epsilon);var v,m,g,y=u.Hinv||numeric.identity(f),b=numeric.dot,w=numeric.inv,E=numeric.sub,S=numeric.add,x=numeric.tensor,T=numeric.div,N=numeric.mul,C=numeric.all,k=numeric.isFinite,L=numeric.neg,A=0,O,M,_,D,P,H,B,j,F,I,q,R,U="";m=i(n);while(A<s){if(typeof o=="function"&&o(A,n,l,m,y)){U="Callback returned true";break}if(!C(k(m))){U="Gradient has Infinity or NaN";break}v=L(b(y,m));if(!C(k(v))){U="Search direction has Infinity or NaN";break}I=d(v);if(I<r){U="Newton step smaller than tol";break}F=1,h=b(m,v),_=n;while(A<s){if(F*I<r)break;M=N(v,F),_=S(n,M),c=t(_);if(c-l>=.1*F*h||isNaN(c)){F*=.5,++A;continue}break}if(F*I<r){U="Line search step size smaller than tol";break}if(A===s){U="maxit reached during line search";break}g=i(_),D=E(g,m),B=b(D,M),P=b(y,D),y=E(S(y,N((B+b(D,P))/(B*B),x(M,M))),T(S(x(P,M),x(M,P)),B)),n=_,l=c,m=g,++A}return{solution:n,f:l,gradient:m,invHessian:y,iterations:A,message:U}},numeric.Dopri=function(t,n,r,i,s,o,u){this.x=t,this.y=n,this.f=r,this.ymid=i,this.iterations=s,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(t,n){function r(e){return e*e}var i=this,s=i.x,o=i.y,u=i.f,a=i.ymid,f=s.length,l,c,h,p,d,v,t,m=Math.floor,g,y=.5,b=numeric.add,w=numeric.mul,E=numeric.sub,S,x,T;return l=s[n],c=s[n+1],p=o[n],d=o[n+1],g=c-l,h=l+y*g,v=a[n],S=E(u[n],w(p,1/(l-h)+2/(l-c))),x=E(u[n+1],w(d,1/(c-h)+2/(c-l))),T=[r(t-c)*(t-h)/r(l-c)/(l-h),r(t-l)*r(t-c)/r(l-h)/r(c-h),r(t-l)*(t-h)/r(c-l)/(c-h),(t-l)*r(t-c)*(t-h)/r(l-c)/(l-h),(t-c)*r(t-l)*(t-h)/r(l-c)/(c-h)],b(b(b(b(w(p,T[0]),w(v,T[1])),w(d,T[2])),w(S,T[3])),w(x,T[4]))},numeric.Dopri.prototype.at=function(t){var n,r,i,s=Math.floor;if(typeof t!="number"){var o=t.length,u=Array(o);for(n=o-1;n!==-1;--n)u[n]=this.at(t[n]);return u}var a=this.x;n=0,r=a.length-1;while(r-n>1)i=s(.5*(n+r)),a[i]<=t?n=i:r=i;return this._at(t,n)},numeric.dopri=function(t,n,r,i,s,o,u){typeof s=="undefined"&&(s=1e-6),typeof o=="undefined"&&(o=1e3);var a=[t],f=[r],l=[i(t,r)],c,h,p,d,v,m,g=[],y=.2,b=[.075,.225],w=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],x=[35/384,0,500/1113,125/192,-2187/6784,11/84],T=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],N=[.2,.3,.8,8/9,1,1],C=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],k=0,L,A,O=(n-t)/10,M=0,_=numeric.add,D=numeric.mul,P,H,B=Math.max,j=Math.min,F=Math.abs,I=numeric.norminf,q=Math.pow,R=numeric.any,U=numeric.lt,z=numeric.and,W=numeric.sub,X,V,$,J=new numeric.Dopri(a,f,l,g,-1,"");typeof u=="function"&&(X=u(t,r));while(t<n&&M<o){++M,t+O>n&&(O=n-t),c=i(t+N[0]*O,_(r,D(y*O,l[k]))),h=i(t+N[1]*O,_(_(r,D(b[0]*O,l[k])),D(b[1]*O,c))),p=i(t+N[2]*O,_(_(_(r,D(w[0]*O,l[k])),D(w[1]*O,c)),D(w[2]*O,h))),d=i(t+N[3]*O,_(_(_(_(r,D(E[0]*O,l[k])),D(E[1]*O,c)),D(E[2]*O,h)),D(E[3]*O,p))),v=i(t+N[4]*O,_(_(_(_(_(r,D(S[0]*O,l[k])),D(S[1]*O,c)),D(S[2]*O,h)),D(S[3]*O,p)),D(S[4]*O,d))),P=_(_(_(_(_(r,D(l[k],O*x[0])),D(h,O*x[2])),D(p,O*x[3])),D(d,O*x[4])),D(v,O*x[5])),m=i(t+O,P),L=_(_(_(_(_(D(l[k],O*C[0]),D(h,O*C[2])),D(p,O*C[3])),D(d,O*C[4])),D(v,O*C[5])),D(m,O*C[6])),typeof L=="number"?H=F(L):H=I(L);if(H>s){O=.2*O*q(s/H,.25);if(t+O===t){J.msg="Step size became too small";break}continue}g[k]=_(_(_(_(_(_(r,D(l[k],O*T[0])),D(h,O*T[2])),D(p,O*T[3])),D(d,O*T[4])),D(v,O*T[5])),D(m,O*T[6])),++k,a[k]=t+O,f[k]=P,l[k]=m;if(typeof u=="function"){var K,Q=t,G=t+.5*O,Y;V=u(G,g[k-1]),$=z(U(X,0),U(0,V)),R($)||(Q=G,G=t+O,X=V,V=u(G,P),$=z(U(X,0),U(0,V)));if(R($)){var Z,et,tt,nt,rt=0,it=1,st=1;for(;;){if(typeof X=="number")Y=(st*V*Q-it*X*G)/(st*V-it*X);else{Y=G;for(A=X.length-1;A!==-1;--A)X[A]<0&&V[A]>0&&(Y=j(Y,(st*V[A]*Q-it*X[A]*G)/(st*V[A]-it*X[A])))}if(Y<=Q||Y>=G)break;K=J._at(Y,k-1),nt=u(Y,K),tt=z(U(X,0),U(0,nt)),R(tt)?(G=Y,V=nt,$=tt,st=1,rt===-1?it*=.5:it=1,rt=-1):(Q=Y,X=nt,it=1,rt===1?st*=.5:st=1,rt=1)}return P=J._at(.5*(t+Y),k-1),J.f[k]=i(Y,K),J.x[k]=Y,J.y[k]=K,J.ymid[k-1]=P,J.events=$,J.iterations=M,J}}t+=O,r=P,X=V,O=j(.8*O*q(s/H,.25),4*O)}return J.iterations=M,J},numeric.LU=function(e,t){t=t||!1;var n=Math.abs,r,i,s,o,u,a,f,l,c,h=e.length,p=h-1,d=new Array(h);t||(e=numeric.clone(e));for(s=0;s<h;++s){f=s,a=e[s],c=n(a[s]);for(i=s+1;i<h;++i)o=n(e[i][s]),c<o&&(c=o,f=i);d[s]=f,f!=s&&(e[s]=e[f],e[f]=a,a=e[s]),u=a[s];for(r=s+1;r<h;++r)e[r][s]/=u;for(r=s+1;r<h;++r){l=e[r];for(i=s+1;i<p;++i)l[i]-=l[s]*a[i],++i,l[i]-=l[s]*a[i];i===p&&(l[i]-=l[s]*a[i])}}return{LU:e,P:d}},numeric.LUsolve=function(t,n){var r,i,s=t.LU,o=s.length,u=numeric.clone(n),a=t.P,f,l,c,h;for(r=o-1;r!==-1;--r)u[r]=n[r];for(r=0;r<o;++r){f=a[r],a[r]!==r&&(h=u[r],u[r]=u[f],u[f]=h),l=s[r];for(i=0;i<r;++i)u[r]-=u[i]*l[i]}for(r=o-1;r>=0;--r){l=s[r];for(i=r+1;i<o;++i)u[r]-=u[i]*l[i];u[r]/=l[r]}return u},numeric.solve=function(t,n,r){return numeric.LUsolve(numeric.LU(t,r),n)},numeric.echelonize=function(t){var n=numeric.dim(t),r=n[0],i=n[1],s=numeric.identity(r),o=Array(r),u,a,f,l,c,h,p,d,v=Math.abs,m=numeric.diveq;t=numeric.clone(t);for(u=0;u<r;++u){f=0,c=t[u],h=s[u];for(a=1;a<i;++a)v(c[f])<v(c[a])&&(f=a);o[u]=f,m(h,c[f]),m(c,c[f]);for(a=0;a<r;++a)if(a!==u){p=t[a],d=p[f];for(l=i-1;l!==-1;--l)p[l]-=c[l]*d;p=s[a];for(l=r-1;l!==-1;--l)p[l]-=h[l]*d}}return{I:s,A:t,P:o}},numeric.__solveLP=function(t,n,r,i,s,o,u){var a=numeric.sum,f=numeric.log,l=numeric.mul,c=numeric.sub,h=numeric.dot,p=numeric.div,d=numeric.add,v=t.length,m=r.length,g,y=!1,b,w=0,E=1,S,x,T=numeric.transpose(n),N=numeric.svd,C=numeric.transpose,k=numeric.leq,L=Math.sqrt,A=Math.abs,O=numeric.muleq,M=numeric.norminf,_=numeric.any,D=Math.min,P=numeric.all,H=numeric.gt,B=Array(v),j=Array(m),F=numeric.rep([m],1),I,q=numeric.solve,R=c(r,h(n,o)),U,z=h(t,t),W;for(U=w;U<s;++U){var X,V,$;for(X=m-1;X!==-1;--X)j[X]=p(n[X],R[X]);var J=C(j);for(X=v-1;X!==-1;--X)B[X]=a(J[X]);E=.25*A(z/h(t,B));var K=100*L(z/h(B,B));if(!isFinite(E)||E>K)E=K;W=d(t,l(E,B)),I=h(J,j);for(X=v-1;X!==-1;--X)I[X][X]+=1;$=q(I,p(W,E),!0);var Q=p(R,h(n,$)),G=1;for(X=m-1;X!==-1;--X)Q[X]<0&&(G=D(G,-0.999*Q[X]));g=c(o,l($,G)),R=c(r,h(n,g));if(!P(H(R,0)))return{solution:o,message:"",iterations:U};o=g;if(E<i)return{solution:g,message:"",iterations:U};if(u){var Y=h(t,W),Z=h(n,W);y=!0;for(X=m-1;X!==-1;--X)if(Y*Z[X]<0){y=!1;break}}else o[v-1]>=0?y=!1:y=!0;if(y)return{solution:g,message:"Unbounded",iterations:U}}return{solution:o,message:"maximum iteration count exceeded",iterations:U}},numeric._solveLP=function(t,n,r,i,s){var o=t.length,u=r.length,a,f=numeric.sum,l=numeric.log,c=numeric.mul,h=numeric.sub,p=numeric.dot,d=numeric.div,v=numeric.add,m=numeric.rep([o],0).concat([1]),g=numeric.rep([u,1],-1),y=numeric.blockMatrix([[n,g]]),b=r,a=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),w=numeric.__solveLP(m,y,b,i,s,a,!1),E=numeric.clone(w.solution);E.length=o;var S=numeric.inf(h(r,p(n,E)));if(S<0)return{solution:NaN,message:"Infeasible",iterations:w.iterations};var x=numeric.__solveLP(t,n,r,i,s-w.iterations,E,!0);return x.iterations+=w.iterations,x},numeric.solveLP=function(t,n,r,i,s,o,u){typeof u=="undefined"&&(u=1e3),typeof o=="undefined"&&(o=numeric.epsilon);if(typeof i=="undefined")return numeric._solveLP(t,n,r,o,u);var a=i.length,f=i[0].length,l=n.length,c=numeric.echelonize(i),h=numeric.rep([f],0),p=c.P,d=[],v;for(v=p.length-1;v!==-1;--v)h[p[v]]=1;for(v=f-1;v!==-1;--v)h[v]===0&&d.push(v);var m=numeric.getRange,g=numeric.linspace(0,a-1),y=numeric.linspace(0,l-1),b=m(i,g,d),w=m(n,y,p),E=m(n,y,d),S=numeric.dot,x=numeric.sub,T=S(w,c.I),N=x(E,S(T,b)),C=x(r,S(T,s)),k=Array(p.length),L=Array(d.length);for(v=p.length-1;v!==-1;--v)k[v]=t[p[v]];for(v=d.length-1;v!==-1;--v)L[v]=t[d[v]];var A=x(L,S(k,S(c.I,b))),O=numeric._solveLP(A,N,C,o,u),M=O.solution;if(M!==M)return O;var _=S(c.I,x(s,S(b,M))),D=Array(t.length);for(v=p.length-1;v!==-1;--v)D[p[v]]=_[v];for(v=d.length-1;v!==-1;--v)D[d[v]]=M[v];return{solution:D,message:O.message,iterations:O.iterations}},numeric.MPStoLP=function(t){function y(e){throw new Error("MPStoLP: "+e+"\nLine "+s+": "+t[s]+"\nCurrent state: "+r[n]+"\n")}t instanceof String&&t.split("\n");var n=0,r=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],i=t.length,s,o,u,a=0,f={},l=[],c=0,h={},p=0,d,v=[],m=[],g=[];for(s=0;s<i;++s){u=t[s];var b=u.match(/\S*/g),w=[];for(o=0;o<b.length;++o)b[o]!==""&&w.push(b[o]);if(w.length===0)continue;for(o=0;o<r.length;++o)if(u.substr(0,r[o].length)===r[o])break;if(o<r.length){n=o,o===1&&(d=w[1]);if(o===6)return{name:d,c:v,A:numeric.transpose(m),b:g,rows:f,vars:h};continue}switch(n){case 0:case 1:y("Unexpected line");case 2:switch(w[0]){case"N":a===0?a=w[1]:y("Two or more N rows");break;case"L":f[w[1]]=c,l[c]=1,g[c]=0,++c;break;case"G":f[w[1]]=c,l[c]=-1,g[c]=0,++c;break;case"E":f[w[1]]=c,l[c]=0,g[c]=0,++c;break;default:y("Parse error "+numeric.prettyPrint(w))}break;case 3:h.hasOwnProperty(w[0])||(h[w[0]]=p,v[p]=0,m[p]=numeric.rep([c],0),++p);var E=h[w[0]];for(o=1;o<w.length;o+=2){if(w[o]===a){v[E]=parseFloat(w[o+1]);continue}var S=f[w[o]];m[E][S]=(l[S]<0?-1:1)*parseFloat(w[o+1])}break;case 4:for(o=1;o<w.length;o+=2)g[f[w[o]]]=(l[f[w[o]]]<0?-1:1)*parseFloat(w[o+1]);break;case 5:break;case 6:y("Internal error")}}y("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,t,n,r,i,s,o){function u(e){var t,r,i=this,s=e.length,o=0,u=i.i=i.j=i.m=0;i.S=[],i.c=[],s||(e=[s++]);while(o<n)i.S[o]=o++;for(o=0;o<n;o++)t=i.S[o],u=l(u+t+e[o%s]),r=i.S[u],i.S[o]=r,i.S[u]=t;i.g=function(t){var r=i.S,s=l(i.i+1),o=r[s],u=l(i.j+o),a=r[u];r[s]=a,r[u]=o;var f=r[l(o+a)];while(--t)s=l(s+1),o=r[s],u=l(u+o),a=r[u],r[s]=a,r[u]=o,f=f*n+r[l(o+a)];return i.i=s,i.j=u,f},i.g(n)}function a(e,t,n,r,i){n=[],i=typeof e;if(t&&i=="object")for(r in e)if(r.indexOf("S")<5)try{n.push(a(e[r],t-1))}catch(s){}return n.length?n:e+(i!="string"?"\0":"")}function f(e,t,n,r){e+="",n=0;for(r=0;r<e.length;r++)t[l(r)]=l((n^=t[l(r)]*19)+e.charCodeAt(r));e="";for(r in t)e+=String.fromCharCode(t[r]);return e}function l(e){return e&n-1}t.seedrandom=function(c,h){var p=[],d;return c=f(a(h?[c,e]:arguments.length?c:[(new Date).getTime(),e,window],3),p),d=new u(p),f(d.S,e),t.random=function(){var t=d.g(r),u=o,a=0;while(t<i)t=(t+a)*n,u*=n,a=d.g(1);while(t>=s)t/=2,u/=2,a>>>=1;return(t+a)/u},c},o=t.pow(n,r),i=t.pow(2,i),s=i*2,f(t.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function t(e){if(typeof e!="object")return e;var n=[],r,i=e.length;for(r=0;r<i;r++)n[r+1]=t(e[r]);return n}function n(e){if(typeof e!="object")return e;var t=[],r,i=e.length;for(r=1;r<i;r++)t[r-1]=n(e[r]);return t}function r(e,t,n){var r,i,s,o,u;for(s=1;s<=n;s+=1){e[s][s]=1/e[s][s],u=-e[s][s];for(r=1;r<s;r+=1)e[r][s]=u*e[r][s];o=s+1;if(n<o)break;for(i=o;i<=n;i+=1){u=e[s][i],e[s][i]=0;for(r=1;r<=s;r+=1)e[r][i]=e[r][i]+u*e[r][s]}}}function i(e,t,n,r){var i,s,o,u;for(s=1;s<=n;s+=1){u=0;for(i=1;i<s;i+=1)u+=e[i][s]*r[i];r[s]=(r[s]-u)/e[s][s]}for(o=1;o<=n;o+=1){s=n+1-o,r[s]=r[s]/e[s][s],u=-r[s];for(i=1;i<s;i+=1)r[i]=r[i]+u*e[i][s]}}function s(e,t,n,r){var i,s,o,u,a,f;for(s=1;s<=n;s+=1){r[1]=s,f=0,o=s-1;if(o<1){f=e[s][s]-f;if(f<=0)break;e[s][s]=Math.sqrt(f)}else{for(u=1;u<=o;u+=1){a=e[u][s];for(i=1;i<u;i+=1)a-=e[i][s]*e[i][u];a/=e[u][u],e[u][s]=a,f+=a*a}f=e[s][s]-f;if(f<=0)break;e[s][s]=Math.sqrt(f)}r[1]=0}}function o(e,t,n,o,u,a,f,l,c,h,p,d,v,m,g,y){function V(){m[1]=m[1]+1,E=L;for(b=1;b<=h;b+=1){E+=1,P=-l[b];for(w=1;w<=o;w+=1)P+=f[w][b]*u[w];Math.abs(P)<U&&(P=0);if(b>p)g[E]=P;else{g[E]=-Math.abs(P);if(P>0){for(w=1;w<=o;w+=1)f[w][b]=-f[w][b];l[b]=-l[b]}}}for(b=1;b<=v;b+=1)g[L+d[b]]=0;O=0,D=0;for(b=1;b<=h;b+=1)g[L+b]<D*g[_+b]&&(O=b,D=g[L+b]/g[_+b]);return O===0?999:0}function $(){for(b=1;b<=o;b+=1){P=0;for(w=1;w<=o;w+=1)P+=e[w][b]*f[w][O];g[b]=P}S=N;for(b=1;b<=o;b+=1)g[S+b]=0;for(w=v+1;w<=o;w+=1)for(b=1;b<=o;b+=1)g[S+b]=g[S+b]+e[b][w]*g[w];q=!0;for(b=v;b>=1;b-=1){P=g[b],E=k+b*(b+3)/2,S=E-b;for(w=b+1;w<=v;w+=1)P-=g[E]*g[C+w],E+=w;P/=g[S],g[C+b]=P;if(d[b]<p)break;if(P<0)break;q=!1,T=b}if(!q){H=g[A+T]/g[C+T];for(b=1;b<=v;b+=1){if(d[b]<p)break;if(g[C+b]<0)break;D=g[A+b]/g[C+b],D<H&&(H=D,T=b)}}P=0;for(b=N+1;b<=N+o;b+=1)P+=g[b]*g[b];if(Math.abs(P)<=U){if(q)return y[1]=1,999;for(b=1;b<=v;b+=1)g[A+b]=g[A+b]-H*g[C+b];return g[A+v+1]=g[A+v+1]+H,700}P=0;for(b=1;b<=o;b+=1)P+=g[N+b]*f[b][O];B=-g[L+O]/P,R=!0,q||H<B&&(B=H,R=!1);for(b=1;b<=o;b+=1)u[b]=u[b]+B*g[N+b],Math.abs(u[b])<U&&(u[b]=0);a[1]=a[1]+B*P*(B/2+g[A+v+1]);for(b=1;b<=v;b+=1)g[A+b]=g[A+b]-B*g[C+b];g[A+v+1]=g[A+v+1]+B;if(!R){P=-l[O];for(w=1;w<=o;w+=1)P+=u[w]*f[w][O];if(O>p)g[L+O]=P;else{g[L+O]=-Math.abs(P);if(P>0){for(w=1;w<=o;w+=1)f[w][O]=-f[w][O];l[O]=-l[O]}}return 700}v+=1,d[v]=O,E=k+(v-1)*v/2+1;for(b=1;b<=v-1;b+=1)g[E]=g[b],E+=1;if(v===o)g[E]=g[o];else{for(b=o;b>=v+1;b-=1){if(g[b]===0)break;j=Math.max(Math.abs(g[b-1]),Math.abs(g[b])),F=Math.min(Math.abs(g[b-1]),Math.abs(g[b])),g[b-1]>=0?D=Math.abs(j*Math.sqrt(1+F*F/(j*j))):D=-Math.abs(j*Math.sqrt(1+F*F/(j*j))),j=g[b-1]/D,F=g[b]/D;if(j===1)break;if(j===0){g[b-1]=F*D;for(w=1;w<=o;w+=1)D=e[w][b-1],e[w][b-1]=e[w][b],e[w][b]=D}else{g[b-1]=D,I=F/(1+j);for(w=1;w<=o;w+=1)D=j*e[w][b-1]+F*e[w][b],e[w][b]=I*(e[w][b-1]+D)-e[w][b],e[w][b-1]=D}}g[E]=g[v]}return 0}function J(){E=k+T*(T+1)/2+1,S=E+T;if(g[S]===0)return 798;j=Math.max(Math.abs(g[S-1]),Math.abs(g[S])),F=Math.min(Math.abs(g[S-1]),Math.abs(g[S])),g[S-1]>=0?D=Math.abs(j*Math.sqrt(1+F*F/(j*j))):D=-Math.abs(j*Math.sqrt(1+F*F/(j*j))),j=g[S-1]/D,F=g[S]/D;if(j===1)return 798;if(j===0){for(b=T+1;b<=v;b+=1)D=g[S-1],g[S-1]=g[S],g[S]=D,S+=b;for(b=1;b<=o;b+=1)D=e[b][T],e[b][T]=e[b][T+1],e[b][T+1]=D}else{I=F/(1+j);for(b=T+1;b<=v;b+=1)D=j*g[S-1]+F*g[S],g[S]=I*(g[S-1]+D)-g[S],g[S-1]=D,S+=b;for(b=1;b<=o;b+=1)D=j*e[b][T]+F*e[b][T+1],e[b][T+1]=I*(e[b][T]+D)-e[b][T+1],e[b][T]=D}return 0}function K(){S=E-T;for(b=1;b<=T;b+=1)g[S]=g[E],E+=1,S+=1;return g[A+T]=g[A+T+1],d[T]=d[T+1],T+=1,T<v?797:0}function Q(){return g[A+v]=g[A+v+1],g[A+v+1]=0,d[v]=0,v-=1,m[2]=m[2]+1,0}var b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X;M=Math.min(o,h),E=2*o+M*(M+5)/2+2*h+1,U=1e-60;do U+=U,z=1+.1*U,W=1+.2*U;while(z<=1||W<=1);for(b=1;b<=o;b+=1)g[b]=t[b];for(b=o+1;b<=E;b+=1)g[b]=0;for(b=1;b<=h;b+=1)d[b]=0;x=[];if(y[1]===0){s(e,n,o,x);if(x[1]!==0){y[1]=2;return}i(e,n,o,t),r(e,n,o)}else{for(w=1;w<=o;w+=1){u[w]=0;for(b=1;b<=w;b+=1)u[w]=u[w]+e[b][w]*t[b]}for(w=1;w<=o;w+=1){t[w]=0;for(b=w;b<=o;b+=1)t[w]=t[w]+e[w][b]*u[b]}}a[1]=0;for(w=1;w<=o;w+=1){u[w]=t[w],a[1]=a[1]+g[w]*u[w],g[w]=0;for(b=w+1;b<=o;b+=1)e[b][w]=0}a[1]=-a[1]/2,y[1]=0,N=o,C=N+o,A=C+M,k=A+M+1,L=k+M*(M+1)/2,_=L+h;for(b=1;b<=h;b+=1){P=0;for(w=1;w<=o;w+=1)P+=f[w][b]*f[w][b];g[_+b]=Math.sqrt(P)}v=0,m[1]=0,m[2]=0,X=0;for(;;){X=V();if(X===999)return;for(;;){X=$();if(X===0)break;if(X===999)return;if(X===700)if(T===v)Q();else{for(;;){J(),X=K();if(X!==797)break}Q()}}}}function u(e,r,i,s,u,a){e=t(e),r=t(r),i=t(i);var f,l,c,h,p,d=[],v=[],m=[],g=[],y=[],b;u=u||0,a=a?t(a):[undefined,0],s=s?t(s):[],l=e.length-1,c=i[1].length-1;if(!s)for(f=1;f<=c;f+=1)s[f]=0;for(f=1;f<=c;f+=1)v[f]=0;h=0,p=Math.min(l,c);for(f=1;f<=l;f+=1)m[f]=0;d[1]=0;for(f=1;f<=2*l+p*(p+5)/2+2*c+1;f+=1)g[f]=0;for(f=1;f<=2;f+=1)y[f]=0;return o(e,r,l,l,m,d,i,s,l,c,u,v,h,y,g,a),b="",a[1]===1&&(b="constraints are inconsistent, no solution!"),a[1]===2&&(b="matrix D in quadratic function is not positive definite!"),{solution:n(m),value:n(d),unconstrained_solution:n(r),iterations:n(y),iact:n(v),message:b}}e.solveQP=u}(numeric),numeric.svd=function(t){function g(e,t){return e=Math.abs(e),t=Math.abs(t),e>t?e*Math.sqrt(1+t*t/e/e):t==0?e:t*Math.sqrt(1+e*e/t/t)}var n,r=numeric.epsilon,i=1e-64/r,s=50,o=0,u=0,a=0,f=0,l=0,c=numeric.clone(t),h=c.length,p=c[0].length;if(h<p)throw"Need more rows than columns";var d=new Array(p),v=new Array(p);for(u=0;u<p;u++)d[u]=v[u]=0;var m=numeric.rep([p,p],0),y=0,b=0,w=0,E=0,S=0,x=0,T=0;for(u=0;u<p;u++){d[u]=b,T=0,l=u+1;for(a=u;a<h;a++)T+=c[a][u]*c[a][u];if(T<=i)b=0;else{y=c[u][u],b=Math.sqrt(T),y>=0&&(b=-b),w=y*b-T,c[u][u]=y-b;for(a=l;a<p;a++){T=0;for(f=u;f<h;f++)T+=c[f][u]*c[f][a];y=T/w;for(f=u;f<h;f++)c[f][a]+=y*c[f][u]}}v[u]=b,T=0;for(a=l;a<p;a++)T+=c[u][a]*c[u][a];if(T<=i)b=0;else{y=c[u][u+1],b=Math.sqrt(T),y>=0&&(b=-b),w=y*b-T,c[u][u+1]=y-b;for(a=l;a<p;a++)d[a]=c[u][a]/w;for(a=l;a<h;a++){T=0;for(f=l;f<p;f++)T+=c[a][f]*c[u][f];for(f=l;f<p;f++)c[a][f]+=T*d[f]}}S=Math.abs(v[u])+Math.abs(d[u]),S>E&&(E=S)}for(u=p-1;u!=-1;u+=-1){if(b!=0){w=b*c[u][u+1];for(a=l;a<p;a++)m[a][u]=c[u][a]/w;for(a=l;a<p;a++){T=0;for(f=l;f<p;f++)T+=c[u][f]*m[f][a];for(f=l;f<p;f++)m[f][a]+=T*m[f][u]}}for(a=l;a<p;a++)m[u][a]=0,m[a][u]=0;m[u][u]=1,b=d[u],l=u}for(u=p-1;u!=-1;u+=-1){l=u+1,b=v[u];for(a=l;a<p;a++)c[u][a]=0;if(b!=0){w=c[u][u]*b;for(a=l;a<p;a++){T=0;for(f=l;f<h;f++)T+=c[f][u]*c[f][a];y=T/w;for(f=u;f<h;f++)c[f][a]+=y*c[f][u]}for(a=u;a<h;a++)c[a][u]=c[a][u]/b}else for(a=u;a<h;a++)c[a][u]=0;c[u][u]+=1}r*=E;for(f=p-1;f!=-1;f+=-1)for(var N=0;N<s;N++){var C=!1;for(l=f;l!=-1;l+=-1){if(Math.abs(d[l])<=r){C=!0;break}if(Math.abs(v[l-1])<=r)break}if(!C){o=0,T=1;var k=l-1;for(u=l;u<f+1;u++){y=T*d[u],d[u]=o*d[u];if(Math.abs(y)<=r)break;b=v[u],w=g(y,b),v[u]=w,o=b/w,T=-y/w;for(a=0;a<h;a++)S=c[a][k],x=c[a][u],c[a][k]=S*o+x*T,c[a][u]=-S*T+x*o}}x=v[f];if(l==f){if(x<0){v[f]=-x;for(a=0;a<p;a++)m[a][f]=-m[a][f]}break}if(N>=s-1)throw"Error: no convergence.";E=v[l],S=v[f-1],b=d[f-1],w=d[f],y=((S-x)*(S+x)+(b-w)*(b+w))/(2*w*S),b=g(y,1),y<0?y=((E-x)*(E+x)+w*(S/(y-b)-w))/E:y=((E-x)*(E+x)+w*(S/(y+b)-w))/E,o=1,T=1;for(u=l+1;u<f+1;u++){b=d[u],S=v[u],w=T*b,b=o*b,x=g(y,w),d[u-1]=x,o=y/x,T=w/x,y=E*o+b*T,b=-E*T+b*o,w=S*T,S*=o;for(a=0;a<p;a++)E=m[a][u-1],x=m[a][u],m[a][u-1]=E*o+x*T,m[a][u]=-E*T+x*o;x=g(y,w),v[u-1]=x,o=y/x,T=w/x,y=o*b+T*S,E=-T*b+o*S;for(a=0;a<h;a++)S=c[a][u-1],x=c[a][u],c[a][u-1]=S*o+x*T,c[a][u]=-S*T+x*o}d[l]=0,d[f]=y,v[f]=E}for(u=0;u<v.length;u++)v[u]<r&&(v[u]=0);for(u=0;u<p;u++)for(a=u-1;a>=0;a--)if(v[a]<v[u]){o=v[a],v[a]=v[u],v[u]=o;for(f=0;f<c.length;f++)n=c[f][u],c[f][u]=c[f][a],c[f][a]=n;for(f=0;f<m.length;f++)n=m[f][u],m[f][u]=m[f][a],m[f][a]=n;u=a}return{U:c,S:v,V:m}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],87:[function(e,t,n){function r(e){this._comparator=e||r.DEFAULT_COMPARATOR,this._elements=[]}t.exports=r,r.DEFAULT_COMPARATOR=function(e,t){return typeof e=="number"&&typeof t=="number"?e-t:(e=e.toString(),t=t.toString(),e==t?0:e>t?1:-1)},r.prototype.isEmpty=function(){return this.size()===0},r.prototype.peek=function(){if(this.isEmpty())throw new Error("PriorityQueue is empty");return this._elements[0]},r.prototype.deq=function(){var e=this.peek(),t=this._elements.pop(),n=this.size();if(n===0)return e;this._elements[0]=t;var r=0;while(r<n){var i=r,s=2*r+1,o=2*r+2;s<n&&this._compare(s,i)>=0&&(i=s),o<n&&this._compare(o,i)>=0&&(i=o);if(i===r)break;this._swap(i,r),r=i}return e},r.prototype.enq=function(e){var t=this._elements.push(e),n=t-1;while(n>0){var r=Math.floor((n-1)/2);if(this._compare(n,r)<=0)break;this._swap(r,n),n=r}return t},r.prototype.size=function(){return this._elements.length},r.prototype.forEach=function(e){return this._elements.forEach(e)},r.prototype._compare=function(e,t){return this._comparator(this._elements[e],this._elements[t])},r.prototype._swap=function(e,t){var n=this._elements[e];this._elements[e]=this._elements[t],this._elements[t]=n}},{}],88:[function(e,t,n){(function(){function N(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=g(r,s,4);var o=!T(n)&&m.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function L(e){return function(t,n,r){n=y(n,r);var i=x(t),s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function A(e,t,n){return function(r,i,s){var o=0,u=x(r);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+u,o):u=s>=0?Math.min(s+1,u):s+u+1;else if(n&&s&&u)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(a.call(r,o,u),m.isNaN),s>=0?s+o:-1;for(s=e>0?o:u-1;s>=0&&s<u;s+=e)if(r[s]===i)return s;return-1}}function D(e,t){var n=_.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||s,o="constructor";m.has(e,o)&&!m.contains(t,o)&&t.push(o);while(n--)o=_[n],o in e&&e[o]!==i[o]&&!m.contains(t,o)&&t.push(o)}var e=this,r=e._,i=Array.prototype,s=Object.prototype,o=Function.prototype,u=i.push,a=i.slice,f=s.toString,l=s.hasOwnProperty,c=Array.isArray,h=Object.keys,p=o.bind,d=Object.create,v=function(){},m=function(e){if(e instanceof m)return e;if(!(this instanceof m))return new m(e);this._wrapped=e};typeof n!="undefined"?(typeof t!="undefined"&&t.exports&&(n=t.exports=m),n._=m):e._=m,m.VERSION="1.8.3";var g=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return e==null?m.identity:m.isFunction(e)?g(e,t,n):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=function(e,t){return y(e,t,Infinity)};var b=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},w=function(e){if(!m.isObject(e))return{};if(d)return d(e);v.prototype=e;var t=new v;return v.prototype=null,t},E=function(e){return function(t){return t==null?void 0:t[e]}},S=Math.pow(2,53)-1,x=E("length"),T=function(e){var t=x(e);return typeof t=="number"&&t>=0&&t<=S};m.each=m.forEach=function(e,t,n){t=g(t,n);var r,i;if(T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=m.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},m.map=m.collect=function(e,t,n){t=y(t,n);var r=!T(e)&&m.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},m.reduce=m.foldl=m.inject=N(1),m.reduceRight=m.foldr=N(-1),m.find=m.detect=function(e,t,n){var r;T(e)?r=m.findIndex(e,t,n):r=m.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=y(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},m.reject=function(e,t,n){return m.filter(e,m.negate(y(t)),n)},m.every=m.all=function(e,t,n){t=y(t,n);var r=!T(e)&&m.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},m.some=m.any=function(e,t,n){t=y(t,n);var r=!T(e)&&m.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){T(e)||(e=m.values(e));if(typeof n!="number"||r)n=0;return m.indexOf(e,t,n)>=0},m.invoke=function(e,t){var n=a.call(arguments,2),r=m.isFunction(t);return m.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=T(e)?e:m.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=y(t,n),m.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},m.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=T(e)?e:m.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=y(t,n),m.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},m.shuffle=function(e){var t=T(e)?e:m.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=m.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},m.sample=function(e,t,n){return t==null||n?(T(e)||(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,n){return t=y(t,n),m.pluck(m.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,r){var i={};return n=y(n,r),m.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};m.groupBy=C(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=C(function(e,t,n){e[n]=t}),m.countBy=C(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1}),m.toArray=function(e){return e?m.isArray(e)?a.call(e):T(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return e==null?0:T(e)?e.length:m.keys(e).length},m.partition=function(e,t,n){t=y(t,n);var r=[],i=[];return m.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},m.first=m.head=m.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},m.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return a.call(e,t==null||n?1:t)},m.compact=function(e){return m.filter(e,m.identity
)};var k=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=x(e);o<u;o++){var a=e[o];if(T(a)&&(m.isArray(a)||m.isArguments(a))){t||(a=k(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};m.flatten=function(e,t){return k(e,t,!1)},m.without=function(e){return m.difference(e,a.call(arguments,1))},m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=y(n,r));var i=[],s=[];for(var o=0,u=x(e);o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?m.contains(s,f)||(s.push(f),i.push(a)):m.contains(i,a)||i.push(a)}return i},m.union=function(){return m.uniq(k(arguments,!0,!0))},m.intersection=function(e){var t=[],n=arguments.length;for(var r=0,i=x(e);r<i;r++){var s=e[r];if(m.contains(t,s))continue;for(var o=1;o<n;o++)if(!m.contains(arguments[o],s))break;o===n&&t.push(s)}return t},m.difference=function(e){var t=k(arguments,!0,!0,1);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(e){var t=e&&m.max(e,x).length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.object=function(e,t){var n={};for(var r=0,i=x(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},m.findIndex=L(1),m.findLastIndex=L(-1),m.sortedIndex=function(e,t,n,r){n=y(n,r,1);var i=n(t),s=0,o=x(e);while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},m.indexOf=A(1,m.findIndex,m.sortedIndex),m.lastIndexOf=A(-1,m.findLastIndex),m.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var O=function(e,t,n,r,i){if(r instanceof t){var s=w(e.prototype),o=e.apply(s,i);return m.isObject(o)?o:s}return e.apply(n,i)};m.bind=function(e,t){if(p&&e.bind===p)return p.apply(e,a.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var n=a.call(arguments,2),r=function(){return O(e,r,t,this,n.concat(a.call(arguments)))};return r},m.partial=function(e){var t=a.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===m?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return O(e,n,this,this,s)};return n},m.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=m.bind(e[r],e);return e},m.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return m.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},m.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:m.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=m.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},m.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=m.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=m.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(e){if(!m.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return M&&D(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&D(e,t),t},m.values=function(e){var t=m.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=y(t,n);var r=m.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},m.pairs=function(e){var t=m.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){var t={},n=m.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()},m.extend=b(m.allKeys),m.extendOwn=m.assign=b(m.keys),m.findKey=function(e,t,n){t=y(t,n);var r=m.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},m.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;m.isFunction(t)?(o=m.allKeys(i),s=g(t,n)):(o=k(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},m.omit=function(e,t,n){if(m.isFunction(t))t=m.negate(t);else{var r=m.map(k(arguments,!1,!1,1),String);t=function(e,t){return!m.contains(r,t)}}return m.pick(e,t,n)},m.defaults=b(m.allKeys,!0),m.create=function(e,t){var n=w(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,u=t.constructor;if(o!==u&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var a=n.length;while(a--)if(n[a]===e)return r[a]===t;n.push(e),r.push(t);if(s){a=e.length;if(a!==t.length)return!1;while(a--)if(!P(e[a],t[a],n,r))return!1}else{var l=m.keys(e),c;a=l.length;if(m.keys(t).length!==a)return!1;while(a--){c=l[a];if(!m.has(t,c)||!P(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};m.isEqual=function(e,t){return P(e,t)},m.isEmpty=function(e){return e==null?!0:T(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?e.length===0:m.keys(e).length===0},m.isElement=function(e){return!!e&&e.nodeType===1},m.isArray=c||function(e){return f.call(e)==="[object Array]"},m.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){m["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(m.isFunction=function(e){return typeof e=="function"||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return e===!0||e===!1||f.call(e)==="[object Boolean]"},m.isNull=function(e){return e===null},m.isUndefined=function(e){return e===void 0},m.has=function(e,t){return e!=null&&l.call(e,t)},m.noConflict=function(){return e._=r,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=E,m.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=g(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=m.invert(H),j=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=j(H),m.unescape=j(B),m.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),m.isFunction(r)?r.call(e):r};var F=0;m.uniqueId=function(e){var t=++F+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+q[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r=RegExp([(t.escape||I).source,(t.interpolate||I).source,(t.evaluate||I).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(R,U),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,m)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},m.chain=function(e){var t=m(e);return t._chain=!0,t};var z=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),z(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],z(this,n)}}),m.each(["concat","join","slice"],function(e){var t=i[e];m.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return m})}).call(this)},{}],89:[function(e,t,n){"use strict";function u(e){var t=new o,n={};return r(e,{enter:function(e,r){switch(e.type){case i.Identifier:t.peek().contains(e.name)?e.heapRef=!1:(e.heapRef=!0,n[e.name]=!0);break;case i.FunctionExpression:var o=e.params.reduce(function(e,t){return e.add(t.name)},new s);e.params.length>1?t=t.push(o):t=t.pop().push(t.first().union(o));break;case i.VariableDeclarator:t=t.pop().push(t.first().add(e.id.name));break;default:}},leave:function(e,n){switch(e.type){case i.FunctionExpression:e.params.length>1&&(t=t.pop());break;default:}},keys:{FunctionExpression:["body"],ObjectExpression:["object"],VariableDeclarator:["init"]}}),function(e){return n[e]||!1}}var r=e("estraverse").traverse,i=e("estraverse").Syntax,s=e("immutable").Set,o=e("immutable").Stack;n.analyzeRefs=u,n.isHeapRef=function(e){return e.heapRef||!1}},{estraverse:83,immutable:85}],90:[function(e,t,n){"use strict";function T(e){return function(t){return t.add(e)}}function N(e){return function(t){return t.union(e)}}function C(e,t,n){return w(t)?e.update(t,new f,N(n)):e}function k(e,t,n){return e.update(t,new f,N(n))}function L(t,n,r){switch(r.type){case c.ArrayExpression:return f.of(new o(r.elements.map(function(e){return L(t,n,e)})));case c.BinaryExpression:if(r.operator==="+"||r.operator==="-")return f.of(new S({}));if(r.operator==="==")return f.of(!0,!1);throw console.log(L(t,n,r.left)),console.log(L(t,n,r.right)),new Error("Au: unhandled binary operator "+r.operator);case c.CallExpression:throw i.MemberExpression.check(r.callee)&&!r.callee.computed&&r.callee.property.name==="concat"?(console.log(L(t,n,r.callee.object)),console.log(L(t,n,r.callee.object)),23):(console.log(r),console.log(e("escodegen").generate(r)),12);case c.FunctionExpression:return f.of(r);case c.Identifier:var s=n.get(r.name,!1)||t.get(r.name,!1);if(!s){if(!x.hasOwnProperty(r.name))throw console.log(t),console.log(n),new Error("Au: unbound variable: "+r.name);s=f.of(x[r.name])}return s;case c.Literal:return f.of(r.value);default:throw console.log(r),new Error("Au: unimplemented type: "+r.type)}}function O(e,t,n){return i.VariableDeclaration.check(e)&&e.declarations.length===1?t({id:e.declarations[0].id.name,init:e.declarations[0].init}):n()}function M(e){e=e.reverse();var t=[],n={};for(var r=0;r<e.length;++r)n[e[r].id]||(t.push(e[r]),n[e[r].id]=!0);return t.reverse()}function P(e,t,n){return h(n,[p(m.sampleExp,function(n,r,i,s){return f.of(new _({store:e,environment:t,f:r,es:i,kont:s,label:n}))}),p(m.enumerateExp,function(n,r,i,s){return f.of(new _({store:e,environment:t,f:r,es:[],kont:s,label:n}))}),p(m.userCall,function(n,r,i,s){return f.of(new _({store:e,environment:t,f:r,es:i,kont:s,label:n}))}),p(m.contCall,function(n,r){var s=L(e,t,r);return i.Identifier.check(n)?f.of(new D({store:e,value:s,omega:r})):m.contExp(n,function(n,r){return t=k(t,n,v),e=C(e,n,v),P(e,t,r)},d("not a continuation lambda",n))}),p(m.condExp,function(n,r,i){var s=new f,n=L(e,t,n);return n.has(!0)&&(s=s.union(P(e,t,r))),n.has(!1)&&(s=s.union(P(e,t,i))),s})],d("no match for expression",n))}function H(e){return r(i.Program.check(e)),r(e.body.length===1),r(i.ExpressionStatement.check(e.body[0])),new A({store:new u,fun:e.body[0].expression,args:new o})}function B(e){function h(e,t){n=n.unshift(new E({car:e,cdr:t}))}function p(e,t,n){o=o.set(new E({car:e,cdr:n}),new E({car:e,cdr:t}))}function v(e,t){a=a.update(e,new f,T(t))}function g(e,t){a.get(e,new f).forEach(t)}function b(e,t,n){r=r.update(new E({car:n,cdr:n}),new f,T(new E({car:e,cdr:t})))}function S(e,t){r.get(new E({car:e,cdr:e}),new f).forEach(function(e){t(e.car,e.cdr)})}function x(e,t,n,r){s=s.update(new E({car:r,cdr:n}),new f,T(new E({car:t,cdr:e})))}function N(e,n,r,s){var o=new D({store:s.store,value:s.value,omega:n.label});x(s,r,o,e),p(e,n,o);if(i.Identifier.check(n.kont))h(e,o);else{t=t.add(new E({car:e,cdr:o}));var u=o.store,a=n.environment;i.Identifier.check(n.callee)&&w(n.callee.name)&&(a=a.set(n.callee.name,f.of(r.fun))),m.contExp(n.kont,function(t,n){a=k(a,t,o.value),u=C(u,t,o.value),P(u,a,n).forEach(function(t){p(e,o,t),h(e,t)})},d("continuation not a function expression",n.kont))}}function L(e,t,n){b(e,t,n),h(n,n),g(n,function(r){N(e,t,n,r)})}function O(e,t){v(e,t),S(e,function(n,r){N(n,r,e,t)})}w=y(e);var t=new f,n=new l,r=new u,s=new u,o=new u,a=new u,c=new f,M=H(e);n=n.unshift(new E({car:M,cdr:M}));while(n.size>0){var B=n.first();n=n.shift();if(!t.has(B)){t=t.add(B);var j=B.car,F=B.cdr;if(F instanceof A)F.succs().forEach(function(e){p(j,F,e),h(j,e)});else if(F instanceof _)F.succs().forEach(function(e){L(j,F,e)});else{if(!(F instanceof D))throw new Error("analyze: unhandled state "+F);O(j,F)}}}return{seen:t,calls:r,retrs:s,preds:o,summaries:a,finals:a.get(M,new f)}}var r=e("assert"),i=e("ast-types").namedTypes,s=e("ast-types").builders,o=e("immutable").List,u=e("immutable").Map,a=e("immutable").Record,f=e("immutable").Set,l=e("immutable").Stack,c=e("estraverse").Syntax,h=e("./match").match,p=e("./match").clause,d=e("../syntax").fail,m=e("./match-lang"),g=e("./parser-combinator"),y=e("./analyze-refs").analyzeRefs,b=e("./analyze-refs").isHeapRef,w=null,E=new a({car:null,cdr:null}),S=new a({type:"Num"}),x={bernoulliERP:function(t){return f.of(!0,!1)},uniformERP:function(t,n){return f.of(new S({}))}},A=new a({type:"Entr",store:null,fun:null,args:null});A.prototype.succs=function(){var e=this.store,t=this.args;return this.fun instanceof Function?f.of(new D({store:e,value:this.fun.apply(this.fun,t.toArray()),omega:"random"})):m.funcExp(this.fun,function(n,r){var s=new u,o=n.length;for(var a=0;a<o;++a)s=k(s,n[a],t.get(a)),e=C(e,n[a],t.get(a));var f=g.seq([g.rep(g.single(O)),g.item]);return g.bind(g.apply(f,function(t){var n=t[0],r=t[1];return n=M(n),n.forEach(function(t){var n=L(e,s,t.init);s=k(s,t.id,n),e=C(e,t.id,n)}),i.ExpressionStatement.check(r)?r.expression:d("not an expression statement",r)()}),g.finish)(r.body,0,function(t){return P(e,s,t)},d("failed to parse body",r.body))},d("not a function expression",this.fun))};var _=new a({type:"Call",store:null,environment:null,f:null,es:null,kont:null,label:null});_.prototype.succs=function(){var e=this.store,t=this.environment,n=(new o(this.es)).map(function(n){return L(e,t,n)});return L(e,t,this.f).map(function(t){return new A({store:e,fun:t,args:n})})};var D=new a({type:"Exit",store:null,value:null,omega:null});t.exports={analyze:B}},{"../syntax":106,"./analyze-refs":89,"./match":92,"./match-lang":91,"./parser-combinator":93,assert:114,"ast-types":15,escodegen:16,estraverse:83,immutable:85}],91:[function(e,t,n){"use strict";function i(e){return e.params[0].name}function s(e){return e.params.length===1}function o(e,t,n){return r.FunctionExpression.check(e)&&s(e)&&r.BlockStatement.check(e.body)&&r.ExpressionStatement.check(e.body.body[0])?t(i(e),e.body.body[0].expression):n()}function u(e){return e.params.slice(2).map(function(e){return e.name})}function a(e,t,n){return r.FunctionExpression.check(e)?s(e)?n():t(u(e),e.body):n()}function f(e,t,n){return r.ConditionalExpression.check(e)?t(e.test,e.consequent,e.alternate):n()}function l(e){return e.arguments.length===1}function c(e,t,n){return r.CallExpression.check(e)&&l(e)?t(e.callee,e.arguments[0]):n()}function h(e){return e.arguments[1].arguments[0].value}function p(e,t,n){return r.CallExpression.check(e)&&!l(e)?t(h(e),e.callee,e.arguments.slice(2),e.arguments[0]):n()}function d(e,t,n){return r.CallExpression.check(e)&&!l(e)&&r.Identifier.check(e.callee)&&e.callee.name==="sample"?t(h(e),e.arguments[2],e.arguments[3].elements,e.arguments[0]):n()}function v(e,t,n){return r.CallExpression.check(e)&&!l(e)&&r.Identifier.check(e.callee)&&e.callee.name==="Enumerate"?t(h(e),e.arguments[2],e.arguments[3],e.arguments[0]):n()}var r=e("ast-types").namedTypes;t.exports={condExp:f,contCall:c,contExp:o,funcExp:a,sampleExp:d,enumerateExp:v,userCall:p}},{"ast-types":15}],92:[function(e,t,n){"use strict";function r(e,t){return function(n,r){return e(n,t,r)}}function i(e,t,n){function r(i){return i===t.length?n():t[i](e,function(){return r(i+1)})}return r(0)}t.exports={clause:r,match:i}},{}],93:[function(e,t,n){"use strict";function r(){var e=arguments;return function(t,n,r,i){return n===t.length?r.apply(this,e):i()}}function i(e,t,n,r){return r()}function s(e,t,n,r){return t===e.length?r():n(e,t+1,e[t])}function o(){var e=arguments;return function(t,n,r,i){var s=[t,n];for(var n=0;n<e.length;++n)s.push(e[n]);return r.apply(this,s)}}function u(e,t){return function(n,r,i,s){return e(n,r,function(e,n){return t.apply(this,Array.prototype.slice.call(arguments,2))(e,n,i,s)},s)}}function a(e){function t(n,r,i,s){return u(e,o)(n,r,function(e,n,r){return t(e,n,function(e,t,n){return i(e,t,[r].concat(n))},s)},function(){return i(n,r,[])})}return t}function f(e){function t(n){return function(r,i,s,a){return n===e.length?s(r,i,[]):u(e[n],o)(r,i,function(e,r,i){return t(n+1)(e,r,function(e,t,n){return s(e,t,[i].concat(n))},a)},a)}}return t(0)}function l(e,t){return function(n,r,i,s){return e(n,r,i,function(){return i(n,r,t)})}}function c(e,t){return function(n,r,i,s){return e(n,r,function(e,n){return i(e,n,t.apply(this,Array.prototype.slice.call(arguments,2)))},s)}}function h(e){function t(n){return n===e.length?function(e,t,n,r){return r()}:function(r,i,s,o){return e[n](r,i,s,function(){return t(n+1)(r,i,s,o)})}}return t(0)}function p(e){return function(t,n,r,i){return s(t,n,function(t,n,s){return e(s,function(){return r.apply(this,Array.prototype.concat.apply([t,n],arguments))},i)},i)}}function d(e){return function(t,n,r){return e(t,function(e){return r()},function(){return n(42)})}}t.exports={finish:r,zero:i,item:s,result:o,bind:u,rep:a,seq:f,maybe:l,apply:c,or:h,single:p,not:d}},{}],94:[function(e,t,n){"use strict";function u(e,t,n){n=typeof n=="undefined"?{}:n,this.sample=e,this.score=t;for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r])}function c(e){var t=e[0],n=e[1],r,i,s,o,u;do r=1-Math.random(),i=1.7156*(Math.random()-.5),s=r-.449871,o=Math.abs(i)+.386595,u=s*s+o*(.196*o-.25472*s);while(u>=.27597&&(u>.27846||i*i>-4*r*r*Math.log(r)));return t+n*i/r}function h(e,t){var n=e[0],r=e[1];return-0.5*(o+2*Math.log(r)+(t-n)*(t-n)/(r*r))}function d(e){var t=e[0],n=e[1],i=t.map(function(){return c([0,1])}),s=r.svd(n),o=r.transpose(s.V).map(function(e){return r.mul(r.sqrt(s.S),e)});return i=r.dot(i,r.transpose(o)),r.add(i,t)}function v(e,t){var n=e[0],i=e[1],s=n.length,u=s*o+Math.log(r.det(i)),a=r.sub(t,n),f=r.dot(r.dot(a,r.inv(i)),a);return-0.5*(u+f)}function b(e){var t=e-1,n=t+5.5;n-=(t+.5)*Math.log(n);var r=1.000000000190015;for(var i=0;i<=5;i++)t++,r+=y[i]/t;return-n+Math.log(2.5066282746310007*r)}function w(e){var t=e[0],n=e[1];if(t<1)return w([1+t,n])*Math.pow(Math.random(),1/t);var r,i,s,o=t-1/3,u=1/Math.sqrt(9*o);for(;;){do r=c([0,1]),i=1+u*r;while(i<=0);i=i*i*i,s=Math.random();if(s<1-.331*r*r*r*r||Math.log(s)<.5*r*r+o*(1-i+Math.log(i)))return n*o*i}}function x(e,t){return b(e)+b(t)-b(e+t)}function T(e){var t=e[0],n=e[1],r=w([t,1]);return r/(r+w([n,1]))}function C(e){if(e===0)return 1;if(e===1)return 0;var t=1-e;return(1-e*e+2*e*Math.log(e))/(t*t)}function k(e){var t=e[0],n=e[1],r=0,i=10,s,o;while(n>i){s=1+n/2,o=1+n-s;var u=T([s,o]);u>=t?(n=s-1,t/=u):(r+=s,n=o-1,t=(t-u)/(1-u))}var a;for(var f=0;f<n;f++)a=Math.random(),a<t&&r++;return r||0}function A(e){var t=1;while(e>1)t*=e--;return t}function O(e){e<1&&(e=1);if(e<12)return Math.log(A(Math.round(e)));var t=1/e,n=t*t,r=n*t,i=r*n,s=i*n,o=(e+.5)*Math.log(e)-e;return o+=Math.log(2*Math.PI)/2,o+=t/12-r/360,o+=i/1260-s/1680,o}function _(e){var t=e,n=0,r=[],i;for(var s=0;s<t.length;s++)i=w([t[s],1]),r[s]=i,n+=i;for(var o=0;o<r.length;o++)r[o]/=n;return r}function D(e,t){var n=e,r=t,i=0;for(var s=0;s<n.length;s++)i+=n[s];var o=b(i);for(var u=0;u<n.length;u++)o+=(n[u]-1)*Math.log(r[u]),o-=b(n[u]);return o}function H(e){var t=s.sum(e),n=Math.random()*t,r=e.length,i=0;for(var o=0;o<r;o++){i+=e[o];if(i>=n)return o}return r}function B(e){var t=0,n=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];t+=i.prob,n.push(i.val)}var s={val:undefined,prob:0};for(r in e)if(e.hasOwnProperty(r)){var o=e[r],a=o.prob/t;a>s.prob&&(s={val:o.val,prob:a}),e[r].prob=a}var f=new u(function(t){var n=Math.random(),r=0;for(var i in e)if(e.hasOwnProperty(i)){r+=e[i].prob;if(r>=n)return e[i].val}return e[i].val},function(t,n){var r=e[JSON.stringify(n)];return r?Math.log(r.prob):-Infinity},{support:function(e){return n}});return f.MAP=s,f}var r=e("numeric"),i=e("underscore"),s=e("./util.js"),o=1.8378770664093453,a=new u(function(t){var n=Math.random();return(1-n)*t[0]+n*t[1]},function(t,n){return n<t[0]||n>t[1]?-Infinity:-Math.log(t[1]-t[0])}),f=new u(function(t){var n=t[0],r=Math.random()<n;return r},function(t,n){if(n!=1&&n!=0)return-Infinity;var r=t[0];return n?Math.log(r):Math.log(1-r)},{support:function(t){return[!0,!1]},grad:function(t,n){var r=t[0];return n?[1/r]:[-1/r]}}),l=new u(function(t){return Math.floor(Math.random()*t[0])},function(t,n){var r=t[0],i=n==Math.floor(n)&&0<=n&&n<r;return i?-Math.log(r):-Infinity},{support:function(t){return i.range(t[0])}}),p=new u(c,h),m=new u(d,v),g=new u(function(t){return H(t[0])},function(t,n){var r=s.normalizeArray(t[0]),i=r.length,o=n==Math.floor(n)&&0<=n&&n<i;return o?Math.log(r[n]):-Infinity},{support:function(t){return i.range(t[0].length)}}),y=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-0.000005395239384953],E=new u(w,function(t,n){var r=t[0],i=t[1],s=n;return(r-1)*Math.log(s)-s/i-b(r)-r*Math.log(i)}),S=new u(function(t){var n=t[0],r=Math.random();return Math.log(r)/(-1*n)},function(t,n){var r=t[0];return Math.log(r)-r*n}),N=new u(T,function(t,n){var r=t[0],i=t[1],s=n;return s>0&&s<1?(r-1)*Math.log(s)+(i-1)*Math.log(1-s)-x(r,i):-Infinity}),L=new u(k,function(t,n){var r=t[0],i=t[1];if(i>20&&i*r>5&&i*(1-r)>5){var s=n,o=.5,u=1/3,a=1/6;if(s>=i)return-Infinity;var f=1-r,l=s+o,c=i-s-o,p=s+a-(i+u)*r,d=f/(s+o)-r/(c+o)+(f-o)/(i+1);d=p+.02*d;var v=1+f*C(l/(i*r))+r*C(c/(i*f)),m=(i+a)*r*f,g=v/m,y=Math.sqrt(g);return g=d*y,h([0,1],g)+Math.log(y)}return O(i)-O(i-n)-O(n)+n*Math.log(r)+(i-n)*Math.log(1-r)},{support:function(t){return i.range(t[1]).concat([t[1]])}}),M=new u(function(t){var n=t[0],r=0;while(n>10){var i=7/8*n,s=w([i,1]);if(s>n)return r+k([n/s,i-1])||0;n-=s,r+=i}var o=Math.exp(-n),u=1;do u*=Math.random(),r++;while(u>o);return r-1||0},function(t,n){var r=t[0],i=n;return i*Math.log(r)-r-O(i)}),P=new u(_,D),j=function(e){var t=JSON.stringify(e);return new u(function(n){return e},function(n,r){return JSON.stringify(r)===t?0:-Infinity},{support:function(n){return[e]}})},F=function(e,t){var n=e.map(JSON.stringify),r=function(e){var r=JSON.stringify(e[0]),s=i.indexOf(n,r);return s===-1?undefined:t[s]};return new u(function(t){var n=r(t);return assert.notEqual(n,undefined),n.sample()},function(t,n){var i=r(t);return i===undefined?-Infinity:i.score([],n)},{support:function(t){var n=r(t);return n.support()}})};t.exports={ERP:u,bernoulliERP:f,betaERP:N,binomialERP:L,dirichletERP:P,discreteERP:g,exponentialERP:S,gammaERP:E,gaussianERP:p,multinomialSample:H,multivariateGaussianERP:m,poissonERP:M,randomIntegerERP:l,uniformERP:a,makeMarginalERP:B,makeDeltaERP:j,makeMultiplexERP:F}},{"./util.js":113,numeric:86,underscore:88}],95:[function(e,t,n){(function(n){"use strict";var r=e("assert"),i=e("underscore"),s=e("./util.js"),o=e("./erp.js"),u=e("./inference/enumerate.js"),a=e("./inference/particlefilter.js"),f=e("./inference/asyncpf.js"),l=e("./inference/mh.js"),c=e("./inference/pmcmc.js"),h=e("./inference/smc.js"),p=e("./inference/variational.js"),d=e("./headerUtils.js");t.exports=function(e){function v(e){i.extend(t,e)}e.coroutine={sample:function(e,t,n,r,i){return t(e,r.sample(i))},factor:function(){throw"factor allowed only inside inference."},exit:function(e,t){return t}},e.sample=function(t,n,r,i,s){return e.coroutine.sample(t,n,r,i,s)},e.factor=function(t,n,i,s){return r.ok(!isNaN(s)),e.coroutine.factor(t,n,i,s)},e.sampleWithFactor=function(t,n,r,i,s,o){if(typeof e.coroutine.sampleWithFactor=="function")return e.coroutine.sampleWithFactor(t,n,r,i,s,o);var u=function(t,i){var s=function(t,s){var o=function(e){return n(e,i)};return e.factor(t,o,r+"swf2",s)};return o(t,s,r+"swf1",i)};return e.sample(t,u,r,i,s)},e.exit=function(t,n){return e.coroutine.exit(t,n)};var t={top:s.runningInBrowser()?window:n};v({factor:e.factor,sample:e.sample,sampleWithFactor:e.sampleWithFactor}),v({_:i,util:s,assert:r});var m=[u,a,f,l,c,h,p,d];return m.forEach(function(t){v(t(e))}),v(o),t}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./erp.js":94,"./headerUtils.js":96,"./inference/asyncpf.js":97,"./inference/enumerate.js":98,"./inference/mh.js":100,"./inference/particlefilter.js":101,"./inference/pmcmc.js":102,"./inference/smc.js":103,"./inference/variational.js":104,"./util.js":113,assert:114,underscore:88}],96:[function(e,t,n){(function(e){"use strict";t.exports=function(t){function n(e,t,n,r){return t(e,console.log(r))}function r(e,t,n,r){var i={},s=function(e,t,n){var s=Array.prototype.slice.call(arguments,3),o=JSON.stringify(s);if(o in i)return t(e,i[o]);var u=function(e,n){return o in i&&(console.log("Already in cache:",o),JSON.stringify(i[o])!==JSON.stringify(n)&&(console.log("OLD AND NEW CACHE VALUE DIFFER!"),console.log("Old value:",i[o]),console.log("New value:",n))),i[o]=n,t(e,n)};return r.apply(this,[e,u,n].concat(s))};return t(e,s)}function i(t,n,r,i,s){return i.apply(e,[t,n,r].concat(s))}return{display:n,cache:r,apply:i}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],97:[function(e,t,n){"use strict";var r=e("underscore"),i=e("../util.js"),s=e("../erp.js");t.exports=function(e){function t(e){return{continuation:e.continuation,weight:e.weight,completed:e.completed,factorIndex:e.factorIndex,value:e.value,numChildrenToSpawn:1,multiplicity:e.multiplicity,store:r.clone(e.store)}}function n(e,t){return{continuation:t,weight:0,completed:!1,factorIndex:undefined,value:undefined,numChildrenToSpawn:0,multiplicity:1,store:r.clone(e)}}function o(t,i,s,o,u,a){this.numParticles=0,this.bufferSize=a==undefined?u:a,this.initNumParticles=Math.floor(this.bufferSize*.5),this.exitK=function(t){return o(t,e.exit,s)},this.store=t,this.buffer=[];for(var f=0;f<this.initNumParticles;f++)this.buffer.push(n(this.store,this.exitK));this.obsWeights={},this.exitedParticles=0,this.hist={},this.k=i,this.oldCoroutine=e.coroutine,e.coroutine=this,this.oldStore=r.clone(t)}function u(e,t,n,r,i,s){return(new o(e,t,n,r,i,s)).run(i)}return o.prototype.run=function(e){this.numParticles=e==undefined?this.numParticles:this.numParticles+e;var r,s,o=Math.floor((this.buffer.length+1)*Math.random());return o==this.buffer.length?r=n(this.store,this.exitK):(s=this.buffer[o],s.numChildrenToSpawn>1?(r=t(s),s.numChildrenToSpawn-=1):(r=s,this.buffer=i.deleteIndex(this.buffer,o))),this.activeParticle=r,r.continuation(r.store)},o.prototype.sample=function(e,t,n,r,i){return t(e,r.sample(i))},o.prototype.factor=function(e,t,n,r){this.activeParticle.weight+=r,this.activeParticle.continuation=t,this.activeParticle.store=e;var i=this.activeParticle.factorIndex,s=i==undefined?0:i+1;return this.activeParticle.factorIndex=s,this.branching(s),this.run()},o.prototype.branching=function(e){var t=this.obsWeights[e];if(t==undefined){var n={wbar:this.activeParticle.weight,mnk:1};this.obsWeights[e]=[n],this.activeParticle.numChildrenToSpawn=1}else{var r=this.activeParticle.multiplicity,s=this.activeParticle.weight,o=t.length+r,u=t[t.length-1].wbar,a=-Math.log(o)+i.logsumexp([Math.log(t.length)+u,Math.log(r)+s]);if(a>0)throw"Positive weight!!";var f=s-a,l=[];if(f<0)l=Math.log(Math.random())<f?[1,a]:[0,-Infinity];else{var c=0;for(var h=0;h<t.length;h++)c+=t[h].mnk;var p=Math.min(this.numParticles,t.length),d=Math.exp(f),v=c<=p?Math.ceil(d):Math.floor(d);l=[v,s-Math.log(v)]}var m={wbar:a,mnk:l[0]};this.obsWeights[e]=t.concat([m]),l[0]>0&&(this.buffer.length<this.bufferSize?(this.activeParticle.numChildrenToSpawn=l[0],this.activeParticle.weight=l[1]):(this.activeParticle.multiplicity*=l[0],this.activeParticle.numChildrenToSpawn=1,this.activeParticle.weight=l[1]),this.buffer.push(this.activeParticle))}},o.prototype.exit=function(t,n){this.activeParticle.value=n,this.activeParticle.completed=!0,this.activeParticle.weight+=Math.log(this.activeParticle.multiplicity),this.exitedParticles+=1;var i=JSON.stringify(n);this.hist[i]===undefined&&(this.hist[i]={prob:0,val:n}),this.hist[i].prob+=1;if(this.exitedParticles<this.numParticles)return this.run();var o=s.makeMarginalERP(this.hist),u=this.activeParticle.factorIndex,a=this.obsWeights[u];o.normalizationConstant=Math.log(a.length)-Math.log(this.numParticles)+a[a.length-1].wbar;var f=this;return o.continue=function(t,n,i,s){return f.k=n,f.oldCoroutine=e.coroutine,e.coroutine=f,f.oldStore=r.clone(t),f.run(s)},e.coroutine=this.oldCoroutine,this.k(this.oldStore,o)},{AsyncPF:u}}},{"../erp.js":94,"../util.js":113,underscore:88}],98:[function(e,t,n){"use strict";var r=e("underscore"),i=e("priorityqueuejs"),s=e("../erp.js"),o=e("../util.js");t.exports=function(e){function t(t,n,r,i,s,o){this.score=0,this.marginal={},this.numCompletedExecutions=0,this.store=t,this.k=n,this.a=r,this.wpplFn=i,this.maxExecutions=s||Infinity,this.queue=o,this.coroutine=e.coroutine,e.coroutine=this}function u(e,n,r,s,o){var u=new i(function(e,t){return e.score-t.score});return(new t(e,n,r,s,o,u)).run()}function a(e,n,r,i,s){var o=[];return o.size=function(){return o.length},o.enq=o.push,o.deq=o.pop,(new t(e,n,r,i,s,o)).run()}function f(e,n,r,i,s){var o=[];return o.size=function(){return o.length},o.enq=o.push,o.deq=o.shift,(new t(e,n,r,i,s,o)).run()}t.prototype.run=function(){return this.wpplFn(this.store,e.exit,this.a)},t.prototype.nextInQueue=function(){var e=this.queue.deq();return this.score=e.score,e.continuation(e.store,e.value)},t.prototype.enqueueContinuation=function(e,t,n,i){var s={continuation:e,value:t,score:n,store:r.clone(i)};this.
queue.enq(s)};var n=function(e,t){if(!e.support)throw console.error(e,t),"Enumerate can only be used with ERPs that have support function.";var n=e.support(t);if(n.length===0)throw console.error(e,t),"Enumerate encountered ERP with empty support!";return n};return t.prototype.sample=function(e,t,i,s,o){var u=n(s,o);return r.each(u,function(n){this.enqueueContinuation(t,n,this.score+s.score(o,n),e)},this),this.nextInQueue()},t.prototype.factor=function(e,t,n,r){return this.score+=r,t(e)},t.prototype.sampleWithFactor=function(t,r,i,s,u,a){var f=n(s,u);return o.cpsForEach(function(n,o,f,l){return a(t,function(t,i){var o=e.coroutine.score+s.score(u,n)+i;return e.coroutine.enqueueContinuation(r,n,o,t),l()},i,n)},function(){return e.coroutine.nextInQueue()},f)},t.prototype.exit=function(t,n){var r=JSON.stringify(n);this.score!==-Infinity&&(this.marginal[r]===undefined&&(this.marginal[r]={prob:0,val:n}),this.marginal[r].prob+=Math.exp(this.score)),this.numCompletedExecutions++;if(this.queue.size()>0&&this.numCompletedExecutions<this.maxExecutions)return this.nextInQueue();var i=this.marginal,o=s.makeMarginalERP(i);return e.coroutine=this.coroutine,this.k(this.store,o)},{Enumerate:u,EnumerateBreadthFirst:f,EnumerateDepthFirst:a,EnumerateLikelyFirst:u}}},{"../erp.js":94,"../util.js":113,priorityqueuejs:87,underscore:88}],99:[function(e,t,n){function s(e,t,n,i){var t=typeof t!="undefined"?t:.1,n=typeof n!="undefined"?n:.5,i=typeof i!="undefined"?i:20;if(t+n>=1)throw"Error: Intervals should sum to less than 1.0.";var s=[],o=e.length;for(var u=0;u<e.length/2;u+=Math.floor(e.length/2/(i-1))){var a=e.slice(u,u+Math.floor(t*(o-u))),f=e.slice(Math.floor(o-n*(o-u)),e.length),l=r.mean(a)-r.mean(f),c=l/Math.sqrt(Math.pow(r.std(a),2)+Math.pow(r.std(f),2));s.push([u,c])}return s}function o(e){fs.writeFile(i.tmpdir()+"trace.json",JSON.stringify(e),function(e){if(e)return console.log(e)})}var r=e("../../util.js"),i=e("os");t.exports={run:o}},{"../../util.js":113,os:120}],100:[function(e,t,n){"use strict";var r=e("underscore"),i=e("assert"),s=e("../erp.js"),o=e("./mh-diagnostics/diagnostics.js");t.exports=function(e){function t(e,t){var n=t,r=e[1]*.7;return[n,r]}function n(e,t){var n=.1,r=e.map(function(e){return n*e});return r}function o(e,t){return new s.ERP(function(r){var i=r[0],s=r[1],o=t(i,s);return e.sample(o)},function(r,i){var s=r[0],o=r[1],u=t(s,o);return e.score(u,i)})}function c(e,t){if(e===undefined)return undefined;for(var n=0;n<e.length;n++)if(e[n].name===t)return e[n];return undefined}function h(e,t,n,r,s){if(t===undefined||s===-Infinity)return 1;var o=-Math.log(t.length);e.slice(n).map(function(e){o+=e.reused?0:e.forwardChoiceScore});var u=-Math.log(e.length);t.slice(n).map(function(t){var n=c(e,t.name),r=t.reverseChoiceScore!==undefined?t.reverseChoiceScore:t.forwardChoiceScore;u+=!n||!n.reused?r:0});var a=Math.exp(r-s+u-o);i.ok(!isNaN(a));var f=Math.min(1,a);return f}function p(t,n,r,i,s,o,u){this.trace=[],this.oldTrace=undefined,this.currScore=0,this.oldScore=-Infinity,this.oldVal=undefined,this.regenFrom=0,this.returnHist={},this.k=n,this.oldStore=t,this.iterations=s,this.acceptedProposals=0,this.rejectedProposals=0,this.vals=[],this.diagnostics=typeof u!="undefined"?u:!1,this.burn=typeof o!="undefined"?o:Math.min(500,Math.floor(s/2)),this.wpplFn=i,this.s=t,this.a=r,this.oldCoroutine=e.coroutine,e.coroutine=this}function d(t,n,r,i,s,o,u){this.trace=[],this.oldTrace=undefined,this.currScore=0,this.oldScore=-Infinity,this.oldVal=undefined,this.regenFrom=0,this.returnHist={},this.k=n,this.oldStore=t,this.iterations=s,this.acceptedProposals=0,this.rejectedProposals=0,this.vals=[],this.diagnostics=typeof u!="undefined"?u:!1,this.burn=typeof o!="undefined"?o:Math.min(500,Math.floor(s/2)),this.wpplFn=i,this.s=t,this.a=r,this.oldCoroutine=e.coroutine,e.coroutine=this}function v(e,t,n,r,i,s,o){return(new d(e,t,n,r,i,s,o)).run()}function m(e,t,n,r,i,s,o){return(new p(e,t,n,r,i,s,o)).run()}var u=o(s.gaussianERP,t),a=o(s.dirichletERP,n),f=new s.ERP(s.gaussianERP.sample,s.gaussianERP.score,{proposer:u}),l=new s.ERP(s.dirichletERP.sample,s.dirichletERP.score,{proposer:a});return p.prototype.run=function(){return this.wpplFn(this.s,e.exit,this.a)},p.prototype.factor=function(e,t,n,r){return this.currScore+=r,t(e)},p.prototype.sample=function(e,t,n,i,s,o){var u=c(this.oldTrace,n),a,f,l,h=u!==undefined&&!o;return i.proposer&&u!==undefined?(a=h?u.val:i.proposer.sample([s,u.val]),f=i.proposer.score([s,u.val],a),l=i.proposer.score([s,a],u.val)):(a=h?u.val:i.sample(s),f=i.score(s,a)),this.trace.push({k:t,name:n,erp:i,params:s,score:this.currScore,forwardChoiceScore:f,reverseChoiceScore:l,val:a,reused:h,store:r.clone(e)}),this.currScore+=i.score(s,a),t(e,a)},p.prototype.exit=function(t,n){if(this.iterations>0){this.iterations-=1;var i=h(this.trace,this.oldTrace,this.regenFrom,this.currScore,this.oldScore);Math.random()>=i?(this.rejectedProposals+=1,this.trace=this.oldTrace,this.currScore=this.oldScore,n=this.oldVal):this.acceptedProposals+=1;if(this.burn<this.rejectedProposals+this.acceptedProposals){this.vals.push(n);var s=JSON.stringify(n);this.returnHist[s]===undefined&&(this.returnHist[s]={prob:0,val:n}),this.returnHist[s].prob+=1}this.regenFrom=Math.floor(Math.random()*this.trace.length);var o=this.trace[this.regenFrom];return this.oldTrace=this.trace,this.trace=this.trace.slice(0,this.regenFrom),this.oldScore=this.currScore,this.currScore=o.score,this.oldVal=n,this.sample(r.clone(o.store),o.k,o.name,o.erp,o.params,!0)}var u=this.k;e.coroutine=this.oldCoroutine;if(this.diagnostics){var a=this.acceptedProposals/(this.acceptedProposals+this.rejectedProposals);console.log("Acceptance rate: "+a),console.log("Number of samples: "+this.vals.length)}return u(this.oldStore,this.vals)},d.prototype.run=function(){return this.wpplFn(this.s,e.exit,this.a)},d.prototype.factor=function(e,t,n,r){return this.currScore+=r,t(e)},d.prototype.sample=function(e,t,n,i,s,o){var u=c(this.oldTrace,n),a,f,l,h=u!==undefined&&!o;return i.proposer&&u!==undefined?(a=h?u.val:i.proposer.sample([s,u.val]),f=i.proposer.score([s,u.val],a),l=i.proposer.score([s,a],u.val)):(a=h?u.val:i.sample(s),f=i.score(s,a)),this.trace.push({k:t,name:n,erp:i,params:s,score:this.currScore,forwardChoiceScore:f,reverseChoiceScore:l,val:a,reused:h,store:r.clone(e)}),this.currScore+=i.score(s,a),t(e,a)},d.prototype.exit=function(t,n){if(this.iterations>0){this.iterations-=1;var i=h(this.trace,this.oldTrace,this.regenFrom,this.currScore,this.oldScore);Math.random()>=i?(this.rejectedProposals+=1,this.trace=this.oldTrace,this.currScore=this.oldScore,n=this.oldVal):this.acceptedProposals+=1;if(this.burn<this.rejectedProposals+this.acceptedProposals){this.diagnostics&&this.vals.push(n);var o=JSON.stringify(n);this.returnHist[o]===undefined&&(this.returnHist[o]={prob:0,val:n}),this.returnHist[o].prob+=1}this.regenFrom=Math.floor(Math.random()*this.trace.length);var u=this.trace[this.regenFrom];return this.oldTrace=this.trace,this.trace=this.trace.slice(0,this.regenFrom),this.oldScore=this.currScore,this.currScore=u.score,this.oldVal=n,this.sample(r.clone(u.store),u.k,u.name,u.erp,u.params,!0)}var a=s.makeMarginalERP(this.returnHist),f=this.k;e.coroutine=this.oldCoroutine;if(this.diagnostics){var l=this.acceptedProposals/(this.acceptedProposals+this.rejectedProposals);return console.log("Acceptance rate: "+l),console.log("Number of samples: "+this.vals.length),f(this.oldStore,{erp:a,chain:this.vals})}return f(this.oldStore,a)},{acceptProb:h,dirichletDriftERP:l,findChoice:c,gaussianDriftERP:f,MH:v,MHChain:m,mhSample:function(e,t){return d.prototype.sample.apply(e,t)}}}},{"../erp.js":94,"./mh-diagnostics/diagnostics.js":99,assert:114,underscore:88}],101:[function(e,t,n){"use strict";function o(e){return e.active}var r=e("underscore"),i=e("../util.js"),s=e("../erp.js");t.exports=function(e){function t(e){return{continuation:e.continuation,weight:e.weight,value:e.value,store:r.clone(e.store),active:e.active}}function n(t,n,i,s,o,u){this.particles=[],this.particleIndex=0;var a=function(t){return s(t,e.exit,i)};for(var f=0;f<o;f++){var l={continuation:a,weight:0,value:undefined,store:r.clone(t),active:!0};this.particles.push(l)}this.strict=u,this.k=n,this.oldCoroutine=e.coroutine,e.coroutine=this,this.oldStore=r.clone(t)}function u(e,t,r,i,s,o){return(new n(e,t,r,i,s,o===undefined?!0:o)).run()}return n.prototype.run=function(){return this.currentParticle().continuation(this.currentParticle().store)},n.prototype.sample=function(e,t,n,r,i){return t(e,r.sample(i))},n.prototype.factor=function(e,t,n,r){this.currentParticle().weight+=r,this.currentParticle().continuation=t,this.currentParticle().store=e;if(this.allParticlesAdvanced()){this.resampleParticles();var i=this.firstActiveParticleIndex();if(i===-1)return this.finish();this.particleIndex=i}else this.particleIndex=this.nextActiveParticleIndex();return this.currentParticle().continuation(this.currentParticle().store)},n.prototype.firstActiveParticleIndex=function(){return i.indexOfPred(this.particles,o)},n.prototype.lastActiveParticleIndex=function(){return i.lastIndexOfPred(this.particles,o)},n.prototype.nextActiveParticleIndex=function(){var e=this.particleIndex+1,t=i.indexOfPred(this.particles,o,e);return t===-1?this.firstActiveParticleIndex():t},n.prototype.currentParticle=function(){return this.particles[this.particleIndex]},n.prototype.allParticlesAdvanced=function(){return this.particleIndex===this.lastActiveParticleIndex()},n.prototype.resampleParticles=function(){var e=this.particles.length,n=i.logsumexp(r.map(this.particles,function(e){return e.weight})),o=n-Math.log(e);if(o===-Infinity){if(this.strict)throw"Error! All particles -Infinity"}else{var u=[],a=[];r.each(this.particles,function(e){var n=Math.exp(e.weight-o),r=Math.floor(n);a.push(n-r);for(var i=0;i<r;i++)u.push(t(e))});var f=e-u.length,l=[],c;for(var h=0;h<f;h++)c=s.multinomialSample(a),l.push(t(this.particles[c]));this.particles=l.concat(u)}r.each(this.particles,function(e){e.weight=o})},n.prototype.exit=function(e,t){this.currentParticle().value=t,this.currentParticle().active=!1;var n=this.nextActiveParticleIndex();return n===-1?this.finish():(n<this.particleIndex&&this.resampleParticles(),this.particleIndex=n,this.currentParticle().continuation(this.currentParticle().store))},n.prototype.finish=function(){var t={};r.each(this.particles,function(e){var n=JSON.stringify(e.value);t[n]===undefined&&(t[n]={prob:0,val:e.value}),t[n].prob+=1});var n=s.makeMarginalERP(t);return n.normalizationConstant=this.particles[0].weight,e.coroutine=this.oldCoroutine,this.k(this.oldStore,n)},{ParticleFilter:u}}},{"../erp.js":94,"../util.js":113,underscore:88}],102:[function(e,t,n){"use strict";var r=e("underscore"),i=e("../erp.js");t.exports=function(e){function t(e){return e[e.length-1]}function n(t,n,r,i,s,o){this.oldCoroutine=e.coroutine,e.coroutine=this,this.k=n,this.oldStore=t,this.particleIndex=0,this.retainedParticle=undefined,this.numSweeps=o,this.sweep=0,this.wpplFn=i,this.address=r,this.numParticles=s,this.resetParticles(),this.returnHist={}}function s(e,t,r,i,s,o){return(new n(e,t,r,i,s,o)).run()}return n.prototype.run=function(){return this.activeContinuationWithStore()},n.prototype.resetParticles=function(){var t=this;this.particles=[];var n=function(n){return t.wpplFn(n,e.exit,t.address)};for(var i=0;i<this.numParticles;i++){var s={continuations:[n],stores:[t.oldStore],weights:[0],value:undefined};this.particles.push(r.clone(s))}},n.prototype.activeParticle=function(){return this.particles[this.particleIndex]},n.prototype.activeContinuation=function(){return t(this.activeParticle().continuations)},n.prototype.activeContinuationWithStore=function(){var e=t(this.activeParticle().continuations),n=r.clone(t(this.activeParticle().stores));return function(){return e(n)}},n.prototype.allParticlesAdvanced=function(){return this.particleIndex+1===this.particles.length},n.prototype.sample=function(e,t,n,r,i){return t(e,r.sample(i))},n.prototype.particleAtStep=function(e,t){return{continuations:e.continuations.slice(0,t+1),stores:e.stores.slice(0,t+1),weights:e.weights.slice(0,t+1),value:e.value}},n.prototype.updateActiveParticle=function(e,t,n){var i=this.activeParticle();i.continuations=i.continuations.concat([t]),i.stores=i.stores.concat([r.clone(n)]),i.weights=i.weights.concat([e])},n.prototype.copyParticle=function(e){return{continuations:e.continuations.slice(0),weights:e.weights.slice(0),value:e.value,stores:e.stores.map(r.clone)}},n.prototype.resampleParticles=function(e){var n=e.map(function(e){return Math.exp(t(e.weights))}),r,s=[];for(var o=0;o<e.length;o++)r=i.multinomialSample(n),s.push(this.copyParticle(e[r]));return s},n.prototype.factor=function(e,t,n,r){this.updateActiveParticle(r,t,e);if(this.allParticlesAdvanced()){if(this.sweep>0){var i=this.particles,s=this.particles[0].continuations.length-1;i=i.concat(this.particleAtStep(this.retainedParticle,s)),this.particles=this.resampleParticles(i).slice(1)}else this.particles=this.resampleParticles(this.particles);this.particleIndex=0}else this.particleIndex+=1;return this.activeContinuationWithStore()},n.prototype.exit=function(t,n){this.activeParticle().value=n;if(!this.allParticlesAdvanced())return this.particleIndex+=1,this.activeContinuationWithStore();this.sweep>0&&this.particles.concat(this.retainedParticle).forEach(function(e){var t=JSON.stringify(e.value);this.returnHist[t]===undefined&&(this.returnHist[t]={prob:0,val:e.value}),this.returnHist[t].prob+=1}.bind(this)),this.retainedParticle=this.particles[0];if(this.sweep<this.numSweeps)return this.sweep+=1,this.particleIndex=0,this.resetParticles(),this.activeContinuationWithStore();var r=i.makeMarginalERP(this.returnHist);return e.coroutine=this.oldCoroutine,this.k(this.oldStore,r)},{PMCMC:s}}},{"../erp.js":94,underscore:88}],103:[function(e,t,n){"use strict";var r=e("underscore"),i=e("assert"),s=e("../util.js"),o=e("../erp.js");t.exports=function(t){function a(e,n,i,s,o,u){this.particles=[],this.particleIndex=0,this.rejuvSteps=u,this.baseAddress=i,this.wpplFn=s,this.isParticleFilterRejuvCoroutine=!0,this.k=n,this.oldCoroutine=t.coroutine,t.coroutine=this,this.oldStore=e;var a=function(e){return s(e,t.exit,i)};for(var f=0;f<o;f++){var l={continuation:a,weight:0,score:0,value:undefined,trace:[],store:r.clone(e)};this.particles.push(l)}}function f(e){return{continuation:e.continuation,weight:e.weight,value:e.value,score:e.score,store:r.clone(e.store),trace:u(e.trace)}}function l(e,n,r,i,s,o,u){this.oldStore=n.store,this.trace=n.trace,this.oldTrace=undefined,this.currScore=n.score,this.oldScore=undefined,this.val=n.value,this.regenFrom=undefined,this.backToPF=e,this.iterations=o,this.limitAddress=i,this.originalParticle=n,this.hist=u,this.oldCoroutine=t.coroutine,t.coroutine=this}function c(e,t,n,r,i,s){return(new a(e,t,n,r,i,s)).run()}var n=e("./mh.js")(t),u=function(e){return e.map(function(e){var t=r.clone(e);return t.store=r.clone(e.store),t})};return a.prototype.run=function(){return this.activeParticle().continuation(this.activeParticle().store)},a.prototype.sample=function(e,t,n,i,s){var o=i.sample(s),u=this.activeParticle().score,a=i.score(s,o);return this.activeParticle().trace.push({k:t,name:n,erp:i,params:s,score:u,forwardChoiceScore:a,val:o,reused:!1,store:r.clone(e)}),this.activeParticle().score+=a,t(e,o)},a.prototype.factor=function(e,n,o,u){return this.activeParticle().weight+=u,this.activeParticle().score+=u,this.activeParticle().continuation=n,this.activeParticle().store=r.clone(e),this.allParticlesAdvanced()?(this.resampleParticles(),s.cpsForEach(function(e,n,r,s){return i(t.coroutine.isParticleFilterRejuvCoroutine),(new l(function(e){return r[n]=e,s()},e,this.baseAddress,o,this.wpplFn,this.rejuvSteps)).run()}.bind(this),function(){return this.particleIndex=0,this.activeParticle().continuation(this.activeParticle().store)}.bind(this),this.particles)):(this.particleIndex+=1,this.activeParticle().continuation(this.activeParticle().store))},a.prototype.activeParticle=function(){return this.particles[this.particleIndex]},a.prototype.allParticlesAdvanced=function(){return this.particleIndex+1===this.particles.length},a.prototype.resampleParticles=function(){var e=this.particles.length,t=s.logsumexp(r.map(this.particles,function(e){return e.weight})),n=t-Math.log(e);if(n===-Infinity){console.warn("ParticleFilterRejuv: resampleParticles: all "+e+" particles have weight -Inf");return}var i=[],u=[];r.each(this.particles,function(e){var t=Math.exp(e.weight-n),r=Math.floor(t);u.push(t-r);for(var s=0;s<r;s++)i.push(f(e))});var a=e-i.length,l=[],c;for(var h=0;h<a;h++)c=o.multinomialSample(u),l.push(f(this.particles[c]));this.particles=l.concat(i),r.each(this.particles,function(e){e.weight=n})},a.prototype.exit=function(e,n){this.activeParticle().value=n;if(!this.allParticlesAdvanced())return this.particleIndex+=1,this.activeParticle().continuation(this.activeParticle().store);var r=this.oldStore,u={};return s.cpsForEach(function(e,n,r,s){return i(t.coroutine.isParticleFilterRejuvCoroutine),(new l(function(e){return r[n]=e,s()},e,this.baseAddress,undefined,this.wpplFn,this.rejuvSteps,u)).run()}.bind(this),function(){var e=o.makeMarginalERP(u);e.normalizationConstant=this.particles[0].weight;var n=this.k;return t.coroutine=this.oldCoroutine,n(r,e)}.bind(this),this.particles)},l.prototype.run=function(){return this.iterations===0?(t.coroutine=this.oldCoroutine,this.backToPF(this.originalParticle)):this.propose()},l.prototype.factor=function(e,n,r,i){return this.currScore+=i,r===this.limitAddress?t.exit(e):n(e)},l.prototype.sample=function(e,t,r,i,s,o){return n.mhSample(this,arguments)},l.prototype.propose=function(){this.regenFrom=Math.floor(Math.random()*this.trace.length);var e=this.trace[this.regenFrom];return this.oldTrace=u(this.trace),this.trace=this.trace.slice(0,this.regenFrom),this.oldScore=this.currScore,this.currScore=e.score,this.oldVal=this.val,this.sample(r.clone(e.store),e.k,e.name,e.erp,e.params,!0)},l.prototype.exit=function(e,r){this.val=r;var i=n.acceptProb(this.trace,this.oldTrace,this.regenFrom,this.currScore,this.oldScore),s=Math.random()<i;s?this.oldStore=e:(this.trace=this.oldTrace,this.currScore=this.oldScore,this.val=this.oldVal);if(this.hist!==undefined){var o=JSON.stringify(this.val);this.hist[o]===undefined&&(this.hist[o]={prob:0,val:this.val}),this.hist[o].prob+=1}this.iterations-=1;if(this.iterations>0)return this.propose();var u={continuation:this.originalParticle.continuation,weight:this.originalParticle.weight,value:this.val,score:this.currScore,store:this.oldStore,trace:this.trace};return t.coroutine=this.oldCoroutine,this.backToPF(u)},{ParticleFilterRejuv:c}}},{"../erp.js":94,"../util.js":113,"./mh.js":100,assert:114,underscore:88}],104:[function(e,t,n){"use strict";var r=e("../erp.js");t.exports=function(e){function t(t,n,r,i,s){this.wpplFn=i,this.estimateSamples=s,this.numS=0,this.t=1,this.variationalParams={},this.runningG2={},this.grad={},this.samplegrad={},this.jointScore=0,this.variScore=0,this.k=n,this.oldCoroutine=e.coroutine,e.coroutine=this,this.initialStore=t,this.initialAddress=r,this.takeGradSample()}function n(e,t){var n=[];for(var r=0;r<e.length;r++)n[r]=e[r]+t[r];return n}function r(e,t){var n=[];for(var r=0;r<e.length;r++)n[r]=e[r]*t;return n}function i(e,n,r,i,s){return new t(e,n,r,i,s)}return t.prototype.takeGradSample=function(){this.samplegrad={},this.jointScore=0,this.variScore=0,this.numS++,this.wpplFn(this.initialStore,e.exit,this.initialAddress)},t.prototype.sample=function(e,t,n,r,i){this.variationalParams.hasOwnProperty(n)||(this.variationalParams[n]=i,this.runningG2[n]=[0]);var s=this.variationalParams[n],o=r.sample(s);this.samplegrad[n]=r.grad(s,o),this.jointScore+=r.score(i,o),this.variScore+=r.score(s,o),t(e,o)},t.prototype.factor=function(e,t,n,r){this.jointScore+=r,t(e)},t.prototype.exit=function(t,i){for(var s in this.samplegrad)this.grad.hasOwnProperty(s)||(this.grad[s]=[0]),this.grad[s]=n(this.grad[s],r(this.samplegrad[s],this.jointScore-this.variScore));if(this.numS<this.estimateSamples)return this.takeGradSample();for(s in this.variationalParams)for(var o in this.variationalParams[s]){var u=this.grad[s][o]/this.numS;this.runningG2[s][o]+=Math.pow(u,2);var a=1/Math.sqrt(this.runningG2[s][o]);this.variationalParams[s][o]+=a*u}this.t++,console.log(this.variationalParams);if(this.t<500)return this.grad={},this.numS=0,this.takeGradSample();console.log(this.variationalParams);var f=null;e.coroutine=this.oldCoroutine,this.k(this.initialStore,f)},{Variational:i}}},{"../erp.js":94}],105:[function(require,module,exports){(function(global,Buffer){"use strict";function concatPrograms(e,t){return build.program(e.body.concat(t.body))}function prepare(e,t){t&&console.time&&console.time("prepare");var n=function(e){return e=thunkify(e),e=naming(e),e=cps(e),e=optimize(e),e},r=esprima.parse(Buffer("Ly8gRVJQcwoKdmFyIGZsaXAgPSBmdW5jdGlvbih0aGV0YSkgewogIHJldHVybiBzYW1wbGUoYmVybm91bGxpRVJQLCBbdGhldGFdKTsKfTsKCnZhciByYW5kb21JbnRlZ2VyID0gZnVuY3Rpb24obikgewogIHJldHVybiBzYW1wbGUocmFuZG9tSW50ZWdlckVSUCwgW25dKTsKfTsKCnZhciBkaXNjcmV0ZSA9IGZ1bmN0aW9uKG4pIHsKICByZXR1cm4gc2FtcGxlKGRpc2NyZXRlRVJQLCBbbl0pOwp9OwoKdmFyIGNhdGVnb3JpY2FsID0gZnVuY3Rpb24ocHMsIHZzKSB7CiAgcmV0dXJuIHZzW2Rpc2NyZXRlKHBzKV07Cn0KCnZhciBnYXVzc2lhbiA9IGZ1bmN0aW9uKG11LCBzaWdtYSkgewogIHJldHVybiBzYW1wbGUoZ2F1c3NpYW5FUlAsIFttdSwgc2lnbWFdKTsKfTsKCnZhciBtdWx0aXZhcmlhdGVHYXVzc2lhbiA9IGZ1bmN0aW9uKG11LCBjb3YpIHsKICByZXR1cm4gc2FtcGxlKG11bHRpdmFyaWF0ZUdhdXNzaWFuRVJQLCBbbXUsIGNvdl0pOwp9OwoKdmFyIHVuaWZvcm0gPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIHNhbXBsZSh1bmlmb3JtRVJQLCBbYSwgYl0pOwp9OwoKdmFyIHVuaWZvcm1EcmF3ID0gZnVuY3Rpb24obCkgewogIHJldHVybiBsW3NhbXBsZShyYW5kb21JbnRlZ2VyRVJQLCBbbC5sZW5ndGhdKV07Cn07Cgp2YXIgZGlyaWNobGV0ID0gZnVuY3Rpb24oYWxwaGEpIHsKICByZXR1cm4gc2FtcGxlKGRpcmljaGxldEVSUCwgYWxwaGEpOwp9OwoKdmFyIHBvaXNzb24gPSBmdW5jdGlvbihtdSwgaykgewogIHJldHVybiBzYW1wbGUocG9pc3NvbkVSUCwgW211LCBrXSk7Cn07Cgp2YXIgYmlub21pYWwgPSBmdW5jdGlvbihwLCBuKSB7CiAgcmV0dXJuIHNhbXBsZShiaW5vbWlhbEVSUCwgW3AsIG5dKTsKfTsKCnZhciBiZXRhID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBzYW1wbGUoYmV0YUVSUCwgW2EsIGJdKTsKfTsKCnZhciBleHBvbmVudGlhbCA9IGZ1bmN0aW9uKGEpIHsKICByZXR1cm4gc2FtcGxlKGV4cG9uZW50aWFsRVJQLCBbYV0pOwp9OwoKdmFyIGdhbW1hID0gZnVuY3Rpb24oc2hhcGUsIHNjYWxlKSB7CiAgcmV0dXJuIHNhbXBsZShnYW1tYUVSUCwgW3NoYXBlLCBzY2FsZV0pOwp9OwoKdmFyIGRlbHRhRVJQID0gZnVuY3Rpb24odikgewogIHJldHVybiB0b3AubWFrZURlbHRhRVJQKHYpOwp9Cgp2YXIgbXVsdGlwbGV4RVJQID0gZnVuY3Rpb24odnMsIGVycHMpIHsKICByZXR1cm4gdG9wLm1ha2VNdWx0aXBsZXhFUlAodnMsIGVycHMpOwp9CgovLyBYUlBzCgp2YXIgbWFrZUJldGFCZXJub3VsbGkgPSBmdW5jdGlvbihwc2V1ZG9jb3VudHMpIHsKICBnbG9iYWxTdG9yZS5CQmluZGV4ID0gMSArIChnbG9iYWxTdG9yZS5CQmluZGV4IHx8IDApOwogIHZhciBiYm5hbWUgPSAnQkInICsgZ2xvYmFsU3RvcmUuQkJpbmRleDsKICBnbG9iYWxTdG9yZVtiYm5hbWVdID0gcHNldWRvY291bnRzOwogIHJldHVybiBmdW5jdGlvbigpIHsKICAgIHZhciBwYyA9IGdsb2JhbFN0b3JlW2JibmFtZV07ICAvLyBnZXQgY3VycmVudCBzdWZmaWNpZW50IHN0YXRzCiAgICB2YXIgdmFsID0gc2FtcGxlKGJlcm5vdWxsaUVSUCwgW3BjWzBdIC8gKHBjWzBdICsgcGNbMV0pXSk7ICAvLyBzYW1wbGUgZnJvbSBwcmVkaWN0aXZlLgogICAgZ2xvYmFsU3RvcmVbYmJuYW1lXSA9IFtwY1swXSArIHZhbCwgcGNbMV0gKyAhdmFsXTsgIC8vIHVwZGF0ZSBzdWZmaWNpZW50IHN0YXRzCiAgICByZXR1cm4gdmFsOwogIH07Cn07Cgp2YXIgbWFrZURpcmljaGxldERpc2NyZXRlID0gZnVuY3Rpb24ocHNldWRvY291bnRzKSB7CiAgdmFyIGFkZENvdW50ID0gZnVuY3Rpb24oYSwgaSwgaikgewogICAgdmFyIGogPSBqIHx8IDA7CiAgICBpZiAoYS5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuIFtdOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFthWzBdICsgKGkgPT09IGopXS5jb25jYXQoYWRkQ291bnQoYS5zbGljZSgxKSwgaSwgaiArIDEpKTsKICAgIH0KICB9OwogIGdsb2JhbFN0b3JlLkREaW5kZXggPSAxICsgKGdsb2JhbFN0b3JlLkREaW5kZXggfHwgMCk7CiAgdmFyIGRkbmFtZSA9ICdERCcgKyBnbG9iYWxTdG9yZS5ERGluZGV4OwogIGdsb2JhbFN0b3JlW2RkbmFtZV0gPSBwc2V1ZG9jb3VudHM7CiAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgdmFyIHBjID0gZ2xvYmFsU3RvcmVbZGRuYW1lXTsgIC8vIGdldCBjdXJyZW50IHN1ZmZpY2llbnQgc3RhdHMKICAgIHZhciB2YWwgPSBzYW1wbGUoZGlzY3JldGVFUlAsIFtwY10pOyAgLy8gc2FtcGxlIGZyb20gcHJlZGljdGl2ZS4gKGRvZXNuJ3QgbmVlZCB0byBiZSBub3JtYWxpemVkLikKICAgIGdsb2JhbFN0b3JlW2RkbmFtZV0gPSBhZGRDb3VudChwYywgdmFsKTsgLy8gdXBkYXRlIHN1ZmZpY2llbnQgc3RhdHMKICAgIHJldHVybiB2YWw7CiAgfTsKfTsKCi8vIEFyaXRobWV0aWMgYW5kIG90aGVyIGZ1bmN0aW9uYWxzCgp2YXIgcGx1cyA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn07CnZhciBtaW51cyA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSAtIGI7Cn07CnZhciBtdWx0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhICogYjsKfTsKdmFyIGRpdiA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSAvIGI7Cn07Cgp2YXIgZXEgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEgPT09IGI7Cn07CnZhciBuZXEgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEgIT0gYjsKfTsKdmFyIGx0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhIDwgYjsKfTsKdmFyIGd0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhID4gYjsKfTsKdmFyIGxlcSA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSA8PSBiOwp9Owp2YXIgZ2VxID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhID49IGI7Cn07Cgp2YXIgaXNFdmVuID0gZnVuY3Rpb24odikgewogIHJldHVybiB2ICUgMiA9PT0gMDsKfTsKdmFyIGlzT2RkID0gZnVuY3Rpb24odikgewogIHJldHVybiB2ICUgMiAhPSAwOwp9OwoKdmFyIGlkRiA9IGZ1bmN0aW9uKHgpIHsKICByZXR1cm4geDsKfTsKdmFyIGNvbnN0RiA9IGZ1bmN0aW9uKGYpIHsKICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZjsKICB9Owp9Owp2YXIgZmFsc2VGID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIGZhbHNlOwp9Owp2YXIgdHJ1ZUYgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gdHJ1ZTsKfTsKCgovLyBQcm9iYWJpbGl0eSBjb21wdXRhdGlvbnMgJiBjYWxjdWxhdGlvbnMKCnZhciBleHBlY3RhdGlvbiA9IGZ1bmN0aW9uKGVycCwgZnVuYykgewogIHZhciBmID0gZnVuYyB8fCBpZEY7CiAgdmFyIHN1cHAgPSBlcnAuc3VwcG9ydChbXSk7CiAgcmV0dXJuIG1hcFJlZHVjZTEocGx1cywKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5leHAoZXJwLnNjb3JlKFtdLCBzKSkgKiBmKHMpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc3VwcCk7Cn07Cgp2YXIgZW50cm9weSA9IGZ1bmN0aW9uKGVycCkgewogIHZhciBzdXBwID0gZXJwLnN1cHBvcnQoW10pOwogIHJldHVybiAtbWFwUmVkdWNlMShwbHVzLAogICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxwID0gZXJwLnNjb3JlKFtdLCBzKTsKICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5leHAobHApICogbHA7CiAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIHN1cHApOwp9OwoKCi8vIERhdGEgc3RydWN0dXJlcyAmIGhpZ2hlci1vcmRlciBmdW5jdGlvbnMKCnZhciBhcHBlbmQgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEuY29uY2F0KGIpOwp9Owp2YXIgY29ucyA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gW2FdLmNvbmNhdChiKTsKfTsKdmFyIHNub2MgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEuY29uY2F0KFtiXSk7Cn07Cgp2YXIgZmlyc3QgPSBmdW5jdGlvbih4cykgewogIHJldHVybiB4c1swXTsKfTsKdmFyIHNlY29uZCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzWzFdOwp9Owp2YXIgdGhpcmQgPSBmdW5jdGlvbih4cykgewogIHJldHVybiB4c1syXTsKfTsKdmFyIGZvdXJ0aCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzWzNdOwp9Owp2YXIgc2Vjb25kTGFzdCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzW3hzLmxlbmd0aCAtIDJdOwp9Owp2YXIgbGFzdCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzW3hzLmxlbmd0aCAtIDFdOwp9Owp2YXIgcmVzdCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzLnNsaWNlKDEpOwp9OwoKdmFyIG1hcCA9IGZ1bmN0aW9uKGZuLCBhcikgewogIHJldHVybiBhci5sZW5ndGggPT09IDAgPyBbXSA6IFtmbihhclswXSldLmNvbmNhdChtYXAoZm4sIGFyLnNsaWNlKDEpKSk7Cn07Cgp2YXIgbWFwMiA9IGZ1bmN0aW9uKGYsIGwxLCBsMikgewogIHJldHVybiAobDEubGVuZ3RoID09PSAwIHx8IGwyLmxlbmd0aCA9PT0gMCA/CiAgICAgICAgICBbXSA6CiAgICAgICAgICBbZihsMVswXSwgbDJbMF0pXS5jb25jYXQobWFwMihmLCBsMS5zbGljZSgxKSwgbDIuc2xpY2UoMSkpKSk7Cn07Cgp2YXIgbWFwTiA9IGZ1bmN0aW9uKGYsIG4pIHsKICB2YXIgZm4gPSBmdW5jdGlvbihpLCBfYWNjKSB7cmV0dXJuIGkgPT09IG4gPyBfYWNjIDogZm4oaSArIDEsIHNub2MoX2FjYywgZihpKSkpfTsKICByZXR1cm4gZm4oMCwgW10pOwp9Cgp2YXIgbWFwSW5kZXhlZCA9IGZ1bmN0aW9uKGYsIGwpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihscywgaSwgX2FjYykgewogICAgcmV0dXJuIGxzLmxlbmd0aCA9PT0gMCA/CiAgICAgICAgX2FjYyA6CiAgICAgICAgZm4ocmVzdChscyksIGkgKyAxLCBzbm9jKF9hY2MsIGYoaSwgZmlyc3QobHMpKSkpCiAgfTsKICByZXR1cm4gZm4obCwgMCwgW10pOwp9Cgp2YXIgX3JpbmdBcm91bmQgPSBmdW5jdGlvbihsLCBuKSB7CiAgcmV0dXJuIGwuc2xpY2UobikuY29uY2F0KGwuc2xpY2UoMCwgbikpOwp9OwoKdmFyIHJpbmdGb3J3YXJkID0gZnVuY3Rpb24obCwgbikgewogIHJldHVybiBfcmluZ0Fyb3VuZChsLCBuID09PSB1bmRlZmluZWQgPyAtMSA6IC1uKTsKfTsKCnZhciByaW5nQmFja3dhcmQgPSBmdW5jdGlvbihsLCBuKSB7CiAgcmV0dXJuIF9yaW5nQXJvdW5kKGwsIG4gfHwgMSk7Cn07Cgp2YXIgbWFwUGFpcnMyID0gZnVuY3Rpb24oZiwgbDEsIGwyKSB7CiAgdmFyIHJlcyA9IG1hcChmdW5jdGlvbihhKSB7CiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uKGIpIHsKICAgICAgcmV0dXJuIGYoYSwgYik7CiAgICB9LCBsMikKICB9LCBsMSk7CiAgcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgcmVzKTsgLy8gZmxhdHRlbgp9OwoKdmFyIG1hcFBhaXJzQyA9IGZ1bmN0aW9uKGYsIGwpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihsMSwgbDIsIGFjYykgewogICAgcmV0dXJuIChsMi5sZW5ndGggPT09IDAgPyBhY2MgOgogICAgICAgICAgICBmbihsMS5zbGljZSgxKSwKICAgICAgICAgICAgICAgbDIuc2xpY2UoMSksCiAgICAgICAgICAgICAgIGFjYy5jb25jYXQobWFwKGZ1bmN0aW9uKGIpIHsKICAgICAgICAgICAgICAgICByZXR1cm4gZihsMVswXSwgYik7CiAgICAgICAgICAgICAgIH0sIGwyKSkpCiAgICApOwogIH07CiAgcmV0dXJuIGZuKGwsIGwuc2xpY2UoMSksIFtdKTsKfTsKCnZhciBtYXBQYWlyc05DID0gZnVuY3Rpb24oZiwgbCkgewogIHZhciByZXMgPSBtYXBQYWlyczIoZnVuY3Rpb24oYSwgYikgewogICAgcmV0dXJuIGEgPT09IGIgPyB1bmRlZmluZWQgOiBmKGEsIGIpOwogIH0sIGwsIGwpOwogIHJldHVybiByZW1vdmUodW5kZWZpbmVkLCByZXMpOwp9OwoKdmFyIHJlZHVjZSA9IGZ1bmN0aW9uKGZuLCBpbml0LCBhcikgewogIHJldHVybiBhci5sZW5ndGggPT09IDAgPyBpbml0IDogZm4oYXJbMF0sIHJlZHVjZShmbiwgaW5pdCwgYXIuc2xpY2UoMSkpKTsKfTsKCnZhciBtYXBSZWR1Y2UgPSBmdW5jdGlvbihmLCBpbml0LCBnLCBhcikgewogIC8vIHNwZWNpYWxpemVkIHRvIGFib3ZlIHJlZHVjZQogIHJldHVybiByZWR1Y2UoZnVuY3Rpb24oYSwgYikge3JldHVybiBmKGcoYSksIGIpO30sCiAgICAgICAgICAgICAgICBnKGluaXQpLAogICAgICAgICAgICAgICAgYXIpOwp9OwoKdmFyIG1hcFJlZHVjZTEgPSBmdW5jdGlvbihmLCBnLCBhcikgewogIC8vIHNwZWNpYWxpemVkIHRvIGFib3ZlIHJlZHVjZQogIHJldHVybiByZWR1Y2UoZnVuY3Rpb24oYSwgYikge3JldHVybiBmKGcoYSksIGIpO30sCiAgICAgICAgICAgICAgICBnKGFyW2FyLmxlbmd0aCAtIDFdKSwKICAgICAgICAgICAgICAgIGFyLnNsaWNlKDAsIC0xKSk7Cn07Cgp2YXIgc3VtID0gZnVuY3Rpb24obCkgewogIHJldHVybiByZWR1Y2UocGx1cywgMCwgbCk7Cn07CnZhciBwcm9kdWN0ID0gZnVuY3Rpb24obCkgewogIHJldHVybiByZWR1Y2UobXVsdCwgMSwgbCk7Cn07Cgp2YXIgbGlzdE1lYW4gPSBmdW5jdGlvbihsKSB7CiAgcmV0dXJuIHJlZHVjZShwbHVzLCAwLCBsKSAvIGwubGVuZ3RoOwp9Owp2YXIgbGlzdFZhciA9IGZ1bmN0aW9uKGwsIG11KSB7CiAgdmFyIG11ID0gbXUgfHwgbGlzdE1lYW4obCk7CiAgcmV0dXJuIG1hcFJlZHVjZTEocGx1cywgZnVuY3Rpb24oYSkgewogICAgcmV0dXJuIChhIC0gbXUpICogKGEgLSBtdSk7CiAgfSwgbCkgLyBsLmxlbmd0aDsKfTsKdmFyIGxpc3RTdGRldiA9IGZ1bmN0aW9uKGwsIG11KSB7CiAgcmV0dXJuIE1hdGguc3FydChsaXN0VmFyKGwsIG11KSk7Cn07Cgp2YXIgYWxsID0gZnVuY3Rpb24ocCwgbCkgewogIHJldHVybiBtYXBSZWR1Y2UxKGZ1bmN0aW9uKGEsIGIpIHsKICAgIHJldHVybiBhICYmIGI7CiAgfSwgcCwgbCk7Cn07CnZhciBhbnkgPSBmdW5jdGlvbihwLCBsKSB7CiAgcmV0dXJuIG1hcFJlZHVjZTEoZnVuY3Rpb24oYSwgYikgewogICAgcmV0dXJuIGEgfHwgYjsKICB9LCBwLCBsKTsKfTsKCnZhciB6aXAgPSBmdW5jdGlvbih4cywgeXMpIHsKICByZXR1cm4geHMubGVuZ3RoID09PSAwID8KICAgICAgW10gOgogICAgICBbW3hzWzBdLCB5c1swXV1dLmNvbmNhdCh6aXAoeHMuc2xpY2UoMSksIHlzLnNsaWNlKDEpKSk7Cn07Cgp2YXIgZmlsdGVyID0gZnVuY3Rpb24oZm4sIGFyKSB7CiAgcmV0dXJuIGFyLmxlbmd0aCA9PT0gMCA/CiAgICAgIFtdIDoKICAgICAgYXBwZW5kKGZuKGFyWzBdKSA/IFthclswXV0gOiBbXSwgZmlsdGVyKGZuLCBhci5zbGljZSgxKSkpOwp9OwoKdmFyIGZpbmQgPSBmdW5jdGlvbihmLCBhcikgewogIHJldHVybiBhci5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiAoZihhclswXSkgPyBhclswXSA6IGZpbmQoZiwgYXIuc2xpY2UoMSkpKTsKfTsKCnZhciByZW1vdmUgPSBmdW5jdGlvbihhLCBhcikgewogIHJldHVybiBmaWx0ZXIoZnVuY3Rpb24oZSkgewogICAgcmV0dXJuIGEgIT0gZTsKICB9LCBhcik7Cn07Cgp2YXIgaW5zZXJ0QXQgPSBmdW5jdGlvbihhciwgaSwgeCkgewogIHJldHVybiBhci5zbGljZSgwLCBpKS5jb25jYXQoW3hdKS5jb25jYXQoYXIuc2xpY2UoaSkpOwp9Cgp2YXIgcmVtb3ZlQXQgPSBmdW5jdGlvbihhciwgaSkgewogIHJldHVybiBhci5zbGljZSgwLCBpKS5jb25jYXQoYXIuc2xpY2UoaSArIDEpKTsKfQoKdmFyIHJlcGxhY2VBdCA9IGZ1bmN0aW9uKGFyLCBpLCB4KSB7CiAgcmV0dXJuIGFyLnNsaWNlKDAsIGkpLmNvbmNhdChbeF0pLmNvbmNhdChhci5zbGljZShpICsgMSkpOwp9Cgp2YXIgZHJvcCA9IGZ1bmN0aW9uKG4sIGFyKSB7CiAgcmV0dXJuIG4gPiBhci5sZW5ndGggPyBbXSA6IGFyLnNsaWNlKG4pOwp9Owp2YXIgdGFrZSA9IGZ1bmN0aW9uKG4sIGFyKSB7CiAgcmV0dXJuIG4gPj0gYXIubGVuZ3RoID8gYXIgOiBhci5zbGljZSgwLCBuKTsKfTsKdmFyIGRyb3BXaGlsZSA9IGZ1bmN0aW9uKHAsIGFyKSB7CiAgcmV0dXJuIHAoYXJbMF0pID8gZHJvcFdoaWxlKHAsIGFyLnNsaWNlKDEpKSA6IGFyOwp9Owp2YXIgdGFrZVdoaWxlID0gZnVuY3Rpb24ocCwgYXIpIHsKICByZXR1cm4gcChhclswXSkgPyBjb25zKGFyWzBdLCB0YWtlV2hpbGUocCwgYXIuc2xpY2UoMSkpKSA6IFtdOwp9OwoKdmFyIGluZGV4T2YgPSBmdW5jdGlvbih4LCB4cykgewogIC8vIHByb3RvdHlwZSBtZXRob2QgZG9lc24ndCByZXR1cm4gZmFsc3kgdmFsdWUgaWYgbm90IGZvdW5kCiAgdmFyIGkgPSB4cy5pbmRleE9mKHgpOwogIHJldHVybiBpIDwgMCA/IHVuZGVmaW5lZCA6IGkKfTsKCnZhciBtaW5XaXRoID0gZnVuY3Rpb24oZiwgYXIpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihfYXIsIF9iZXN0KSB7CiAgICBpZiAoX2FyLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gX2Jlc3Q7CiAgICB9IGVsc2UgaWYgKF9hclswXVsxXSA8IF9iZXN0WzFdKSB7CiAgICAgIHJldHVybiBmbihfYXIuc2xpY2UoMSksIF9hclswXSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZm4oX2FyLnNsaWNlKDEpLCBfYmVzdCk7CiAgICB9CiAgfTsKICByZXR1cm4gZm4oemlwKGFyLCBtYXAoZiwgYXIpKSwgW0luZmluaXR5LCBJbmZpbml0eV0pOwp9OwoKdmFyIG1heFdpdGggPSBmdW5jdGlvbihmLCBhcikgewogIHZhciBmbiA9IGZ1bmN0aW9uKF9hciwgX2Jlc3QpIHsKICAgIGlmIChfYXIubGVuZ3RoID09PSAwKSB7CiAgICAgIHJldHVybiBfYmVzdDsKICAgIH0gZWxzZSBpZiAoX2FyWzBdWzFdID4gX2Jlc3RbMV0pIHsKICAgICAgcmV0dXJuIGZuKF9hci5zbGljZSgxKSwgX2FyWzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmbihfYXIuc2xpY2UoMSksIF9iZXN0KTsKICAgIH0KICB9OwogIHJldHVybiBmbih6aXAoYXIsIG1hcChmLCBhcikpLCBbLUluZmluaXR5LCAtSW5maW5pdHldKTsKfTsKCnZhciBzcGFuID0gZnVuY3Rpb24ocCwgYXIpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihhciwgX3RzLCBfZnMpIHsKICAgIHJldHVybiAoYXIubGVuZ3RoID09PSAwID8KICAgICAgICAgICAgW190cywgX2ZzXSA6CiAgICAgICAgICAgIChwKGFyWzBdKSA/CiAgICAgICAgICAgICBmbihhci5zbGljZSgxKSwgc25vYyhfdHMsIGFyWzBdKSwgX2ZzKSA6CiAgICAgICAgICAgICBmbihhci5zbGljZSgxKSwgX3RzLCBzbm9jKF9mcywgYXJbMF0pKSkpOwogIH07CiAgcmV0dXJuIGZuKGFyLCBbXSwgW10pOwp9OwoKdmFyIGdyb3VwQnkgPSBmdW5jdGlvbihjbXAsIGFyKSB7CiAgaWYgKGFyLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIFtdOwogIH0gZWxzZSB7CiAgICB2YXIgeCA9IGFyWzBdOwogICAgdmFyIHNwID0gc3BhbihmdW5jdGlvbihiKSB7IHJldHVybiBjbXAoeCwgYik7IH0sIGFyLnNsaWNlKDEpKTsKICAgIHJldHVybiBbY29ucyh4LCBzcFswXSldLmNvbmNhdChncm91cEJ5KGNtcCwgc3BbMV0pKTsKICB9Cn07Cgp2YXIgcmVwZWF0ID0gZnVuY3Rpb24obiwgZm4pIHsKICByZXR1cm4gbiA9PT0gMCA/IFtdIDogYXBwZW5kKHJlcGVhdChuIC0gMSwgZm4pLCBbZm4obiAtIDEpXSk7Cn07Cgp2YXIgcHVzaCA9IGZ1bmN0aW9uKHhzLCB4KSB7CiAgcmV0dXJuIHhzLmNvbmNhdChbeF0pOwp9OwoKdmFyIGNvbXBvc2UgPSBmdW5jdGlvbihmLCBnKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKHgpIHsKICAgIHJldHVybiBmKGcoeCkpOwogIH07Cn07Cgp2YXIgZXZlcnlPdGhlciA9IGZ1bmN0aW9uKGwpIHsKICByZXR1cm4gbC5sZW5ndGggPD0gMSA/IGwgOiBbbFswXV0uY29uY2F0KGV2ZXJ5T3RoZXIobC5zbGljZSgyKSkpOwp9OwoKdmFyIF9tZXJnZSA9IGZ1bmN0aW9uKGwxLCBsMiwgcHJlZCwga2V5KSB7CiAgcmV0dXJuIChsMS5sZW5ndGggPT09IDAgPwogICAgICAgICAgbDIgOgogICAgICAgICAgKGwyLmxlbmd0aCA9PT0gMCA/CiAgICAgICAgICAgbDEgOgogICAgICAgICAgIChwcmVkKGtleShsMVswXSksIGtleShsMlswXSkpID8KICAgICAgICAgICAgW2wxWzBdXS5jb25jYXQoX21lcmdlKGwxLnNsaWNlKDEpLCBsMiwgcHJlZCwga2V5KSkgOgogICAgICAgICAgICBbbDJbMF1dLmNvbmNhdChfbWVyZ2UobDEsIGwyLnNsaWNlKDEpLCBwcmVkLCBrZXkpKSkpKTsKfTsKCnZhciBfc29ydCA9IGZ1bmN0aW9uKGwsIHByZWQsIGtleSkgewogIHJldHVybiAoKGwubGVuZ3RoIDw9IDEpID8KICAgICAgICAgIGwgOgogICAgICAgICAgX21lcmdlKF9zb3J0KGV2ZXJ5T3RoZXIobCksIHByZWQsIGtleSksCiAgICAgICAgICAgICAgICAgX3NvcnQoZXZlcnlPdGhlcihsLnNsaWNlKDEpKSwgcHJlZCwga2V5KSwKICAgICAgICAgICAgICAgICBwcmVkLAogICAgICAgICAgICAgICAgIGtleSkpOwp9OwoKdmFyIHNvcnQgPSBmdW5jdGlvbihsLCBwcmVkLCBrZXkpIHsKICByZXR1cm4gX3NvcnQobCwgKHByZWQgfHwgbHQpLCAoa2V5IHx8IGlkRikpOwp9OwoKdmFyIHNvcnRPbiA9IGZ1bmN0aW9uKGwsIGtleSwgcHJlZCkgewogIHJldHVybiBfc29ydChsLCAocHJlZCB8fCBsdCksIGtleSk7Cn07Cg=="
,"base64")),i=esprima.parse(e),s=n(concatPrograms(r,i));return t&&console.timeEnd&&console.timeEnd("prepare"),s}function compile(e,t){t&&console.time&&console.time("compile");var n=function(e){return e=thunkify(e),e=naming(e),e=cps(e),e=store(e),e=optimize(e),e=varargs(e),e=trampoline(e),e},r=esprima.parse(Buffer("Ly8gRVJQcwoKdmFyIGZsaXAgPSBmdW5jdGlvbih0aGV0YSkgewogIHJldHVybiBzYW1wbGUoYmVybm91bGxpRVJQLCBbdGhldGFdKTsKfTsKCnZhciByYW5kb21JbnRlZ2VyID0gZnVuY3Rpb24obikgewogIHJldHVybiBzYW1wbGUocmFuZG9tSW50ZWdlckVSUCwgW25dKTsKfTsKCnZhciBkaXNjcmV0ZSA9IGZ1bmN0aW9uKG4pIHsKICByZXR1cm4gc2FtcGxlKGRpc2NyZXRlRVJQLCBbbl0pOwp9OwoKdmFyIGNhdGVnb3JpY2FsID0gZnVuY3Rpb24ocHMsIHZzKSB7CiAgcmV0dXJuIHZzW2Rpc2NyZXRlKHBzKV07Cn0KCnZhciBnYXVzc2lhbiA9IGZ1bmN0aW9uKG11LCBzaWdtYSkgewogIHJldHVybiBzYW1wbGUoZ2F1c3NpYW5FUlAsIFttdSwgc2lnbWFdKTsKfTsKCnZhciBtdWx0aXZhcmlhdGVHYXVzc2lhbiA9IGZ1bmN0aW9uKG11LCBjb3YpIHsKICByZXR1cm4gc2FtcGxlKG11bHRpdmFyaWF0ZUdhdXNzaWFuRVJQLCBbbXUsIGNvdl0pOwp9OwoKdmFyIHVuaWZvcm0gPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIHNhbXBsZSh1bmlmb3JtRVJQLCBbYSwgYl0pOwp9OwoKdmFyIHVuaWZvcm1EcmF3ID0gZnVuY3Rpb24obCkgewogIHJldHVybiBsW3NhbXBsZShyYW5kb21JbnRlZ2VyRVJQLCBbbC5sZW5ndGhdKV07Cn07Cgp2YXIgZGlyaWNobGV0ID0gZnVuY3Rpb24oYWxwaGEpIHsKICByZXR1cm4gc2FtcGxlKGRpcmljaGxldEVSUCwgYWxwaGEpOwp9OwoKdmFyIHBvaXNzb24gPSBmdW5jdGlvbihtdSwgaykgewogIHJldHVybiBzYW1wbGUocG9pc3NvbkVSUCwgW211LCBrXSk7Cn07Cgp2YXIgYmlub21pYWwgPSBmdW5jdGlvbihwLCBuKSB7CiAgcmV0dXJuIHNhbXBsZShiaW5vbWlhbEVSUCwgW3AsIG5dKTsKfTsKCnZhciBiZXRhID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBzYW1wbGUoYmV0YUVSUCwgW2EsIGJdKTsKfTsKCnZhciBleHBvbmVudGlhbCA9IGZ1bmN0aW9uKGEpIHsKICByZXR1cm4gc2FtcGxlKGV4cG9uZW50aWFsRVJQLCBbYV0pOwp9OwoKdmFyIGdhbW1hID0gZnVuY3Rpb24oc2hhcGUsIHNjYWxlKSB7CiAgcmV0dXJuIHNhbXBsZShnYW1tYUVSUCwgW3NoYXBlLCBzY2FsZV0pOwp9OwoKdmFyIGRlbHRhRVJQID0gZnVuY3Rpb24odikgewogIHJldHVybiB0b3AubWFrZURlbHRhRVJQKHYpOwp9Cgp2YXIgbXVsdGlwbGV4RVJQID0gZnVuY3Rpb24odnMsIGVycHMpIHsKICByZXR1cm4gdG9wLm1ha2VNdWx0aXBsZXhFUlAodnMsIGVycHMpOwp9CgovLyBYUlBzCgp2YXIgbWFrZUJldGFCZXJub3VsbGkgPSBmdW5jdGlvbihwc2V1ZG9jb3VudHMpIHsKICBnbG9iYWxTdG9yZS5CQmluZGV4ID0gMSArIChnbG9iYWxTdG9yZS5CQmluZGV4IHx8IDApOwogIHZhciBiYm5hbWUgPSAnQkInICsgZ2xvYmFsU3RvcmUuQkJpbmRleDsKICBnbG9iYWxTdG9yZVtiYm5hbWVdID0gcHNldWRvY291bnRzOwogIHJldHVybiBmdW5jdGlvbigpIHsKICAgIHZhciBwYyA9IGdsb2JhbFN0b3JlW2JibmFtZV07ICAvLyBnZXQgY3VycmVudCBzdWZmaWNpZW50IHN0YXRzCiAgICB2YXIgdmFsID0gc2FtcGxlKGJlcm5vdWxsaUVSUCwgW3BjWzBdIC8gKHBjWzBdICsgcGNbMV0pXSk7ICAvLyBzYW1wbGUgZnJvbSBwcmVkaWN0aXZlLgogICAgZ2xvYmFsU3RvcmVbYmJuYW1lXSA9IFtwY1swXSArIHZhbCwgcGNbMV0gKyAhdmFsXTsgIC8vIHVwZGF0ZSBzdWZmaWNpZW50IHN0YXRzCiAgICByZXR1cm4gdmFsOwogIH07Cn07Cgp2YXIgbWFrZURpcmljaGxldERpc2NyZXRlID0gZnVuY3Rpb24ocHNldWRvY291bnRzKSB7CiAgdmFyIGFkZENvdW50ID0gZnVuY3Rpb24oYSwgaSwgaikgewogICAgdmFyIGogPSBqIHx8IDA7CiAgICBpZiAoYS5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuIFtdOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFthWzBdICsgKGkgPT09IGopXS5jb25jYXQoYWRkQ291bnQoYS5zbGljZSgxKSwgaSwgaiArIDEpKTsKICAgIH0KICB9OwogIGdsb2JhbFN0b3JlLkREaW5kZXggPSAxICsgKGdsb2JhbFN0b3JlLkREaW5kZXggfHwgMCk7CiAgdmFyIGRkbmFtZSA9ICdERCcgKyBnbG9iYWxTdG9yZS5ERGluZGV4OwogIGdsb2JhbFN0b3JlW2RkbmFtZV0gPSBwc2V1ZG9jb3VudHM7CiAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgdmFyIHBjID0gZ2xvYmFsU3RvcmVbZGRuYW1lXTsgIC8vIGdldCBjdXJyZW50IHN1ZmZpY2llbnQgc3RhdHMKICAgIHZhciB2YWwgPSBzYW1wbGUoZGlzY3JldGVFUlAsIFtwY10pOyAgLy8gc2FtcGxlIGZyb20gcHJlZGljdGl2ZS4gKGRvZXNuJ3QgbmVlZCB0byBiZSBub3JtYWxpemVkLikKICAgIGdsb2JhbFN0b3JlW2RkbmFtZV0gPSBhZGRDb3VudChwYywgdmFsKTsgLy8gdXBkYXRlIHN1ZmZpY2llbnQgc3RhdHMKICAgIHJldHVybiB2YWw7CiAgfTsKfTsKCi8vIEFyaXRobWV0aWMgYW5kIG90aGVyIGZ1bmN0aW9uYWxzCgp2YXIgcGx1cyA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn07CnZhciBtaW51cyA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSAtIGI7Cn07CnZhciBtdWx0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhICogYjsKfTsKdmFyIGRpdiA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSAvIGI7Cn07Cgp2YXIgZXEgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEgPT09IGI7Cn07CnZhciBuZXEgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEgIT0gYjsKfTsKdmFyIGx0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhIDwgYjsKfTsKdmFyIGd0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhID4gYjsKfTsKdmFyIGxlcSA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSA8PSBiOwp9Owp2YXIgZ2VxID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhID49IGI7Cn07Cgp2YXIgaXNFdmVuID0gZnVuY3Rpb24odikgewogIHJldHVybiB2ICUgMiA9PT0gMDsKfTsKdmFyIGlzT2RkID0gZnVuY3Rpb24odikgewogIHJldHVybiB2ICUgMiAhPSAwOwp9OwoKdmFyIGlkRiA9IGZ1bmN0aW9uKHgpIHsKICByZXR1cm4geDsKfTsKdmFyIGNvbnN0RiA9IGZ1bmN0aW9uKGYpIHsKICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZjsKICB9Owp9Owp2YXIgZmFsc2VGID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIGZhbHNlOwp9Owp2YXIgdHJ1ZUYgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gdHJ1ZTsKfTsKCgovLyBQcm9iYWJpbGl0eSBjb21wdXRhdGlvbnMgJiBjYWxjdWxhdGlvbnMKCnZhciBleHBlY3RhdGlvbiA9IGZ1bmN0aW9uKGVycCwgZnVuYykgewogIHZhciBmID0gZnVuYyB8fCBpZEY7CiAgdmFyIHN1cHAgPSBlcnAuc3VwcG9ydChbXSk7CiAgcmV0dXJuIG1hcFJlZHVjZTEocGx1cywKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5leHAoZXJwLnNjb3JlKFtdLCBzKSkgKiBmKHMpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgc3VwcCk7Cn07Cgp2YXIgZW50cm9weSA9IGZ1bmN0aW9uKGVycCkgewogIHZhciBzdXBwID0gZXJwLnN1cHBvcnQoW10pOwogIHJldHVybiAtbWFwUmVkdWNlMShwbHVzLAogICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxwID0gZXJwLnNjb3JlKFtdLCBzKTsKICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5leHAobHApICogbHA7CiAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIHN1cHApOwp9OwoKCi8vIERhdGEgc3RydWN0dXJlcyAmIGhpZ2hlci1vcmRlciBmdW5jdGlvbnMKCnZhciBhcHBlbmQgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEuY29uY2F0KGIpOwp9Owp2YXIgY29ucyA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gW2FdLmNvbmNhdChiKTsKfTsKdmFyIHNub2MgPSBmdW5jdGlvbihhLCBiKSB7CiAgcmV0dXJuIGEuY29uY2F0KFtiXSk7Cn07Cgp2YXIgZmlyc3QgPSBmdW5jdGlvbih4cykgewogIHJldHVybiB4c1swXTsKfTsKdmFyIHNlY29uZCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzWzFdOwp9Owp2YXIgdGhpcmQgPSBmdW5jdGlvbih4cykgewogIHJldHVybiB4c1syXTsKfTsKdmFyIGZvdXJ0aCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzWzNdOwp9Owp2YXIgc2Vjb25kTGFzdCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzW3hzLmxlbmd0aCAtIDJdOwp9Owp2YXIgbGFzdCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzW3hzLmxlbmd0aCAtIDFdOwp9Owp2YXIgcmVzdCA9IGZ1bmN0aW9uKHhzKSB7CiAgcmV0dXJuIHhzLnNsaWNlKDEpOwp9OwoKdmFyIG1hcCA9IGZ1bmN0aW9uKGZuLCBhcikgewogIHJldHVybiBhci5sZW5ndGggPT09IDAgPyBbXSA6IFtmbihhclswXSldLmNvbmNhdChtYXAoZm4sIGFyLnNsaWNlKDEpKSk7Cn07Cgp2YXIgbWFwMiA9IGZ1bmN0aW9uKGYsIGwxLCBsMikgewogIHJldHVybiAobDEubGVuZ3RoID09PSAwIHx8IGwyLmxlbmd0aCA9PT0gMCA/CiAgICAgICAgICBbXSA6CiAgICAgICAgICBbZihsMVswXSwgbDJbMF0pXS5jb25jYXQobWFwMihmLCBsMS5zbGljZSgxKSwgbDIuc2xpY2UoMSkpKSk7Cn07Cgp2YXIgbWFwTiA9IGZ1bmN0aW9uKGYsIG4pIHsKICB2YXIgZm4gPSBmdW5jdGlvbihpLCBfYWNjKSB7cmV0dXJuIGkgPT09IG4gPyBfYWNjIDogZm4oaSArIDEsIHNub2MoX2FjYywgZihpKSkpfTsKICByZXR1cm4gZm4oMCwgW10pOwp9Cgp2YXIgbWFwSW5kZXhlZCA9IGZ1bmN0aW9uKGYsIGwpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihscywgaSwgX2FjYykgewogICAgcmV0dXJuIGxzLmxlbmd0aCA9PT0gMCA/CiAgICAgICAgX2FjYyA6CiAgICAgICAgZm4ocmVzdChscyksIGkgKyAxLCBzbm9jKF9hY2MsIGYoaSwgZmlyc3QobHMpKSkpCiAgfTsKICByZXR1cm4gZm4obCwgMCwgW10pOwp9Cgp2YXIgX3JpbmdBcm91bmQgPSBmdW5jdGlvbihsLCBuKSB7CiAgcmV0dXJuIGwuc2xpY2UobikuY29uY2F0KGwuc2xpY2UoMCwgbikpOwp9OwoKdmFyIHJpbmdGb3J3YXJkID0gZnVuY3Rpb24obCwgbikgewogIHJldHVybiBfcmluZ0Fyb3VuZChsLCBuID09PSB1bmRlZmluZWQgPyAtMSA6IC1uKTsKfTsKCnZhciByaW5nQmFja3dhcmQgPSBmdW5jdGlvbihsLCBuKSB7CiAgcmV0dXJuIF9yaW5nQXJvdW5kKGwsIG4gfHwgMSk7Cn07Cgp2YXIgbWFwUGFpcnMyID0gZnVuY3Rpb24oZiwgbDEsIGwyKSB7CiAgdmFyIHJlcyA9IG1hcChmdW5jdGlvbihhKSB7CiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uKGIpIHsKICAgICAgcmV0dXJuIGYoYSwgYik7CiAgICB9LCBsMikKICB9LCBsMSk7CiAgcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgcmVzKTsgLy8gZmxhdHRlbgp9OwoKdmFyIG1hcFBhaXJzQyA9IGZ1bmN0aW9uKGYsIGwpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihsMSwgbDIsIGFjYykgewogICAgcmV0dXJuIChsMi5sZW5ndGggPT09IDAgPyBhY2MgOgogICAgICAgICAgICBmbihsMS5zbGljZSgxKSwKICAgICAgICAgICAgICAgbDIuc2xpY2UoMSksCiAgICAgICAgICAgICAgIGFjYy5jb25jYXQobWFwKGZ1bmN0aW9uKGIpIHsKICAgICAgICAgICAgICAgICByZXR1cm4gZihsMVswXSwgYik7CiAgICAgICAgICAgICAgIH0sIGwyKSkpCiAgICApOwogIH07CiAgcmV0dXJuIGZuKGwsIGwuc2xpY2UoMSksIFtdKTsKfTsKCnZhciBtYXBQYWlyc05DID0gZnVuY3Rpb24oZiwgbCkgewogIHZhciByZXMgPSBtYXBQYWlyczIoZnVuY3Rpb24oYSwgYikgewogICAgcmV0dXJuIGEgPT09IGIgPyB1bmRlZmluZWQgOiBmKGEsIGIpOwogIH0sIGwsIGwpOwogIHJldHVybiByZW1vdmUodW5kZWZpbmVkLCByZXMpOwp9OwoKdmFyIHJlZHVjZSA9IGZ1bmN0aW9uKGZuLCBpbml0LCBhcikgewogIHJldHVybiBhci5sZW5ndGggPT09IDAgPyBpbml0IDogZm4oYXJbMF0sIHJlZHVjZShmbiwgaW5pdCwgYXIuc2xpY2UoMSkpKTsKfTsKCnZhciBtYXBSZWR1Y2UgPSBmdW5jdGlvbihmLCBpbml0LCBnLCBhcikgewogIC8vIHNwZWNpYWxpemVkIHRvIGFib3ZlIHJlZHVjZQogIHJldHVybiByZWR1Y2UoZnVuY3Rpb24oYSwgYikge3JldHVybiBmKGcoYSksIGIpO30sCiAgICAgICAgICAgICAgICBnKGluaXQpLAogICAgICAgICAgICAgICAgYXIpOwp9OwoKdmFyIG1hcFJlZHVjZTEgPSBmdW5jdGlvbihmLCBnLCBhcikgewogIC8vIHNwZWNpYWxpemVkIHRvIGFib3ZlIHJlZHVjZQogIHJldHVybiByZWR1Y2UoZnVuY3Rpb24oYSwgYikge3JldHVybiBmKGcoYSksIGIpO30sCiAgICAgICAgICAgICAgICBnKGFyW2FyLmxlbmd0aCAtIDFdKSwKICAgICAgICAgICAgICAgIGFyLnNsaWNlKDAsIC0xKSk7Cn07Cgp2YXIgc3VtID0gZnVuY3Rpb24obCkgewogIHJldHVybiByZWR1Y2UocGx1cywgMCwgbCk7Cn07CnZhciBwcm9kdWN0ID0gZnVuY3Rpb24obCkgewogIHJldHVybiByZWR1Y2UobXVsdCwgMSwgbCk7Cn07Cgp2YXIgbGlzdE1lYW4gPSBmdW5jdGlvbihsKSB7CiAgcmV0dXJuIHJlZHVjZShwbHVzLCAwLCBsKSAvIGwubGVuZ3RoOwp9Owp2YXIgbGlzdFZhciA9IGZ1bmN0aW9uKGwsIG11KSB7CiAgdmFyIG11ID0gbXUgfHwgbGlzdE1lYW4obCk7CiAgcmV0dXJuIG1hcFJlZHVjZTEocGx1cywgZnVuY3Rpb24oYSkgewogICAgcmV0dXJuIChhIC0gbXUpICogKGEgLSBtdSk7CiAgfSwgbCkgLyBsLmxlbmd0aDsKfTsKdmFyIGxpc3RTdGRldiA9IGZ1bmN0aW9uKGwsIG11KSB7CiAgcmV0dXJuIE1hdGguc3FydChsaXN0VmFyKGwsIG11KSk7Cn07Cgp2YXIgYWxsID0gZnVuY3Rpb24ocCwgbCkgewogIHJldHVybiBtYXBSZWR1Y2UxKGZ1bmN0aW9uKGEsIGIpIHsKICAgIHJldHVybiBhICYmIGI7CiAgfSwgcCwgbCk7Cn07CnZhciBhbnkgPSBmdW5jdGlvbihwLCBsKSB7CiAgcmV0dXJuIG1hcFJlZHVjZTEoZnVuY3Rpb24oYSwgYikgewogICAgcmV0dXJuIGEgfHwgYjsKICB9LCBwLCBsKTsKfTsKCnZhciB6aXAgPSBmdW5jdGlvbih4cywgeXMpIHsKICByZXR1cm4geHMubGVuZ3RoID09PSAwID8KICAgICAgW10gOgogICAgICBbW3hzWzBdLCB5c1swXV1dLmNvbmNhdCh6aXAoeHMuc2xpY2UoMSksIHlzLnNsaWNlKDEpKSk7Cn07Cgp2YXIgZmlsdGVyID0gZnVuY3Rpb24oZm4sIGFyKSB7CiAgcmV0dXJuIGFyLmxlbmd0aCA9PT0gMCA/CiAgICAgIFtdIDoKICAgICAgYXBwZW5kKGZuKGFyWzBdKSA/IFthclswXV0gOiBbXSwgZmlsdGVyKGZuLCBhci5zbGljZSgxKSkpOwp9OwoKdmFyIGZpbmQgPSBmdW5jdGlvbihmLCBhcikgewogIHJldHVybiBhci5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiAoZihhclswXSkgPyBhclswXSA6IGZpbmQoZiwgYXIuc2xpY2UoMSkpKTsKfTsKCnZhciByZW1vdmUgPSBmdW5jdGlvbihhLCBhcikgewogIHJldHVybiBmaWx0ZXIoZnVuY3Rpb24oZSkgewogICAgcmV0dXJuIGEgIT0gZTsKICB9LCBhcik7Cn07Cgp2YXIgaW5zZXJ0QXQgPSBmdW5jdGlvbihhciwgaSwgeCkgewogIHJldHVybiBhci5zbGljZSgwLCBpKS5jb25jYXQoW3hdKS5jb25jYXQoYXIuc2xpY2UoaSkpOwp9Cgp2YXIgcmVtb3ZlQXQgPSBmdW5jdGlvbihhciwgaSkgewogIHJldHVybiBhci5zbGljZSgwLCBpKS5jb25jYXQoYXIuc2xpY2UoaSArIDEpKTsKfQoKdmFyIHJlcGxhY2VBdCA9IGZ1bmN0aW9uKGFyLCBpLCB4KSB7CiAgcmV0dXJuIGFyLnNsaWNlKDAsIGkpLmNvbmNhdChbeF0pLmNvbmNhdChhci5zbGljZShpICsgMSkpOwp9Cgp2YXIgZHJvcCA9IGZ1bmN0aW9uKG4sIGFyKSB7CiAgcmV0dXJuIG4gPiBhci5sZW5ndGggPyBbXSA6IGFyLnNsaWNlKG4pOwp9Owp2YXIgdGFrZSA9IGZ1bmN0aW9uKG4sIGFyKSB7CiAgcmV0dXJuIG4gPj0gYXIubGVuZ3RoID8gYXIgOiBhci5zbGljZSgwLCBuKTsKfTsKdmFyIGRyb3BXaGlsZSA9IGZ1bmN0aW9uKHAsIGFyKSB7CiAgcmV0dXJuIHAoYXJbMF0pID8gZHJvcFdoaWxlKHAsIGFyLnNsaWNlKDEpKSA6IGFyOwp9Owp2YXIgdGFrZVdoaWxlID0gZnVuY3Rpb24ocCwgYXIpIHsKICByZXR1cm4gcChhclswXSkgPyBjb25zKGFyWzBdLCB0YWtlV2hpbGUocCwgYXIuc2xpY2UoMSkpKSA6IFtdOwp9OwoKdmFyIGluZGV4T2YgPSBmdW5jdGlvbih4LCB4cykgewogIC8vIHByb3RvdHlwZSBtZXRob2QgZG9lc24ndCByZXR1cm4gZmFsc3kgdmFsdWUgaWYgbm90IGZvdW5kCiAgdmFyIGkgPSB4cy5pbmRleE9mKHgpOwogIHJldHVybiBpIDwgMCA/IHVuZGVmaW5lZCA6IGkKfTsKCnZhciBtaW5XaXRoID0gZnVuY3Rpb24oZiwgYXIpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihfYXIsIF9iZXN0KSB7CiAgICBpZiAoX2FyLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gX2Jlc3Q7CiAgICB9IGVsc2UgaWYgKF9hclswXVsxXSA8IF9iZXN0WzFdKSB7CiAgICAgIHJldHVybiBmbihfYXIuc2xpY2UoMSksIF9hclswXSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZm4oX2FyLnNsaWNlKDEpLCBfYmVzdCk7CiAgICB9CiAgfTsKICByZXR1cm4gZm4oemlwKGFyLCBtYXAoZiwgYXIpKSwgW0luZmluaXR5LCBJbmZpbml0eV0pOwp9OwoKdmFyIG1heFdpdGggPSBmdW5jdGlvbihmLCBhcikgewogIHZhciBmbiA9IGZ1bmN0aW9uKF9hciwgX2Jlc3QpIHsKICAgIGlmIChfYXIubGVuZ3RoID09PSAwKSB7CiAgICAgIHJldHVybiBfYmVzdDsKICAgIH0gZWxzZSBpZiAoX2FyWzBdWzFdID4gX2Jlc3RbMV0pIHsKICAgICAgcmV0dXJuIGZuKF9hci5zbGljZSgxKSwgX2FyWzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmbihfYXIuc2xpY2UoMSksIF9iZXN0KTsKICAgIH0KICB9OwogIHJldHVybiBmbih6aXAoYXIsIG1hcChmLCBhcikpLCBbLUluZmluaXR5LCAtSW5maW5pdHldKTsKfTsKCnZhciBzcGFuID0gZnVuY3Rpb24ocCwgYXIpIHsKICB2YXIgZm4gPSBmdW5jdGlvbihhciwgX3RzLCBfZnMpIHsKICAgIHJldHVybiAoYXIubGVuZ3RoID09PSAwID8KICAgICAgICAgICAgW190cywgX2ZzXSA6CiAgICAgICAgICAgIChwKGFyWzBdKSA/CiAgICAgICAgICAgICBmbihhci5zbGljZSgxKSwgc25vYyhfdHMsIGFyWzBdKSwgX2ZzKSA6CiAgICAgICAgICAgICBmbihhci5zbGljZSgxKSwgX3RzLCBzbm9jKF9mcywgYXJbMF0pKSkpOwogIH07CiAgcmV0dXJuIGZuKGFyLCBbXSwgW10pOwp9OwoKdmFyIGdyb3VwQnkgPSBmdW5jdGlvbihjbXAsIGFyKSB7CiAgaWYgKGFyLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIFtdOwogIH0gZWxzZSB7CiAgICB2YXIgeCA9IGFyWzBdOwogICAgdmFyIHNwID0gc3BhbihmdW5jdGlvbihiKSB7IHJldHVybiBjbXAoeCwgYik7IH0sIGFyLnNsaWNlKDEpKTsKICAgIHJldHVybiBbY29ucyh4LCBzcFswXSldLmNvbmNhdChncm91cEJ5KGNtcCwgc3BbMV0pKTsKICB9Cn07Cgp2YXIgcmVwZWF0ID0gZnVuY3Rpb24obiwgZm4pIHsKICByZXR1cm4gbiA9PT0gMCA/IFtdIDogYXBwZW5kKHJlcGVhdChuIC0gMSwgZm4pLCBbZm4obiAtIDEpXSk7Cn07Cgp2YXIgcHVzaCA9IGZ1bmN0aW9uKHhzLCB4KSB7CiAgcmV0dXJuIHhzLmNvbmNhdChbeF0pOwp9OwoKdmFyIGNvbXBvc2UgPSBmdW5jdGlvbihmLCBnKSB7CiAgcmV0dXJuIGZ1bmN0aW9uKHgpIHsKICAgIHJldHVybiBmKGcoeCkpOwogIH07Cn07Cgp2YXIgZXZlcnlPdGhlciA9IGZ1bmN0aW9uKGwpIHsKICByZXR1cm4gbC5sZW5ndGggPD0gMSA/IGwgOiBbbFswXV0uY29uY2F0KGV2ZXJ5T3RoZXIobC5zbGljZSgyKSkpOwp9OwoKdmFyIF9tZXJnZSA9IGZ1bmN0aW9uKGwxLCBsMiwgcHJlZCwga2V5KSB7CiAgcmV0dXJuIChsMS5sZW5ndGggPT09IDAgPwogICAgICAgICAgbDIgOgogICAgICAgICAgKGwyLmxlbmd0aCA9PT0gMCA/CiAgICAgICAgICAgbDEgOgogICAgICAgICAgIChwcmVkKGtleShsMVswXSksIGtleShsMlswXSkpID8KICAgICAgICAgICAgW2wxWzBdXS5jb25jYXQoX21lcmdlKGwxLnNsaWNlKDEpLCBsMiwgcHJlZCwga2V5KSkgOgogICAgICAgICAgICBbbDJbMF1dLmNvbmNhdChfbWVyZ2UobDEsIGwyLnNsaWNlKDEpLCBwcmVkLCBrZXkpKSkpKTsKfTsKCnZhciBfc29ydCA9IGZ1bmN0aW9uKGwsIHByZWQsIGtleSkgewogIHJldHVybiAoKGwubGVuZ3RoIDw9IDEpID8KICAgICAgICAgIGwgOgogICAgICAgICAgX21lcmdlKF9zb3J0KGV2ZXJ5T3RoZXIobCksIHByZWQsIGtleSksCiAgICAgICAgICAgICAgICAgX3NvcnQoZXZlcnlPdGhlcihsLnNsaWNlKDEpKSwgcHJlZCwga2V5KSwKICAgICAgICAgICAgICAgICBwcmVkLAogICAgICAgICAgICAgICAgIGtleSkpOwp9OwoKdmFyIHNvcnQgPSBmdW5jdGlvbihsLCBwcmVkLCBrZXkpIHsKICByZXR1cm4gX3NvcnQobCwgKHByZWQgfHwgbHQpLCAoa2V5IHx8IGlkRikpOwp9OwoKdmFyIHNvcnRPbiA9IGZ1bmN0aW9uKGwsIGtleSwgcHJlZCkgewogIHJldHVybiBfc29ydChsLCAocHJlZCB8fCBsdCksIGtleSk7Cn07Cg==","base64")),i=esprima.parse(e),s=escodegen.generate(n(concatPrograms(r,i)));return t&&console.timeEnd&&console.timeEnd("compile"),s}function run(code,contFun,verbose){var compiledCode=compile(code,verbose);eval(compiledCode)({},contFun,"")}function webpplEval(k,code,verbose){var compiledCode=compile(code,verbose);eval.call(global,compiledCode)({},k,"")}function webpplCPS(e){var t=esprima.parse(e),n=optimize(cps(t));return escodegen.generate(n)}function webpplNaming(e){var t=esprima.parse(e),n=naming(t);return escodegen.generate(n)}var types=require("ast-types"),build=types.builders,esprima=require("esprima"),escodegen=require("escodegen"),cps=require("./transforms/cps").cps,optimize=require("./transforms/optimize").optimize,naming=require("./transforms/naming").naming,store=require("./transforms/store").store,varargs=require("./transforms/varargs").varargs,trampoline=require("./transforms/trampoline").trampoline,thunkify=require("./syntax").thunkify,analyze=require("./analysis/main").analyze,util=require("./util"),env={},header=require("./header.js")(env);for(var prop in header)header.hasOwnProperty(prop)&&(global[prop]=header[prop]);util.runningInBrowser()?(window.webppl={run:run,compile:compile,cps:webpplCPS,naming:webpplNaming,analyze:analyze},console.log("webppl loaded.")):global.webpplEval=webpplEval,module.exports={webpplEval:webpplEval,run:run,prepare:prepare,compile:compile,analyze:analyze}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{},require("buffer").Buffer)},{"./analysis/main":90,"./header.js":95,"./syntax":106,"./transforms/cps":107,"./transforms/naming":108,"./transforms/optimize":109,"./transforms/store":110,"./transforms/trampoline":111,"./transforms/varargs":112,"./util":113,"ast-types":15,buffer:115,escodegen:16,esprima:82}],106:[function(e,t,n){"use strict";function u(){var t=e("./util").makeGensym();return function(e){return i.identifier("_".concat(t(e)))}}function a(e,t){return function(){throw console.log(t),console.log(e),new Error(e)}}function f(e,t){return function(n,i){if(r.hasOwnProperty(e))return r[e].check(n)?t.apply(this,s[e].map(function(e){return n[e]})):i();throw new Error("no type "+e)}}function l(e,t,n){function r(i){return i===t.length?n():t[i](e,function(){return r(i+1)})}return r(0)}function c(e,t){if(typeof t=="function")return t();throw new Error(e+": fail is not a function")}function h(e,t){return function(n){return r.Program.check(n)&&n.body.length===1&&r.ExpressionStatement.check(n.body[0])?i.program([i.expressionStatement(e(n.body[0].expression))]):c("inProgram",t)}}function p(e,t){return h(function(n){return r.FunctionExpression.check(n)?i.functionExpression(n.id,n.params,i.blockStatement(e(i.program(n.body.body)).body)):c("inBody",t)},t)}function d(e){return e.length===0?e:(e[e.length-1]=l(e[e.length-1],[f(o.BlockStatement,function(e){return i.blockStatement(d(e))}),f(o.EmptyStatement,function(){return i.emptyStatement()}),f(o.ExpressionStatement,function(e){return i.returnStatement(e)}),f(o.IfStatement,function(e,t,n){return i.ifStatement(e,i.blockStatement(d(t.body)),n===null?null:i.blockStatement(d(n.body)))}),f(o.ReturnStatement,function(e){return i.returnStatement(e)})],a("returnify",e[e.length-1])),e)}function v(e){switch(e.type){case o.FunctionExpression:case o.Identifier:case o.CallExpression:return!1;case o.MemberExpression:return r.Identifier.check(e.object)||!e.computed&&r.Identifier.check(e.property);default:throw console.log(e),"isPrimitive doesn't handle node"}}function m(e,t){return r.Program.check(e)?i.program([i.expressionStatement(i.functionExpression(null,[],i.blockStatement(d(e.body))))]):c("thunkify",t)}var r=e("ast-types").namedTypes,i=e("ast-types").builders,s=e("estraverse").VisitorKeys,o=e("estraverse").Syntax;t.exports={makeGenvar:u,fail:a,clause:f,match:l,thunkify:m,inProgram:h,inBody:p,isPrimitive:v}},{"./util":113,"ast-types":15,estraverse:83}],107:[function(e,t,n){"use strict";function p(e,t,n){return r.functionExpression(n||null,e,r.blockStatement([r.expressionStatement(t)]))}function d(e,t){return r.callExpression(e,t)}function v(e,t){return p([e],t)}function m(e,t){return d(e,[t])}function g(e,t,n){var r=h("k");return p([r].concat(t),N(n,r,r),e)}function y(e,t){if(i.Identifier.check(e))return t(e);var n=h("k");return d(p([n],t(n)),[e])}function b(e,t){return o(e,[u(s.ArrayExpression,function(e){return w(e,function(e){return t(r.arrayExpression(e))})}),u(s.AssignmentExpression,function(n,i){return b(n,function(n){return b(i,function(i){return t(r.assignmentExpression(e.operator,n,i))})})}),u(s.BinaryExpression,function(n,i){return b(n,function(n){return b(i,function(i){return t(r.binaryExpression(e.operator,n,i))})})}),u(s.CallExpression,function(n,i){if(l(n))return b(n,function(e){return w(i,function(n){return t(r.callExpression(e,n))})});var s=h("result");return E(e,v(s,t(s)))}),u(s.ConditionalExpression,function(e,n,i){return b(e,function(e){var s=h("result");return y(v(s,t(s)),function(t){return r.conditionalExpression(e,E(n,t),E(i,t))})})}),u(s.FunctionExpression,function(e,n,r){return t(g(e,n,r))}),u(s.Identifier,function(){return t(e)}),u(s.Literal,function(){return t(e)}),u(s.LogicalExpression,function(n,i){return b(n,function(n){var s=h("result");return y(v(s,t(s)),function(t){if(e.operator==="||")return r.conditionalExpression(n,E(n,t),E(i,t));if(e.operator==="&&")return r.conditionalExpression(n,E(i,t),E(n,t));throw console.log(e.operator),new Error("cps: unhandled logical operator "+e.operator)})})}),u(s.MemberExpression,function(n,i){return b(n,function(n){return b(i,function(i){return t(r.memberExpression(n,i,e.computed))})})}),u(s.ObjectExpression,function(e){return w(e,function(e){return t(r.objectExpression(e))})}),u(s.Property,function(e,n){return b(n,function(n){return t(r.property("init",e,n))})}),u(s.UnaryExpression,function(n){return b(n,function(n){return t(r.unaryExpression(e.operator,n))})})],a("atomize: unrecognized node",e))}function w(e,t){function n(r){return r===e.length?t(e):b(e[r],function(t){return e[r]=t,n(r+1)})}return e=e.concat(),n(0)}function E(e,t){switch(e.type){case s.ArrayExpression:case s.AssignmentExpression:case s.BinaryExpression:case s.FunctionExpression:case s.Identifier:case s.Literal:case s.MemberExpression:case s.ObjectExpression:case s.UnaryExpression:return b(e,function(e){return m(t,e)});default:return o(e,[u(s.CallExpression,function(e,n){return b(e,function(e){return w(n,function(n){return l(e)?m(t,d(e,n)):d(e,[t].concat(n))})})}),u(s.ConditionalExpression,function(e,n,i){return b(e,function(e){return y(t,function(t){return r.conditionalExpression(e,E(n,t),E(i,t))})})}),u(s.LogicalExpression,function(n,i){return b(n,function(n){return y(t,function(t){if(e.operator==="||")return r.conditionalExpression(n,E(n,t),E(i,t));if(e.operator==="&&")return r.conditionalExpression(n,E(i,t),E(n,t));throw console.log(e.operator),new Error("cps: unhandled logical operator "+e.operator)})})})],a("can't cps",e))}}function S(e,t,n){return u(s.VariableDeclarator,function(r,s){return i.FunctionExpression.check(s)&&(s.id=r),t+1===e.length?E(s,n(r)):E(s,v(r,S(e,t+1,n)))})(e[t],a("expected declarator",e[t]))}function x(e,t,n,i){return t===e.length?E(r.identifier("undefined"),n):t+1===e.length?N(e[t],n,i):T(e[t],x(e,t+1,n,i),i)}function T(e,t,n){return o(e,[u(s.BlockStatement,function(e){return x(e,0,v(h("dummy"),t),n)}),u(s.EmptyStatement,function(){return t}),u(s.ExpressionStatement,function(e){return E(e,v(h("dummy"),t))}),u(s.IfStatement,function(e,i,s){s||(s=r.emptyStatement());var o=v(h("dummy"),t);return y(o,function(t){return b(e,function(e){return r.conditionalExpression(e,N(i,t,n),N(s,t,n))})})}),u(s.ReturnStatement,function(e){return E(e,n)}),u(s.VariableDeclaration,function(e){return S(e,0,function(e){return v(e,t)})})],a("cpsInnerStatement",e))}function N(e,t,n){return o(e,[u(s.BlockStatement,function(e){return x(e,0,t,n)}),u(s.EmptyStatement,function(){return E(r.identifier("undefined"),t)}),u(s.ExpressionStatement,function(e){return E(e,t)}),u(s.IfStatement,function(e,i,s){return s||(s=r.emptyStatement()),y(t,function(t){return b(e,function(e){return r.conditionalExpression(e,N(i,t,n),N(s,t,n))})})}),u(s.ReturnStatement,function(e){return E(e,n)}),u(s.VariableDeclaration,function(e){return S(e,0,function(e){return v(e,E(r.identifier("undefined"),t))})})],a("cpsFinalStatement",e))}function C(e){return h=c(),f(function(e){return u(s.FunctionExpression,function(e,t,n){return g(e,t,n)})(e,a("cps: expected FunctionExpression",e))})(e,a("cps: inProgram",e))}var r=e("ast-types").builders,i=e("ast-types").namedTypes,s=e("estraverse").Syntax,o=e("../syntax").match,u=e("../syntax").clause,a=e("../syntax").fail,f=e("../syntax").inProgram,l=e("../syntax").isPrimitive,c=e("../syntax").makeGenvar,h=null;t.exports={cps:C}},{"../syntax":106,"ast-types":15,estraverse:83}],108:[function(e,t,n){"use strict";function c(){var e=o();return function(){return s.literal(e("_"))}}function v(e){return s.callExpression(s.memberExpression(e,s.identifier("concat"),!1),[h()])}function m(e){switch(e.type){case r.FunctionExpression:d.unshift(p("address"));break;default:}}function g(e){switch(e.type){case r.FunctionExpression:return s.functionExpression(e.id,[d.shift()].concat(e.params),e.body);case r.CallExpression:return l(e.callee)?e:s.callExpression(e.callee,[v(d[0])].concat(e.arguments));default:}}function y(e){return h=c(),p=u(),a(function(e){return i(e,{enter:m,leave:g})})(e,f("naming: inProgram",e))}var r=e("estraverse").Syntax,i=e("estraverse").replace,s=e("ast-types").builders,o=e("../util").makeGensym,u=e("../syntax").makeGenvar,a=e("../syntax").inProgram,f=e("../syntax").fail,l=e("../syntax").isPrimitive,h=null,p=null,d=[];t.exports={naming:y}},{"../syntax":106,"../util":113,"ast-types":15,estraverse:83}],109:[function(e,t,n){"use strict";function l(){var e=["pass/transform-dynamic-to-static-property-access","pass/transform-dynamic-to-static-property-definition","pass/transform-immediate-function-call","pass/transform-logical-association","pass/reordering-function-declarations","pass/remove-unused-label","pass/remove-empty-statement","pass/remove-wasted-blocks","pass/transform-to-compound-assignment","pass/transform-branch-to-expression","pass/transform-typeof-undefined","pass/reduce-sequence-expression","pass/reduce-branch-jump","pass/reduce-multiple-if-statements","pass/dead-code-elimination","pass/remove-side-effect-free-expressions","pass/remove-context-sensitive-expressions","pass/tree-based-constant-folding","pass/drop-variable-definition","pass/eliminate-duplicate-function-declarations"];return e=[e.map(r.pass.require)],e.push({once:!0,pass:["post/transform-static-to-dynamic-property-access","post/transform-infinity","post/rewrite-boolean","post/rewrite-conditional-expression","post/omit-parens-in-void-context-iife"].map(r.pass.require)}),e}function c(e,t){return s.namedTypes.Identifier.check(e)&&s.namedTypes.Identifier.check(t)&&e.name===t.name}function h(e){switch(e.type){case u.BlockStatement:for(var t=0;t<e.body.length;t++){var n=e.body[t];if(s.namedTypes.VariableDeclaration.check(n)){var r=n.declarations[0];c(r.id,r.init)&&e.body.splice(t,1)}}return e;case u.ExpressionStatement:if(s.namedTypes.CallExpression.check(e.expression)&&s.namedTypes.FunctionExpression.check(e.expression.callee)){var i=e.expression.callee,a=e.expression,f=[];for(var t=0;t<a.arguments.length;t++){var l=o.variableDeclaration("var",[o.variableDeclarator(i.params[t],a.arguments[t])]);f.push(l)}return f.push(i.body),o.blockStatement(f)}return e;default:return e}}function p(e){return f(function(e){return r.optimize(i.replace(e,{enter:h,leave:h}),l(),{inStrictCode:!0,legacy:!1})})(e,a("optimize: inBody",e))}var r=e("esmangle"),i=e("estraverse"),s=e("ast-types"),o=s.builders,u=i.Syntax,a=e("../syntax").fail,f=e("../syntax").inProgram;t.exports={optimize:p}},{"../syntax":106,"ast-types":15,esmangle:35,estraverse:83}],110:[function(e,t,n){"use strict";function a(e){switch(e.type){case i.FunctionExpression:return s.functionExpression(e.id,[u].concat(e.params),e.body);case i.CallExpression:return o(e.callee)?e:e.arguments.length>0&&e.arguments[0].type==="Identifier"&&e.arguments[0].name==="globalStore"?e:s.callExpression(e.callee,[u].concat(e.arguments));default:return e}}function f(e){return r.replace(e,{leave:a})}var r=e("estraverse"),i=r.Syntax,s=e("ast-types").builders,o=e("../syntax").isPrimitive,u=s.identifier("globalStore");t.exports={store:f}},{"../syntax":106,"ast-types":15,estraverse:83}],111:[function(e,t,n){"use strict";function c(e){return s.functionExpression(null,[],s.blockStatement([s.returnStatement(e)]),!1,!1)}function h(e){o.ReturnStatement.check(e)&&this.skip()}function p(e){switch(e.type){case i.ExpressionStatement:switch(e.expression.type){case i.CallExpression:return l(e.expression.callee)?e:s.returnStatement(c(e.expression));default:return s.returnStatement(c(e.expression))};default:return e}}function v(e){return f(function(e){return s.callExpression(d,[r(e,{enter:h,leave:p})])})(e,a("trampoline",e))}var r=e("estraverse").replace,i=e("estraverse").Syntax,s=e("ast-types").builders,o=e("ast-types").namedTypes,u=e("esprima").parse,a=e("../syntax").fail,f=e("../syntax").inProgram,l=e("../syntax").isPrimitive,d=u(["(function(p) {","  return function(s, k, a) {","    var trampoline = p(s, k, a);","    while (trampoline) {","      trampoline = trampoline();","    }","  }","})"].join("\n")).body[0].expression;t.exports={trampoline:v}},{"../syntax":106,"ast-types":15,esprima:82,estraverse:83}],112:[function(e,t,n){"use strict";function f(){return a+=1,"_arguments"+a}function l(e){var t=e;while(t!==undefined){if(t.type==="FunctionExpression")break;t=t.parentNode}if(t===undefined)throw'Used "arguments" outside of function context!';return t}function c(e,t){return e.parentNode=t,e}function h(e){if(e.seenByVarargs)return e;e.seenByVarargs=!0;switch(e.type){case u.Identifier:if(e.name!=="arguments")return e;var t=l(e),n=t.argumentsId||f();e.name=n;if(t.argumentsId===undefined){t.argumentsId=n,r.equal(t.body.type,"BlockStatement");var i=o.parse("var REPLACEME = Array.prototype.slice.call(arguments, 3);").body[0];i.declarations[0].id.name=n,t.body.body=[i].concat(t.body.body)}return e;default:return e}}function p(e){return e=i.replace(e,{enter:c,leave:h}),e}var r=e("assert"),i=e("estraverse"),s=e("ast-types"),o=e("esprima"),u=i.Syntax,a=0;t.exports={varargs:p}},{assert:114,"ast-types":15,esprima:82,estraverse:83}],113:[function(e,t,n){"use strict";function i(){return typeof window!="undefined"}function s(){var e=0;return function(t){var n=t+e;return e+=1,n}}function u(e){console.log(JSON.stringify(e,null,2))}function a(e){if(e.length===0)return 0;var t=r(e).reduce(function(e,t){return e+t});return t}function f(e){var t={},n=a(r.values(e));return r.each(e,function(r,i){t[i]=e[i]/n}),t}function l(e){var t=a(e);return e.map(function(e){return e/t})}function c(e){var t=Math.max.apply(null,e),n=0;for(var r=0;r<e.length;++r)n+=e[r]===-Infinity?0:Math.exp(e[r]-t);return t+Math.log(n)}function v(e,t,n,r){return r=r===undefined?0:r,r===n.length?t():e(n[r],r,n,function(){return v(e,t,n,r+1)})}function m(e,t,n){var i=t!==undefined;return r.each(t,function(t,r){var s=e[r]||0,o=Math.abs(s-t)<=n;i=i&&o}),i||(console.log("Expected:",t),console.log("Actual:",e)),i}function g(e,t){var n=t==undefined?function(e){return e}:t;if(r.isArray(e))return a(xs)/xs.length;var i=a(r.mapObject(e,function(e,t){return n(t)*e}));return i}function y(e){var t=g(e);if(r.isArray(e))var n=g(e.map(function(e){return Math.pow(e-t,2)}));else var n=a(r.mapObject(e,function(e,n){return e*Math.pow(t-n,2)}));return Math.sqrt(n)}var r=e("underscore"),o=s(),h=function(e,t,n){var n=n||0;for(var r=n;r<e.length;r++)if(t(e[r]))return r;return-1},p=function(e,t,n){var n=n||e.length-1;for(var r=n;r>=0;r--)if(t(e[r]))return r;return-1},d=function(e,t){return e.slice(0,t).concat(e.slice(t+1))};t.exports={cpsForEach:v,expectation:g,gensym:o,histsApproximatelyEqual:m,indexOfPred:h,logsumexp:c,lastIndexOfPred:p,deleteIndex:d,makeGensym:s,normalizeArray:l,normalizeHist:f,prettyJSON:u,runningInBrowser:i,std:y,sum:a}},{underscore:88}],114:[function(e,t,n){function u(e,t){return r.isUndefined(t)?""+t:r.isNumber(t)&&!isFinite(t)?t.toString():r.isFunction(t)||r.isRegExp(t)?t.toString():t}function a(e,t){return r.isString(e)?e.length<t?e:e.slice(0,t):e}function f(e){return a(JSON.stringify(e.actual,u),128)+" "+e.operator+" "+a(JSON.stringify(e.expected,u),128)}function l(e,t,n,r,i){throw new o.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function c(e,t){e||l(e,!0,t,"==",o.ok)}function h(e,t){if(e===t)return!0;if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return r.isDate(e)&&r.isDate(t)?e.getTime()===t.getTime():r.isRegExp(e)&&r.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:!r.isObject(e)&&!r.isObject(t)?e==t:d(e,t)}function p(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function d(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(r.isPrimitive(e)||r.isPrimitive(t))return e===t;var n=p(e),s=p(t);if(n&&!s||!n&&s)return!1;if(n)return e=i.call(e),t=i.call(t),h(e,t);var o=g(e),u=g(t),a,f;if(o.length!=u.length)return!1;o.sort(),u.sort();for(f=o.length-1;f>=0;f--)if(o[f]!=u[f])return!1;for(f=o.length-1;f>=0;f--){a=o[f];if(!h(e[a],t[a]))return!1}return!0}function v(e,t){return!e||!t?!1:Object.prototype.toString.call(t)=="[object RegExp]"?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1}function m(e,t,n,i){var s;r.isString(n)&&(i=n,n=null);try{t()}catch(o){s=o}i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!s&&l(s,n,"Missing expected exception"+i),!e&&v(s,n)&&l(s,n,"Got unwanted exception"+i);if(e&&s&&n&&!v(s,n)||!e&&s)throw s}var r=e("util/"),i=Array.prototype.slice,s=Object.prototype.hasOwnProperty,o=t.exports=c;o.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var n=t.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){
var i=r.stack,s=n.name,o=i.indexOf("\n"+s);if(o>=0){var u=i.indexOf("\n",o+1);i=i.substring(u+1)}this.stack=i}}},r.inherits(o.AssertionError,Error),o.fail=l,o.ok=c,o.equal=function(t,n,r){t!=n&&l(t,n,r,"==",o.equal)},o.notEqual=function(t,n,r){t==n&&l(t,n,r,"!=",o.notEqual)},o.deepEqual=function(t,n,r){h(t,n)||l(t,n,r,"deepEqual",o.deepEqual)},o.notDeepEqual=function(t,n,r){h(t,n)&&l(t,n,r,"notDeepEqual",o.notDeepEqual)},o.strictEqual=function(t,n,r){t!==n&&l(t,n,r,"===",o.strictEqual)},o.notStrictEqual=function(t,n,r){t===n&&l(t,n,r,"!==",o.notStrictEqual)},o.throws=function(e,t,n){m.apply(this,[!0].concat(i.call(arguments)))},o.doesNotThrow=function(e,t){m.apply(this,[!1].concat(i.call(arguments)))},o.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}},{"util/":124}],115:[function(e,t,n){function a(e){return this instanceof a?(this.length=0,this.parent=undefined,typeof e=="number"?f(this,e):typeof e=="string"?l(this,e,arguments.length>1?arguments[1]:"utf8"):c(this,e)):arguments.length>1?new a(e,arguments[1]):new a(e)}function f(e,t){e=g(e,t<0?0:y(t)|0);if(!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}function l(e,t,n){if(typeof n!="string"||n==="")n="utf8";var r=w(t,n)|0;return e=g(e,r),e.write(t,n),e}function c(e,t){if(a.isBuffer(t))return h(e,t);if(s(t))return p(e,t);if(t==null)throw new TypeError("must start with number, buffer, array or string");return typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer?d(e,t):t.length?v(e,t):m(e,t)}function h(e,t){var n=y(t.length)|0;return e=g(e,n),t.copy(e,0,0,n),e}function p(e,t){var n=y(t.length)|0;e=g(e,n);for(var r=0;r<n;r+=1)e[r]=t[r]&255;return e}function d(e,t){var n=y(t.length)|0;e=g(e,n);for(var r=0;r<n;r+=1)e[r]=t[r]&255;return e}function v(e,t){var n=y(t.length)|0;e=g(e,n);for(var r=0;r<n;r+=1)e[r]=t[r]&255;return e}function m(e,t){var n,r=0;t.type==="Buffer"&&s(t.data)&&(n=t.data,r=y(n.length)|0),e=g(e,r);for(var i=0;i<r;i+=1)e[i]=n[i]&255;return e}function g(e,t){a.TYPED_ARRAY_SUPPORT?e=a._augment(new Uint8Array(t)):(e.length=t,e._isBuffer=!0);var n=t!==0&&t<=a.poolSize>>>1;return n&&(e.parent=u),e}function y(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return e|0}function b(e,t){if(this instanceof b){var n=new a(e,t);return delete n.parent,n}return new b(e,t)}function w(e,t){typeof e!="string"&&(e=String(e));if(e.length===0)return 0;switch(t||"utf8"){case"ascii":case"binary":case"raw":return e.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e.length*2;case"hex":return e.length>>>1;case"utf8":case"utf-8":return X(e).length;case"base64":return J(e).length;default:return e.length}}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=t.length;if(s%2!==0)throw new Error("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;o++){var u=parseInt(t.substr(o*2,2),16);if(isNaN(u))throw new Error("Invalid hex string");e[n+o]=u}return o}function S(e,t,n,r){return K(X(t,e.length-n),e,n,r)}function x(e,t,n,r){return K(V(t),e,n,r)}function T(e,t,n,r){return x(e,t,n,r)}function N(e,t,n,r){return K(J(t),e,n,r)}function C(e,t,n,r){return K($(t,e.length-n),e,n,r)}function k(e,t,n){return t===0&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function L(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var s=t;s<n;s++)e[s]<=127?(r+=Q(i)+String.fromCharCode(e[s]),i=""):i+="%"+e[s].toString(16);return r+Q(i)}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]&127);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;if(!t||t<0)t=0;if(!n||n<0||n>r)n=r;var i="";for(var s=t;s<n;s++)i+=W(e[s]);return i}function _(e,t,n){var r=e.slice(t,n),i="";for(var s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,s){if(!a.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<s)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function H(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;i++)e[n+i]=t>>>(r?i:3-i)*8&255}function j(e,t,n,r,i,s){if(t>i||t<s)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function F(e,t,n,r,s){return s||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,s){return s||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,n,r,52,8),n+8}function U(e){e=z(e).replace(R,"");if(e.length<2)return"";while(e.length%4!==0)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){t=t||Infinity;var n,r=e.length,i=null,s=[],o=0;for(;o<r;o++){n=e.charCodeAt(o);if(n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((t-=3)>-1&&s.push(239,191,189),i=null);if(n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else{if(!(n<2097152))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}}return s}function V(e){var t=[];for(var n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t}function $(e,t){var n,r,i,s=[];for(var o=0;o<e.length;o++){if((t-=2)<0)break;n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r)}return s}function J(e){return r.toByteArray(U(e))}function K(e,t,n,r){for(var i=0;i<r;i++){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function Q(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var r=e("base64-js"),i=e("ieee754"),s=e("is-array");n.Buffer=a,n.SlowBuffer=b,n.INSPECT_MAX_BYTES=50,a.poolSize=8192;var o=1073741823,u={};a.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},t.foo()===42&&typeof t.subarray=="function"&&(new Uint8Array(1)).subarray(1,1).byteLength===0}catch(n){return!1}}(),a.isBuffer=function(t){return t!=null&&!!t._isBuffer},a.compare=function(t,n){if(!a.isBuffer(t)||!a.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;var r=t.length,i=n.length,s=0,o=Math.min(r,i);while(s<o){if(t[s]!==n[s])break;++s}return s!==o&&(r=t[s],i=n[s]),r<i?-1:i<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!s(t))throw new TypeError("list argument must be an Array of Buffers.");if(t.length===0)return new a(0);if(t.length===1)return t[0];var r;if(n===undefined){n=0;for(r=0;r<t.length;r++)n+=t[r].length}var i=new a(n),o=0;for(r=0;r<t.length;r++){var u=t[r];u.copy(i,o),o+=u.length}return i},a.byteLength=w,a.prototype.length=undefined,a.prototype.parent=undefined,a.prototype.toString=function G(e,t,n){var r=!1;t|=0,n=n===undefined||n===Infinity?this.length:n|0,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length);if(n<=t)return"";for(;;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return A(this,t,n);case"binary":return O(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:a.compare(this,t)===0},a.prototype.inspect=function(){var t="",r=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:a.compare(this,t)},a.prototype.indexOf=function(t,n){function r(e,t,n){var r=-1;for(var i=0;n+i<e.length;i++)if(e[n+i]===t[r===-1?0:i-r]){r===-1&&(r=i);if(i-r+1===t.length)return n+r}else r=-1;return-1}n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n>>=0;if(this.length===0)return-1;if(n>=this.length)return-1;n<0&&(n=Math.max(this.length+n,0));if(typeof t=="string")return t.length===0?-1:String.prototype.indexOf.call(this,t,n);if(a.isBuffer(t))return r(this,t,n);if(typeof t=="number")return a.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},a.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},a.prototype.set=function(t,n){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,n)},a.prototype.write=function(t,n,r,i){if(n===undefined)i="utf8",r=this.length,n=0;else if(r===undefined&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n|=0,isFinite(r)?(r|=0,i===undefined&&(i="utf8")):(i=r,r=undefined);else{var s=i;i=n,n=r|0,r=s}var o=this.length-n;if(r===undefined||r>o)r=o;if(t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");var u=!1;for(;;)switch(i){case"hex":return E(this,t,n,r);case"utf8":case"utf-8":return S(this,t,n,r);case"ascii":return x(this,t,n,r);case"binary":return T(this,t,n,r);case"base64":return N(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n,r);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,n){var r=this.length;t=~~t,n=n===undefined?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(a.TYPED_ARRAY_SUPPORT)i=a._augment(this.subarray(t,n));else{var s=n-t;i=new a(s,undefined);for(var o=0;o<s;o++)i[o]=this[o+t]}return i.length&&(i.parent=this.parent||this),i},a.prototype.readUIntLE=function(t,n,r){t|=0,n|=0,r||D(t,n,this.length);var i=this[t],s=1,o=0;while(++o<n&&(s*=256))i+=this[t+o]*s;return i},a.prototype.readUIntBE=function(t,n,r){t|=0,n|=0,r||D(t,n,this.length);var i=this[t+ --n],s=1;while(n>0&&(s*=256))i+=this[t+ --n]*s;return i},a.prototype.readUInt8=function(t,n){return n||D(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,n){return n||D(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,n){return n||D(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,n){return n||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},a.prototype.readUInt32BE=function(t,n){return n||D(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,n,r){t|=0,n|=0,r||D(t,n,this.length);var i=this[t],s=1,o=0;while(++o<n&&(s*=256))i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i},a.prototype.readIntBE=function(t,n,r){t|=0,n|=0,r||D(t,n,this.length);var i=n,s=1,o=this[t+ --i];while(i>0&&(s*=256))o+=this[t+ --i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*n)),o},a.prototype.readInt8=function(t,n){return n||D(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,n){n||D(t,2,this.length);var r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r},a.prototype.readInt16BE=function(t,n){n||D(t,2,this.length);var r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r},a.prototype.readInt32LE=function(t,n){return n||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return n||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,n){return n||D(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return n||D(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return n||D(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return n||D(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,n,r,i){t=+t,n|=0,r|=0,i||P(this,t,n,r,Math.pow(2,8*r),0);var s=1,o=0;this[n]=t&255;while(++o<r&&(s*=256))this[n+o]=t/s&255;return n+r},a.prototype.writeUIntBE=function(t,n,r,i){t=+t,n|=0,r|=0,i||P(this,t,n,r,Math.pow(2,8*r),0);var s=r-1,o=1;this[n+s]=t&255;while(--s>=0&&(o*=256))this[n+s]=t/o&255;return n+r},a.prototype.writeUInt8=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=t,n+1},a.prototype.writeUInt16LE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):H(this,t,n,!0),n+2},a.prototype.writeUInt16BE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):H(this,t,n,!1),n+2},a.prototype.writeUInt32LE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t):B(this,t,n,!0),n+4},a.prototype.writeUInt32BE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):B(this,t,n,!1),n+4},a.prototype.writeIntLE=function(t,n,r,i){t=+t,n|=0;if(!i){var s=Math.pow(2,8*r-1);P(this,t,n,r,s-1,-s)}var o=0,u=1,a=t<0?1:0;this[n]=t&255;while(++o<r&&(u*=256))this[n+o]=(t/u>>0)-a&255;return n+r},a.prototype.writeIntBE=function(t,n,r,i){t=+t,n|=0;if(!i){var s=Math.pow(2,8*r-1);P(this,t,n,r,s-1,-s)}var o=r-1,u=1,a=t<0?1:0;this[n+o]=t&255;while(--o>=0&&(u*=256))this[n+o]=(t/u>>0)-a&255;return n+r},a.prototype.writeInt8=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=t,n+1},a.prototype.writeInt16LE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):H(this,t,n,!0),n+2},a.prototype.writeInt16BE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):H(this,t,n,!1),n+2},a.prototype.writeInt32LE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):B(this,t,n,!0),n+4},a.prototype.writeInt32BE=function(t,n,r){return t=+t,n|=0,r||P(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):B(this,t,n,!1),n+4},a.prototype.writeFloatLE=function(t,n,r){return F(this,t,n,!0,r)},a.prototype.writeFloatBE=function(t,n,r){return F(this,t,n,!1,r)},a.prototype.writeDoubleLE=function(t,n,r){return I(this,t,n,!0,r)},a.prototype.writeDoubleBE=function(t,n,r){return I(this,t,n,!1,r)},a.prototype.copy=function(t,n,r,i){r||(r=0),!i&&i!==0&&(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r);if(i===r)return 0;if(t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var s=i-r;if(s<1e3||!a.TYPED_ARRAY_SUPPORT)for(var o=0;o<s;o++)t[o+n]=this[o+r];else t._set(this.subarray(r,r+s),n);return s},a.prototype.fill=function(t,n,r){t||(t=0),n||(n=0),r||(r=this.length);if(r<n)throw new RangeError("end < start");if(r===n)return;if(this.length===0)return;if(n<0||n>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var i;if(typeof t=="number")for(i=n;i<r;i++)this[i]=t;else{var s=X(t.toString()),o=s.length;for(i=n;i<r;i++)this[i]=s[i%o]}return this},a.prototype.toArrayBuffer=function(){if(typeof Uint8Array!="undefined"){if(a.TYPED_ARRAY_SUPPORT)return(new a(this)).buffer;var t=new Uint8Array(this.length);for(var n=0,r=t.length;n<r;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var q=a.prototype;a._augment=function(t){return t.constructor=a,t._isBuffer=!0,t._set=t.set,t.get=q.get,t.set=q.set,t.write=q.write,t.toString=q.toString,t.toLocaleString=q.toString,t.toJSON=q.toJSON,t.equals=q.equals,t.compare=q.compare,t.indexOf=q.indexOf,t.copy=q.copy,t.slice=q.slice,t.readUIntLE=q.readUIntLE,t.readUIntBE=q.readUIntBE,t.readUInt8=q.readUInt8,t.readUInt16LE=q.readUInt16LE,t.readUInt16BE=q.readUInt16BE,t.readUInt32LE=q.readUInt32LE,t.readUInt32BE=q.readUInt32BE,t.readIntLE=q.readIntLE,t.readIntBE=q.readIntBE,t.readInt8=q.readInt8,t.readInt16LE=q.readInt16LE,t.readInt16BE=q.readInt16BE,t.readInt32LE=q.readInt32LE,t.readInt32BE=q.readInt32BE,t.readFloatLE=q.readFloatLE,t.readFloatBE=q.readFloatBE,t.readDoubleLE=q.readDoubleLE,t.readDoubleBE=q.readDoubleBE,t.writeUInt8=q.writeUInt8,t.writeUIntLE=q.writeUIntLE,t.writeUIntBE=q.writeUIntBE,t.writeUInt16LE=q.writeUInt16LE,t.writeUInt16BE=q.writeUInt16BE,t.writeUInt32LE=q.writeUInt32LE,t.writeUInt32BE=q.writeUInt32BE,t.writeIntLE=q.writeIntLE,t.writeIntBE=q.writeIntBE,t.writeInt8=q.writeInt8,t.writeInt16LE=q.writeInt16LE,t.writeInt16BE=q.writeInt16BE,t.writeInt32LE=q.writeInt32LE,t.writeInt32BE=q.writeInt32BE,t.writeFloatLE=q.writeFloatLE,t.writeFloatBE=q.writeFloatBE,t.writeDoubleLE=q.writeDoubleLE,t.writeDoubleBE=q.writeDoubleBE,t.fill=q.fill,t.inspect=q.inspect,t.toArrayBuffer=q.toArrayBuffer,t};var R=/[^+\/0-9A-z\-]/g},{"base64-js":116,ieee754:117,"is-array":118}],116:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";function l(e){var t=e.charCodeAt(0);if(t===n||t===a)return 62;if(t===i||t===f)return 63;if(t<s)return-1;if(t<s+10)return t-s+26+26;if(t<u+26)return t-u;if(t<o+26)return t-o+26}function c(e){function c(e){u[f++]=e}var n,r,i,s,o,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.length;o="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,u=new t(e.length*3/4-o),i=o>0?e.length-4:e.length;var f=0;for(n=0,r=0;n<i;n+=4,r+=3)s=l(e.charAt(n))<<18|l(e.charAt(n+1))<<12|l(e.charAt(n+2))<<6|l(e.charAt(n+3)),c((s&16711680)>>16),c((s&65280)>>8),c(s&255);return o===2?(s=l(e.charAt(n))<<2|l(e.charAt(n+1))>>4,c(s&255)):o===1&&(s=l(e.charAt(n))<<10|l(e.charAt(n+1))<<4|l(e.charAt(n+2))>>2,c(s>>8&255),c(s&255)),u}function h(e){function u(e){return r.charAt(e)}function a(e){return u(e>>18&63)+u(e>>12&63)+u(e>>6&63)+u(e&63)}var t,n=e.length%3,i="",s,o;for(t=0,o=e.length-n;t<o;t+=3)s=(e[t]<<16)+(e[t+1]<<8)+e[t+2],i+=a(s);switch(n){case 1:s=e[e.length-1],i+=u(s>>2),i+=u(s<<4&63),i+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1],i+=u(s>>10),i+=u(s>>4&63),i+=u(s<<2&63),i+="="}return i}var t=typeof Uint8Array!="undefined"?Uint8Array:Array,n="+".charCodeAt(0),i="/".charCodeAt(0),s="0".charCodeAt(0),o="a".charCodeAt(0),u="A".charCodeAt(0),a="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=c,e.fromByteArray=h})(typeof n=="undefined"?this.base64js={}:n)},{}],117:[function(e,t,n){n.read=function(e,t,n,r,i){var s,o,u=i*8-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?i-1:0,h=n?-1:1,p=e[t+c];c+=h,s=p&(1<<-l)-1,p>>=-l,l+=u;for(;l>0;s=s*256+e[t+c],c+=h,l-=8);o=s&(1<<-l)-1,s>>=-l,l+=r;for(;l>0;o=o*256+e[t+c],c+=h,l-=8);if(s===0)s=1-f;else{if(s===a)return o?NaN:(p?-1:1)*Infinity;o+=Math.pow(2,r),s-=f}return(p?-1:1)*o*Math.pow(2,s-r)},n.write=function(e,t,n,r,i,s){var o,u,a,f=s*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===Infinity?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+c>=1?t+=h/a:t+=h*Math.pow(2,1-c),t*a>=2&&(o++,a/=2),o+c>=l?(u=0,o=l):o+c>=1?(u=(t*a-1)*Math.pow(2,i),o+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));for(;i>=8;e[n+p]=u&255,p+=d,u/=256,i-=8);o=o<<i|u,f+=i;for(;f>0;e[n+p]=o&255,p+=d,o/=256,f-=8);e[n+p-d]|=v*128}},{}],118:[function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],119:[function(e,t,n){typeof Object.create=="function"?t.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],120:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return typeof location!="undefined"?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],121:[function(e,t,n){(function(e){function t(e,t){var n=0;for(var r=e.length-1;r>=0;r--){var i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};n.resolve=function(){var n="",r=!1;for(var i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:e.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)continue;n=o+"/"+n,r=o.charAt(0)==="/"}return n=t(s(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),i=o(e,-1)==="/";return e=t(s(e.split("/"),function(e){return!!e}),!r).join("/"),!e&&!r&&(e="."),e&&i&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return e.charAt(0)==="/"},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(s(e,function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){var t=0;for(;t<e.length;t++)if(e[t]!=="")break;var n=e.length-1;for(;n>=0;n--)if(e[n]!=="")break;return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);var i=r(e.split("/")),s=r(t.split("/")),o=Math.min(i.length,s.length),u=o;for(var a=0;a<o;a++)if(i[a]!==s[a]){u=a;break}var f=[];for(var a=u;a<i.length;a++)f.push("..");return f=f.concat(s.slice(u)),f.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var o="ab".substr(-1)==="b"?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:122}],122:[function(e,t,n){function o(){if(s)return;s=!0;var e,t=i.length;while(t){e=i,i=[];var n=-1;while(++n<t)e[n]();t=i.length}s=!1}function u(){}var r=t.exports={},i=[],s=!1;r.nextTick=function(e){i.push(e),s||setTimeout(o,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=u,r.addListener=u,r.once=u,r.off=u,r.removeListener=u,r.removeAllListeners=u,r.emit=u,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],123:[function(e,t,n){t.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}},{}],124:[function(e,t,n){(function(t,r){function u(e,t){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&n._extend(r,t),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function f(e,t){return e}function l(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return S(i)||(i=c(e,i,r)),i}var s=h(e,t);if(s)return s;var o=Object.keys(t),u=l(o);e.showHidden&&(o=Object.getOwnPropertyNames(t));if(L(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(t);if(o.length===0){if(A(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(N(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(L(t))return p(t)}var f="",y=!1,b=["{","}"];g(t)&&(y=!0,b=["[","]"]);if(A(t)){var w=t.name?": "+t.name:"";f=" [Function"+w+"]"}N(t)&&(f=" "+RegExp.prototype.toString.call(t)),k(t)&&(f=" "+Date.prototype.toUTCString.call(t)),L(t)&&(f=" "+p(t));if(o.length!==0||!!y&&t.length!=0){if(r<0)return N(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return y?E=d(e,t,r,u,o):E=o.map(function(n){return v(e,t,r,u,n,y)}),e.seen.pop(),m(E,f,b)}return b[0]+f+b[1]}function h(e,t){if(T(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(E(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){var s=[];for(var o=0,u=t.length;o<u;++o)H(t,String(o))?s.push(v(e,t,n,r,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(v(e,t,n,r,i,!0))}),s}function v(e,t,n,r,i,s){var o,u,a;a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},a.get?a.set?u=e.stylize("[Getter/Setter]","special"):u=e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),H(r,i)||(o="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(b(n)?u=c(e,a.value,null):u=c(e,a.value,n-1),u.indexOf("\n")>-1&&(s?u=u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):u="\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special"));if(T(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function m(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function y(e){return typeof e=="boolean"}function b(e){return e===null}function w(e){return e==null}function E(e){return typeof e=="number"}function S(e){return typeof e=="string"}function x(e){return typeof e=="symbol"}function T(e){return e===void 0}function N(e){return C(e)&&M(e)==="[object RegExp]"}function C(e){return typeof e=="object"&&e!==null}function k(e){return C(e)&&M(e)==="[object Date]"}function L(e){return C(e)&&(M(e)==="[object Error]"||e instanceof Error)}function A(e){return typeof e=="function"}function O(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}function M(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=/%[sdj%]/g;n.format=function(e){if(!S(e)){var t=[];for(var n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}var n=1,r=arguments,s=r.length,o=String(e).replace(i,function(e){if(e==="%%")return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"};default:return e}});for(var a=r[n];n<s;a=r[++n])b(a)||!C(a)?o+=" "+a:o+=" "+u(a);return o},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(T(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var s={},o;n.debuglog=function(e){T(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase();if(!s[e])if((new RegExp("\\b"+e+"\\b","i")).test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=g,n.isBoolean=y,n.isNull=b,n.isNullOrUndefined=w,n.isNumber=E,n.isString=S,n.isSymbol=x,n.isUndefined=T,n.isRegExp=N,n.isObject=C,n.isDate=k,n.isError=L,n.isFunction=A,n.isPrimitive=O,n.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!C(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./support/isBuffer":123,_process:122,inherits:119}]},{},[105]);